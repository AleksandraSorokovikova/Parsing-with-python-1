<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Пиксельные отступы в текстурной развертке / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/company\/plarium\/blog\/451794\/"},"headline":"Пиксельные отступы в текстурной развертке","datePublished":"2019-05-14T15:41:09+03:00","dateModified":"2019-05-15T09:07:50+03:00","author":{"@type":"Person","name":"Plarium"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Представляем четвертую статью нашего цикла о работе с 3D-моделями в Unity. Предшествующие статьи: &laquo;Особенности работы с Mesh в Unity&raquo;, &laquo;Unity: процедурное редакт...","url":"https:\/\/habr.com\/ru\/company\/plarium\/blog\/451794\/#post-content-body","about":["c_plarium","h_3d_graphics","h_gamedev","h_unity","f_develop","f_design"],"image":["https:\/\/habrastorage.org\/webt\/u_\/fw\/mc\/u_fwmclibgkemvxya6u_lsd8tqu.jpeg","https:\/\/habrastorage.org\/webt\/lv\/s4\/xf\/lvs4xfanesl_qwgtr07wluk595a.jpeg","https:\/\/habrastorage.org\/webt\/mt\/eb\/8m\/mteb8mngbtpsqlng-3b2l0wcmna.jpeg","https:\/\/habrastorage.org\/webt\/ue\/rg\/dg\/uergdgc7zyh8upqr6g7dylw85r8.jpeg","https:\/\/habrastorage.org\/webt\/cp\/an\/su\/cpansumym7jr8f9vw-vi0w6iyj8.jpeg","https:\/\/habrastorage.org\/webt\/it\/j-\/ad\/itj-adzmk_tujolsfcrwvhd2nqc.jpeg","https:\/\/habrastorage.org\/webt\/gs\/gu\/jt\/gsgujtv5gbm9o07j7itsrsz4dzo.jpeg","https:\/\/habrastorage.org\/webt\/di\/3m\/ye\/di3myeeyussyylggsz0bnmdosbm.jpeg","https:\/\/habrastorage.org\/webt\/uv\/ru\/v7\/uvruv7eavepfqrtj-kqtah_wy_4.jpeg","https:\/\/habrastorage.org\/webt\/yv\/5t\/ot\/yv5tot5s12wlg7np6lyq6h1196q.jpeg","https:\/\/habrastorage.org\/webt\/ug\/lg\/t2\/uglgt2foiwbustrkinjapehyu2u.jpeg","https:\/\/habrastorage.org\/webt\/rp\/ei\/vb\/rpeivbpedfexfuvbdsusftpuaha.jpeg","https:\/\/habrastorage.org\/webt\/vz\/2q\/gt\/vz2qgtc62bl_gk99j3b_id2rmj0.jpeg","https:\/\/habrastorage.org\/webt\/mk\/cv\/h5\/mkcvh5g_tms3lmej2cvpere3410.jpeg","https:\/\/habrastorage.org\/webt\/d3\/ba\/en\/d3baeniweyl5_l6uxvougq6__y0.jpeg","https:\/\/habrastorage.org\/webt\/sx\/qr\/8a\/sxqr8aizers5pviq4exzz3sips0.jpeg","https:\/\/habrastorage.org\/webt\/ui\/no\/lc\/uinolcm0buuwdwuqbsoufhdkjvw.jpeg","https:\/\/habrastorage.org\/webt\/po\/up\/v_\/poupv_vzesyw1jeer6voiu4yens.jpeg"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Пиксельные отступы в текстурной развертке" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Пиксельные отступы в текстурной развертке" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Пиксельные отступы в текстурной развертке" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Представляем четвертую статью нашего цикла о работе с 3D-моделями в Unity. Предшествующие статьи: «Особенности работы с Mesh в Unity», «Unity: процедурное редактирование Mesh», «Импорт 3D-моделей в..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Представляем четвертую статью нашего цикла о работе с 3D-моделями в Unity. Предшествующие статьи: «Особенности работы с Mesh в Unity», «Unity: процедурное редактирование Mesh», «Импорт 3D-моделей в..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Представляем четвертую статью нашего цикла о работе с 3D-моделями в Unity. Предшествующие статьи: «Особенности работы с Mesh в Unity», «Unity: процедурное редактирование Mesh», «Импорт 3D-моделей в..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Представляем четвертую статью нашего цикла о работе с 3D-моделями в Unity. Предшествующие статьи: «Особенности работы с Mesh в Unity», «Unity: процедурное редактирование Mesh», «Импорт 3D-моделей в..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Представляем четвертую статью нашего цикла о работе с 3D-моделями в Unity. Предшествующие статьи: «Особенности работы с Mesh в Unity», «Unity: процедурное редактирование Mesh», «Импорт 3D-моделей в..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/451794/e8e89114cfb77ffe1ca75e935c6fcadc/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/451794/e8e89114cfb77ffe1ca75e935c6fcadc/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/451794/e8e89114cfb77ffe1ca75e935c6fcadc/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/451794/e8e89114cfb77ffe1ca75e935c6fcadc/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/451794/e8e89114cfb77ffe1ca75e935c6fcadc/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="451794" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2019-05-14T12:41:09.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/451794/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/company/plarium/blog/451794/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/451794/e8e89114cfb77ffe1ca75e935c6fcadc/" data-vmid="image:href"><link data-vue-meta="ssr" rel="amphtml" href="https://habr.com/ru/amp/post/451794/">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" companyName="plarium" data-async-called="true" class="tm-page"><div class="tm-page-width"><div class="tm-page__header"><!----></div> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"><div class="tm-company-card tm-company-article__company-card"><div class="tm-company-card__info"><div class="tm-company-card__header"><a href="/ru/company/plarium/profile/" class="tm-company-card__avatar"><div class="tm-entity-image"><img alt="" height="48" src="//habrastorage.org/getpro/habr/company/c49/af1/5de/c49af15dedd04953d6ec9c31ca7e3896.png" width="48" class="tm-entity-image__pic"></div></a> <!----> <div class="tm-rating tm-company-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">72.46</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div> <div class="tm-company-card__info"><a href="/ru/company/plarium/profile/" class="tm-company-card__name">
        Plarium
      </a> <div class="tm-company-card__description">Разработчик мобильных и браузерных игр</div></div></div> <div class="tm-company-card__buttons"><!----> <!----></div></div> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/Plarium/" title="Plarium" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/r/w32/getpro/habr/avatars/085/df8/392/085df839215d4764ba156a92b3272a7e.jpg" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/Plarium/" class="tm-user-info__username">
      Plarium
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2019-05-14T12:41:09.000Z" title="2019-05-14, 15:41">14  мая  2019 в 15:41</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Пиксельные отступы в текстурной развертке</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/company/plarium/blog/" class="tm-article-snippet__hubs-item-link router-link-active"><span>Блог компании Plarium</span> <!----></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/3d_graphics/" class="tm-article-snippet__hubs-item-link"><span>Работа с 3D-графикой</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/gamedev/" class="tm-article-snippet__hubs-item-link"><span>Разработка игр</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/unity/" class="tm-article-snippet__hubs-item-link"><span>Unity</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml"><i>Представляем четвертую статью нашего цикла о работе с 3D-моделями в Unity. Предшествующие статьи: <a href="https://habr.com/ru/company/plarium/blog/440690/">«Особенности работы с Mesh в Unity»</a>, <a href="https://habr.com/ru/company/plarium/blog/443870/">«Unity: процедурное редактирование Mesh»</a>, <a href="https://habr.com/ru/company/plarium/blog/447820/">«Импорт 3D-моделей в Unity и подводные камни»</a>.</i><br/>
<br/>
В предыдущей статье мы упомянули о проверке текстурной развертки на достаточность пиксельного отступа при заданном разрешении текстуры. В этой публикации мы опишем суть проблемы с соблюдением пиксельного отступа и алгоритм ее отслеживания. Рассмотрен будет не код, а именно принцип, который можно реализовать на любом языке и в любой среде разработки. <br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/u_/fw/mc/u_fwmclibgkemvxya6u_lsd8tqu.jpeg" data-src="https://habrastorage.org/webt/u_/fw/mc/u_fwmclibgkemvxya6u_lsd8tqu.jpeg" data-blurred="true"/><a name="habracut"></a><br/>
<br/>
<h3>Проблематика</h3><br/>
Заказ на 3D-модель, как правило, сопровождается требованием к разрешению текстуры. В связи с дискретностью растрового изображения 3D-художник должен соблюдать отступ в пикселях между частями текстурной развертки. Отсутствие необходимого отступа приводит к тому, что один и тот же пиксель отображается на модели в совершенно разных местах, когда это не нужно.<br/>
<br/>
Особенно важно отслеживать достаточный отступ на ранних этапах работы. Чаще всего созданием геометрии, включающей в себя текстурную развертку, занимаются одни люди, а рисованием текстуры — другие. Ошибка, выявленная 3D-художником, доставит меньше хлопот, чем та, которую обнаружит текстурщик. В последнем случае ситуация еще больше усложняется, если используемый 3D-пакет не предоставляет инструментов для рисования поверх геометрии (например, кисть).<br/>
<br/>
Также следует учитывать два нюанса, из-за которых между элементами развертки может понадобиться больше пространства. Первый — уменьшение разрешения текстуры при мипмаппинге. Второй — использование <b>dilation-фильтра</b> при формировании <b>карты освещения</b>. Во время выполнения задачи по созданию <b>UV</b>-развертки 3D-художнику необходимо ориентироваться на требования к разрешению текстуры, а также учитывать перечисленные нюансы. Тем не менее многие недочеты просто не заметить без автоматизированной проверки.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/lv/s4/xf/lvs4xfanesl_qwgtr07wluk595a.jpeg" data-src="https://habrastorage.org/webt/lv/s4/xf/lvs4xfanesl_qwgtr07wluk595a.jpeg" data-blurred="true"/><br/>
<i>Пример появления артефактов при снижении детализации</i><br/>
<br/>
Для простых моделей текстурная развертка может формироваться с использованием автоматических инструментов. Однако они основаны на внутренних метриках и не учитывают пиксельный отступ, поэтому разделяемые пиксели часто располагаются вдоль диагональных границ. Проверка текстурами-чекерами не показывает всех ошибок, вдобавок эти текстуры зачастую имеют большее разрешение, чем те, что будут использоваться в проекте.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/mt/eb/8m/mteb8mngbtpsqlng-3b2l0wcmna.jpeg" data-src="https://habrastorage.org/webt/mt/eb/8m/mteb8mngbtpsqlng-3b2l0wcmna.jpeg" data-blurred="true"/><br/>
<i>Разделяемые пиксели</i><br/>
<br/>
Проблема недостаточного пиксельного отступа в <b>UV</b>-развертке похожа на проблему с наложениями. В обоих случаях может происходить так называемое затекание (<b>bleeding</b>) — в <a href="https://habr.com/ru/company/plarium/blog/447820/">предыдущей статье</a> мы описали, какие артефакты это порождает. <br/>
<br/>
Однако проблема с пиксельным отступом зависит от требования к минимальному разрешению текстуры. Для определения наложений достаточно разовой проверки, тогда как требования к разрешению текстуры могут поменяться на очередном этапе разработки. Осложняется ситуация тем, что в используемых нами 3D-пакетах нет инструментов для автоматического обнаружения ошибок, связанных с близостью частей <b>UV</b>-развертки. И не стоит забывать, что после работы автоматического формирователя в <b>Unity</b> нужно еще проверять <b>UV2</b>.<br/>
<br/>
Мы решили создать инструмент, который сможет выполнять проверку на отступы в пикселях и помечать места потенциальных недочетов на модели. Требования к отступу будем определять исходя из следующих параметров:<br/>
<br/>
<ol>
<li>Базовое разрешение текстуры.</li>
<li>Минимальное разрешение текстуры, при котором не допускаются затекания. </li>
<li>Необходимая величина отступа на минимальной текстуре.</li>
</ol><br/>
Поскольку размеры используемых нами текстур равны степеням двойки, формула подсчета необходимого отступа при базовом разрешении довольно проста: (базовоеРазрешение / минимальноеРазрешение) * отступНаМинТекстуре.<br/>
<br/>
Очевидно, что решение этой задачи тесно связано с растеризацией. Для более четкой формулировки требований и разработки алгоритма мы введем несколько понятий.<br/>
<br/>
<h3>Ключевые понятия</h3><br/>
Рассмотрим <b>UV</b>-пространство и равномерную сетку размерностью NxM в диапазоне 0.0–1.0. Ячейки шириной 1/N и высотой 1/M образуют разбиение <b>UV</b>-пространства.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/ue/rg/dg/uergdgc7zyh8upqr6g7dylw85r8.jpeg" data-src="https://habrastorage.org/webt/ue/rg/dg/uergdgc7zyh8upqr6g7dylw85r8.jpeg" data-blurred="true"/><br/>
<i>NxM разбиение <b>UV</b>-пространства</i><br/>
<br/>
Возьмем две произвольные точки и обозначим Dn как количество пикселей, занимаемое проекцией на ось U отрезка, соединяющего заданные точки. Аналогично — Dm для оси V. Тогда определим <b>пиксельное расстояние</b> как максимум между Dn и Dm.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/cp/an/su/cpansumym7jr8f9vw-vi0w6iyj8.jpeg" data-src="https://habrastorage.org/webt/cp/an/su/cpansumym7jr8f9vw-vi0w6iyj8.jpeg" data-blurred="true"/><br/>
<i>Пиксельное расстояние</i><br/>
<br/>
Стоить отметить, что в евклидовом пространстве такие операции движения, как параллельный перенос и поворот, не являются движениями для сетки разбиения, если за метрику принято <b>пиксельное расстояние</b>. Этот нюанс немного усложнил разработку нашего решения.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/it/j-/ad/itj-adzmk_tujolsfcrwvhd2nqc.jpeg" data-src="https://habrastorage.org/webt/it/j-/ad/itj-adzmk_tujolsfcrwvhd2nqc.jpeg" data-blurred="true"/><br/>
<br/>
Назовем квадрат со стороной в K пикселей <b>ядром величины K</b>. Тогда любые две точки, <b>пиксельное расстояние</b> между которыми меньше K, можно покрыть ядром величины K.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/gs/gu/jt/gsgujtv5gbm9o07j7itsrsz4dzo.jpeg" data-src="https://habrastorage.org/webt/gs/gu/jt/gsgujtv5gbm9o07j7itsrsz4dzo.jpeg" data-blurred="true"/><br/>
<i>Примеры ядер разной величины</i><br/>
<br/>
Два ребра многоугольника образуют <b>вогнутость контура</b>, если их средняя точка (центр масс по четырем вершинам) лежит слева от этих ребер при обходе контура по часовой стрелке. Для обхода против часовой стрелки условием будет нахождение точки справа от ребер.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/di/3m/ye/di3myeeyussyylggsz0bnmdosbm.jpeg" data-src="https://habrastorage.org/webt/di/3m/ye/di3myeeyussyylggsz0bnmdosbm.jpeg" data-blurred="true"/><br/>
<i>Пара ребер, образующая вогнутость контура</i><br/>
<br/>
<h3>Решение</h3><br/>
Теперь поговорим непосредственно о проверке пиксельного отступа. Чтобы реализовать ее, мы придумали алгоритм, состоящий из трех независимых фрагментов. Порядок выполнения не важен. Итогом работы каждого из фрагментов является матрица NxM, представляющая собой буфер ячеек разбиения, где некоторые ячейки помечены. Сложение всех трех буферов и есть общий результат.<br/>
<br/>
Первым рассмотрим самый простой фрагмент. Он сводится к поиску ячеек, которые пересекаются с близкими к вырожденным треугольниками и ребрами, чья длина меньше стороны ядра заданной величины. Все такие ячейки помечаются в буфере.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/uv/ru/v7/uvruv7eavepfqrtj-kqtah_wy_4.jpeg" data-src="https://habrastorage.org/webt/uv/ru/v7/uvruv7eavepfqrtj-kqtah_wy_4.jpeg" data-blurred="true"/><br/>
<i>Результат проверки на размеры элементов</i><br/>
<br/>
Прежде чем описывать остальные два фрагмента, рассмотрим общую логику их работы. Оба связаны с обработкой кластеров из треугольников, называемых шеллами (<b>shells</b>) или островами (<b>islands</b>). Шелл для 3D-художника — это связный набор полигонов, то есть у каждого полигона в этом наборе имеется сосед, с которым он делит общие вершины. Также шеллом является независимый полигон. Далее под шеллом, островом и кластером будем понимать одно и то же.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/yv/5t/ot/yv5tot5s12wlg7np6lyq6h1196q.jpeg" data-src="https://habrastorage.org/webt/yv/5t/ot/yv5tot5s12wlg7np6lyq6h1196q.jpeg" data-blurred="true"/><br/>
<br/>
Чтобы найти все шеллы, используем алгоритм поиска всех компонент связности графа, где вершина графа представлена полигоном, а ребро — наличием общих вершин у пары многоугольников. Поскольку единственным полигоном в <b>Unity</b> является треугольник, определяемый индексами вершин, считаем треугольники соседними, если хотя бы один индекс вершины первого совпадает с индексом любой вершины второго. Из аналогии с графом и способа определения ребер следует, что множество индексов вершин одного кластера не пересекается со множеством вершин другого.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/ug/lg/t2/uglgt2foiwbustrkinjapehyu2u.jpeg" data-src="https://habrastorage.org/webt/ug/lg/t2/uglgt2foiwbustrkinjapehyu2u.jpeg" data-blurred="true"/><br/>
<br/>
С общей частью закончили. Второй фрагмент, который мы рассмотрим, определяет места потенциальных ошибок, связанных с близостью или наложением разных кластеров.<br/>
<br/>
На вход подается множество кластеров в виде наборов треугольников на <b>UV</b>-пространстве, размерность разбиения <b>UV</b>, соответствующая разрешению текстуры (NxM), и величина отступа P как количество пикселей. Для заданного разбиения необходимо найти те области, в которых расстояние в пикселях между кластерами меньше требуемого отступа. Ячейка в матрице-результате помечается, если она входит хотя бы в одно <b>ядро величины K = P + 1</b>, которое пересекает два разных кластера.<br/>
<br/>
Суть работы фрагмента почти изложена в описании результата. Необходимо найти все <b>ядра величины K</b>, которые пересекаются с треугольниками из разных шеллов, и затем пометить ячейки этих ядер в буфере-результате.<br/>
<br/>
В нашей реализации поочередно рассматриваются все пары кластеров. Для каждой пары определяется область пересечения множеств <b>ядер величины K</b>, покрываемых этими кластерами. Выберем некоторую пару и обозначим такое множество как Q.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/rp/ei/vb/rpeivbpedfexfuvbdsusftpuaha.jpeg" data-src="https://habrastorage.org/webt/rp/ei/vb/rpeivbpedfexfuvbdsusftpuaha.jpeg" data-blurred="true"/><br/>
<br/>
Затем все элементы Q нужно проверить по следующему критерию: пересекает ли данное ядро хотя бы по одному треугольнику в каждом из кластеров выбранной пары. Если это так, то помечаются все ячейки проверяемого ядра.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/vz/2q/gt/vz2qgtc62bl_gk99j3b_id2rmj0.jpeg" data-src="https://habrastorage.org/webt/vz/2q/gt/vz2qgtc62bl_gk99j3b_id2rmj0.jpeg" data-blurred="true"/><br/>
<br/>
Буфер с помеченными ячейками для всех пар кластеров и составляет результат.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/mk/cv/h5/mkcvh5g_tms3lmej2cvpere3410.jpeg" data-src="https://habrastorage.org/webt/mk/cv/h5/mkcvh5g_tms3lmej2cvpere3410.jpeg" data-blurred="true"/><br/>
<i>Результат проверки отступа между кластерами</i><br/>
<br/>
Теперь разберемся с последним фрагментом. Здесь необходимо обработать один кластер. На вход подается набор треугольников на <b>UV</b>-пространстве, размерность разбиения <b>UV</b>, соответствующая разрешению текстуры (NxM), и величина отступа P как количество пикселей. Ячейка может быть помечена в двух случаях: либо кластер невалидный или имеет дыры, либо расстояние в пикселях между ребрами вогнутостей меньше требуемого отступа.<br/>
<br/>
Внутренняя часть кластера нас не интересует — для начала получим его контур, представленный связным списком ребер. Соседние треугольники дублируют индексы вершин, поэтому ребро принадлежит контуру, если пара индексов его вершин уникальна для множества ребер кластера. Выяснив, какие ребра образуют контур, необходимо скомпоновать их так, чтобы получился связный список. <br/>
<br/>
Если после этого шага не все ребра контура попадают в список, то либо кластер имеет дыры, либо есть ошибка в данных меша. В таком случае необходимо соответствующим образом пометить все ячейки ядер, пересекаемых кластером.<br/>
<br/>
Если же контур найден, то обработка продолжается. Мы сформулировали следующее требование к результату. Пусть пара ребер, образующих <b>вогнутость контура</b>, пересекает <b>ядро величины K = P + 1</b>. Тогда ячейки ядра необходимо пометить, если обе части контура между ребрами выходят за пределы этого ядра.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/d3/ba/en/d3baeniweyl5_l6uxvougq6__y0.jpeg" data-src="https://habrastorage.org/webt/d3/ba/en/d3baeniweyl5_l6uxvougq6__y0.jpeg" data-blurred="true"/><br/>
<i>Результат проверки особенностей кластера</i><br/>
<br/>
Реализовать это требование мы решили через попарное сравнение ребер контура. Начинаем с условия вогнутости, затем для каждой пары проверяются все ядра, которые пересекают оба ребра. Для проверки ядра выполняются обходы каждой из частей контура между парой ребер. Если каждая часть содержит хотя бы по одной точке за границами ядра, то все ячейки ядра помечаются.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/sx/qr/8a/sxqr8aizers5pviq4exzz3sips0.jpeg" data-src="https://habrastorage.org/webt/sx/qr/8a/sxqr8aizers5pviq4exzz3sips0.jpeg" data-blurred="true"/><br/>
<i>Условие, при котором помечаются ячейки проверяемого ядра</i><br/>
<br/>
<h3>Итоги</h3><br/>
Приведенный алгоритм очень хорошо подходит для реализации с использованием параллельных вычислений. Обработка каждой пары кластеров и ребер происходит независимо. Поскольку проверки основаны на растеризации, если начинать обработку не с пар ребер, а с ядер, то целесообразно использовать возможности <b>GPU</b>.<br/>
<br/>
Результат работы алгоритма мы преобразуем в текстуру. Для заданного разрешения это позволяет графически показать места потенциальных недочетов в <b>UV</b>-развертке. Также полученную текстуру можно наложить на модель, чтобы увидеть пометки прямо на геометрии.<br/>
<br/>
На примерах ниже мы специально разрезали кролика и Сюзанну автоматическим инструментом <b>Blender</b> так, чтобы получить побольше артефактов. Проверяемое разрешение текстуры — 256х256, необходимый отступ — 1.<br/>
<br/>
Ячейки, помеченные синим, покрывают кластеры с дырами, а также слишком мелкие треугольники и ребра. Зеленым обозначены ячейки ядер с особенностями каждого кластера в отдельности. Красным помечены ядра, в которых не соблюдается отступ между кластерами.<br/>
<br/>
<div class="spoiler"><b class="spoiler_title">Примеры</b><div class="spoiler_text"><img src="https://habrastorage.org/r/w780q1/webt/ui/no/lc/uinolcm0buuwdwuqbsoufhdkjvw.jpeg" data-src="https://habrastorage.org/webt/ui/no/lc/uinolcm0buuwdwuqbsoufhdkjvw.jpeg" data-blurred="true"/><br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/po/up/v_/poupv_vzesyw1jeer6voiu4yens.jpeg" data-src="https://habrastorage.org/webt/po/up/v_/poupv_vzesyw1jeer6voiu4yens.jpeg" data-blurred="true"/><br/>
</div></div><br/>
В следующей статье мы рассмотрим алгоритм оптимизации 3D-моделей в сцене за счет удаления невидимой геометрии. Оставайтесь с нами!</div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0%20%D0%B8%D0%B3%D1%80%5D" class="tm-tags-list__link">разработка игр</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B0%20%D0%B4%D0%BB%D1%8F%20%D0%B8%D0%B3%D1%80%5D" class="tm-tags-list__link">графика для игр</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B3d%20%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B0%5D" class="tm-tags-list__link">3d графика</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B3d%20graphics%5D" class="tm-tags-list__link">3d graphics</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bunity3d%5D" class="tm-tags-list__link">unity3d</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Buv%5D" class="tm-tags-list__link">uv</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%82%D0%B5%D0%BA%D1%81%D1%82%D1%83%D1%80%D1%8B%5D" class="tm-tags-list__link">текстуры</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Btexture%5D" class="tm-tags-list__link">texture</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BA%D0%BE%D0%BC%D0%BF%D1%8C%D1%8E%D1%82%D0%B5%D1%80%D0%BD%D0%B0%D1%8F%20%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D0%BA%D0%B0%5D" class="tm-tags-list__link">компьютерная графика</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bcomputer%20graphics%5D" class="tm-tags-list__link">computer graphics</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/company/plarium/blog/" class="tm-hubs-list__link router-link-active">
    Блог компании Plarium
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/3d_graphics/" class="tm-hubs-list__link">
    Работа с 3D-графикой
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/gamedev/" class="tm-hubs-list__link">
    Разработка игр
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/unity/" class="tm-hubs-list__link">
    Unity
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 10: ↑10 и ↓0</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 10: ↑10 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+10</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">4.7K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    52
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"><div class="tm-article-author__company"><div class="tm-article-author__company-card"><div class="tm-company-snippet"><a href="/ru/company/plarium/profile/" class="tm-company-snippet__logo-link"><div class="tm-entity-image"><img alt="" height="40" src="//habrastorage.org/getpro/habr/company/c49/af1/5de/c49af15dedd04953d6ec9c31ca7e3896.png" width="40" class="tm-entity-image__pic"></div></a> <div class="tm-company-snippet__info"><a href="/ru/company/plarium/profile/" class="tm-company-snippet__title">Plarium</a> <div class="tm-company-snippet__description">Разработчик мобильных и браузерных игр</div></div></div> <div class="tm-article-author__buttons"><!----> <!----></div></div> <div class="tm-article-author__company-contacts"><a href="http://company.plarium.com/" rel="noopener" target="_blank" class="tm-article-author__contact">
      Сайт
    </a><a href="https://vk.com/plarium" rel="noopener" target="_blank" class="tm-article-author__contact">
      ВКонтакте
    </a><a href="https://instagram.com/plarium" rel="noopener" target="_blank" class="tm-article-author__contact">
      Instagram
    </a></div> <div class="tm-article-author__separator"></div></div> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/Plarium/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/085/df8/392/085df839215d4764ba156a92b3272a7e.jpg" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 177 голосов " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    23
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">0</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><!----> <a href="/ru/users/Plarium/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @Plarium
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">Разработчик</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/company/plarium/blog/451794/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментировать 
    </span></a> <!----></div></div></div>  <!---->  <!----> <!----></div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__placeholder_initial"></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <section class="tm-block tm-block_spacing-bottom"><header class="tm-block__header"><h2 class="tm-block__title">Информация</h2> <!----></header> <div class="tm-block__body"><div class="tm-company-basic-info"><dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Дата основания</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap"><span>
      2009
    </span></dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Местоположение</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap">
    Израиль
  </dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Сайт</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap"><a href="http://company.plarium.com/" target="_blank" class="tm-company-basic-info__link">
      company.plarium.com
    </a></dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Численность</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap">
    1 001–5 000 человек
  </dd></dl> <dl class="tm-description-list tm-description-list_variant-columns-nowrap"><dt class="tm-description-list__title tm-description-list__title_variant-columns-nowrap">Дата регистрации</dt> <dd class="tm-description-list__body tm-description-list__body_variant-columns-nowrap"><time datetime="2014-03-25T09:20:21.000Z" title="2014-03-25, 13:20">25  марта  2014</time></dd></dl> <!----></div></div> <!----></section> <div class="tm-company-widgets"></div> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/company/plarium/blog/451794/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/company/plarium/blog/451794/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"451794":{"id":"451794","timePublished":"2019-05-14T12:41:09+00:00","isCorporative":true,"lang":"ru","titleHtml":"Пиксельные отступы в текстурной развертке","leadData":{"textHtml":"\u003Ci\u003EПредставляем четвертую статью нашего цикла о работе с 3D-моделями в Unity. Предшествующие статьи: \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fplarium\u002Fblog\u002F440690\u002F\"\u003E«Особенности работы с Mesh в Unity»\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fplarium\u002Fblog\u002F443870\u002F\"\u003E«Unity: процедурное редактирование Mesh»\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fplarium\u002Fblog\u002F447820\u002F\"\u003E«Импорт 3D-моделей в Unity и подводные камни»\u003C\u002Fa\u003E.\u003C\u002Fi\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ предыдущей статье мы упомянули о проверке текстурной развертки на достаточность пиксельного отступа при заданном разрешении текстуры. В этой публикации мы опишем суть проблемы с соблюдением пиксельного отступа и алгоритм ее отслеживания. Рассмотрен будет не код, а именно принцип, который можно реализовать на любом языке и в любой среде разработки. \u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fu_\u002Ffw\u002Fmc\u002Fu_fwmclibgkemvxya6u_lsd8tqu.jpeg\"\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше →","image":null},"editorVersion":"1.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":23,"votesCount":177},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"1094094","alias":"Plarium","fullname":null,"avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F085\u002Fdf8\u002F392\u002F085df839215d4764ba156a92b3272a7e.jpg","speciality":"Разработчик"},"statistics":{"commentsCount":0,"favoritesCount":52,"readingCount":4677,"score":10,"votesCount":10},"hubs":[{"relatedData":null,"id":"18925","alias":"plarium","type":"corporative","title":"Блог компании Plarium","titleHtml":"Блог компании Plarium","isProfiled":false},{"relatedData":null,"id":"643","alias":"3d_graphics","type":"collective","title":"Работа с 3D-графикой","titleHtml":"Работа с 3D-графикой","isProfiled":true},{"relatedData":null,"id":"7773","alias":"gamedev","type":"collective","title":"Разработка игр","titleHtml":"Разработка игр","isProfiled":true},{"relatedData":null,"id":"17831","alias":"unity","type":"collective","title":"Unity","titleHtml":"Unity","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"2","alias":"design","title":"Дизайн"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Ci\u003EПредставляем четвертую статью нашего цикла о работе с 3D-моделями в Unity. Предшествующие статьи: \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fplarium\u002Fblog\u002F440690\u002F\"\u003E«Особенности работы с Mesh в Unity»\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fplarium\u002Fblog\u002F443870\u002F\"\u003E«Unity: процедурное редактирование Mesh»\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fplarium\u002Fblog\u002F447820\u002F\"\u003E«Импорт 3D-моделей в Unity и подводные камни»\u003C\u002Fa\u003E.\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ предыдущей статье мы упомянули о проверке текстурной развертки на достаточность пиксельного отступа при заданном разрешении текстуры. В этой публикации мы опишем суть проблемы с соблюдением пиксельного отступа и алгоритм ее отслеживания. Рассмотрен будет не код, а именно принцип, который можно реализовать на любом языке и в любой среде разработки. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fu_\u002Ffw\u002Fmc\u002Fu_fwmclibgkemvxya6u_lsd8tqu.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fu_\u002Ffw\u002Fmc\u002Fu_fwmclibgkemvxya6u_lsd8tqu.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EПроблематика\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nЗаказ на 3D-модель, как правило, сопровождается требованием к разрешению текстуры. В связи с дискретностью растрового изображения 3D-художник должен соблюдать отступ в пикселях между частями текстурной развертки. Отсутствие необходимого отступа приводит к тому, что один и тот же пиксель отображается на модели в совершенно разных местах, когда это не нужно.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОсобенно важно отслеживать достаточный отступ на ранних этапах работы. Чаще всего созданием геометрии, включающей в себя текстурную развертку, занимаются одни люди, а рисованием текстуры — другие. Ошибка, выявленная 3D-художником, доставит меньше хлопот, чем та, которую обнаружит текстурщик. В последнем случае ситуация еще больше усложняется, если используемый 3D-пакет не предоставляет инструментов для рисования поверх геометрии (например, кисть).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТакже следует учитывать два нюанса, из-за которых между элементами развертки может понадобиться больше пространства. Первый — уменьшение разрешения текстуры при мипмаппинге. Второй — использование \u003Cb\u003Edilation-фильтра\u003C\u002Fb\u003E при формировании \u003Cb\u003Eкарты освещения\u003C\u002Fb\u003E. Во время выполнения задачи по созданию \u003Cb\u003EUV\u003C\u002Fb\u003E-развертки 3D-художнику необходимо ориентироваться на требования к разрешению текстуры, а также учитывать перечисленные нюансы. Тем не менее многие недочеты просто не заметить без автоматизированной проверки.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Flv\u002Fs4\u002Fxf\u002Flvs4xfanesl_qwgtr07wluk595a.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Flv\u002Fs4\u002Fxf\u002Flvs4xfanesl_qwgtr07wluk595a.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003EПример появления артефактов при снижении детализации\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля простых моделей текстурная развертка может формироваться с использованием автоматических инструментов. Однако они основаны на внутренних метриках и не учитывают пиксельный отступ, поэтому разделяемые пиксели часто располагаются вдоль диагональных границ. Проверка текстурами-чекерами не показывает всех ошибок, вдобавок эти текстуры зачастую имеют большее разрешение, чем те, что будут использоваться в проекте.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fmt\u002Feb\u002F8m\u002Fmteb8mngbtpsqlng-3b2l0wcmna.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fmt\u002Feb\u002F8m\u002Fmteb8mngbtpsqlng-3b2l0wcmna.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003EРазделяемые пиксели\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПроблема недостаточного пиксельного отступа в \u003Cb\u003EUV\u003C\u002Fb\u003E-развертке похожа на проблему с наложениями. В обоих случаях может происходить так называемое затекание (\u003Cb\u003Ebleeding\u003C\u002Fb\u003E) — в \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fcompany\u002Fplarium\u002Fblog\u002F447820\u002F\"\u003Eпредыдущей статье\u003C\u002Fa\u003E мы описали, какие артефакты это порождает. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОднако проблема с пиксельным отступом зависит от требования к минимальному разрешению текстуры. Для определения наложений достаточно разовой проверки, тогда как требования к разрешению текстуры могут поменяться на очередном этапе разработки. Осложняется ситуация тем, что в используемых нами 3D-пакетах нет инструментов для автоматического обнаружения ошибок, связанных с близостью частей \u003Cb\u003EUV\u003C\u002Fb\u003E-развертки. И не стоит забывать, что после работы автоматического формирователя в \u003Cb\u003EUnity\u003C\u002Fb\u003E нужно еще проверять \u003Cb\u003EUV2\u003C\u002Fb\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМы решили создать инструмент, который сможет выполнять проверку на отступы в пикселях и помечать места потенциальных недочетов на модели. Требования к отступу будем определять исходя из следующих параметров:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EБазовое разрешение текстуры.\u003C\u002Fli\u003E\r\n\u003Cli\u003EМинимальное разрешение текстуры, при котором не допускаются затекания. \u003C\u002Fli\u003E\r\n\u003Cli\u003EНеобходимая величина отступа на минимальной текстуре.\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003Cbr\u002F\u003E\r\nПоскольку размеры используемых нами текстур равны степеням двойки, формула подсчета необходимого отступа при базовом разрешении довольно проста: (базовоеРазрешение \u002F минимальноеРазрешение) * отступНаМинТекстуре.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОчевидно, что решение этой задачи тесно связано с растеризацией. Для более четкой формулировки требований и разработки алгоритма мы введем несколько понятий.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EКлючевые понятия\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nРассмотрим \u003Cb\u003EUV\u003C\u002Fb\u003E-пространство и равномерную сетку размерностью NxM в диапазоне 0.0–1.0. Ячейки шириной 1\u002FN и высотой 1\u002FM образуют разбиение \u003Cb\u003EUV\u003C\u002Fb\u003E-пространства.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fue\u002Frg\u002Fdg\u002Fuergdgc7zyh8upqr6g7dylw85r8.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fue\u002Frg\u002Fdg\u002Fuergdgc7zyh8upqr6g7dylw85r8.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003ENxM разбиение \u003Cb\u003EUV\u003C\u002Fb\u003E-пространства\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВозьмем две произвольные точки и обозначим Dn как количество пикселей, занимаемое проекцией на ось U отрезка, соединяющего заданные точки. Аналогично — Dm для оси V. Тогда определим \u003Cb\u003Eпиксельное расстояние\u003C\u002Fb\u003E как максимум между Dn и Dm.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fcp\u002Fan\u002Fsu\u002Fcpansumym7jr8f9vw-vi0w6iyj8.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fcp\u002Fan\u002Fsu\u002Fcpansumym7jr8f9vw-vi0w6iyj8.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003EПиксельное расстояние\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСтоить отметить, что в евклидовом пространстве такие операции движения, как параллельный перенос и поворот, не являются движениями для сетки разбиения, если за метрику принято \u003Cb\u003Eпиксельное расстояние\u003C\u002Fb\u003E. Этот нюанс немного усложнил разработку нашего решения.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fit\u002Fj-\u002Fad\u002Fitj-adzmk_tujolsfcrwvhd2nqc.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fit\u002Fj-\u002Fad\u002Fitj-adzmk_tujolsfcrwvhd2nqc.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНазовем квадрат со стороной в K пикселей \u003Cb\u003Eядром величины K\u003C\u002Fb\u003E. Тогда любые две точки, \u003Cb\u003Eпиксельное расстояние\u003C\u002Fb\u003E между которыми меньше K, можно покрыть ядром величины K.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fgs\u002Fgu\u002Fjt\u002Fgsgujtv5gbm9o07j7itsrsz4dzo.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fgs\u002Fgu\u002Fjt\u002Fgsgujtv5gbm9o07j7itsrsz4dzo.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003EПримеры ядер разной величины\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДва ребра многоугольника образуют \u003Cb\u003Eвогнутость контура\u003C\u002Fb\u003E, если их средняя точка (центр масс по четырем вершинам) лежит слева от этих ребер при обходе контура по часовой стрелке. Для обхода против часовой стрелки условием будет нахождение точки справа от ребер.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fdi\u002F3m\u002Fye\u002Fdi3myeeyussyylggsz0bnmdosbm.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fdi\u002F3m\u002Fye\u002Fdi3myeeyussyylggsz0bnmdosbm.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003EПара ребер, образующая вогнутость контура\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EРешение\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nТеперь поговорим непосредственно о проверке пиксельного отступа. Чтобы реализовать ее, мы придумали алгоритм, состоящий из трех независимых фрагментов. Порядок выполнения не важен. Итогом работы каждого из фрагментов является матрица NxM, представляющая собой буфер ячеек разбиения, где некоторые ячейки помечены. Сложение всех трех буферов и есть общий результат.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПервым рассмотрим самый простой фрагмент. Он сводится к поиску ячеек, которые пересекаются с близкими к вырожденным треугольниками и ребрами, чья длина меньше стороны ядра заданной величины. Все такие ячейки помечаются в буфере.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fuv\u002Fru\u002Fv7\u002Fuvruv7eavepfqrtj-kqtah_wy_4.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fuv\u002Fru\u002Fv7\u002Fuvruv7eavepfqrtj-kqtah_wy_4.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003EРезультат проверки на размеры элементов\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПрежде чем описывать остальные два фрагмента, рассмотрим общую логику их работы. Оба связаны с обработкой кластеров из треугольников, называемых шеллами (\u003Cb\u003Eshells\u003C\u002Fb\u003E) или островами (\u003Cb\u003Eislands\u003C\u002Fb\u003E). Шелл для 3D-художника — это связный набор полигонов, то есть у каждого полигона в этом наборе имеется сосед, с которым он делит общие вершины. Также шеллом является независимый полигон. Далее под шеллом, островом и кластером будем понимать одно и то же.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fyv\u002F5t\u002Fot\u002Fyv5tot5s12wlg7np6lyq6h1196q.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fyv\u002F5t\u002Fot\u002Fyv5tot5s12wlg7np6lyq6h1196q.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЧтобы найти все шеллы, используем алгоритм поиска всех компонент связности графа, где вершина графа представлена полигоном, а ребро — наличием общих вершин у пары многоугольников. Поскольку единственным полигоном в \u003Cb\u003EUnity\u003C\u002Fb\u003E является треугольник, определяемый индексами вершин, считаем треугольники соседними, если хотя бы один индекс вершины первого совпадает с индексом любой вершины второго. Из аналогии с графом и способа определения ребер следует, что множество индексов вершин одного кластера не пересекается со множеством вершин другого.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fug\u002Flg\u002Ft2\u002Fuglgt2foiwbustrkinjapehyu2u.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fug\u002Flg\u002Ft2\u002Fuglgt2foiwbustrkinjapehyu2u.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nС общей частью закончили. Второй фрагмент, который мы рассмотрим, определяет места потенциальных ошибок, связанных с близостью или наложением разных кластеров.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНа вход подается множество кластеров в виде наборов треугольников на \u003Cb\u003EUV\u003C\u002Fb\u003E-пространстве, размерность разбиения \u003Cb\u003EUV\u003C\u002Fb\u003E, соответствующая разрешению текстуры (NxM), и величина отступа P как количество пикселей. Для заданного разбиения необходимо найти те области, в которых расстояние в пикселях между кластерами меньше требуемого отступа. Ячейка в матрице-результате помечается, если она входит хотя бы в одно \u003Cb\u003Eядро величины K = P + 1\u003C\u002Fb\u003E, которое пересекает два разных кластера.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСуть работы фрагмента почти изложена в описании результата. Необходимо найти все \u003Cb\u003Eядра величины K\u003C\u002Fb\u003E, которые пересекаются с треугольниками из разных шеллов, и затем пометить ячейки этих ядер в буфере-результате.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ нашей реализации поочередно рассматриваются все пары кластеров. Для каждой пары определяется область пересечения множеств \u003Cb\u003Eядер величины K\u003C\u002Fb\u003E, покрываемых этими кластерами. Выберем некоторую пару и обозначим такое множество как Q.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Frp\u002Fei\u002Fvb\u002Frpeivbpedfexfuvbdsusftpuaha.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Frp\u002Fei\u002Fvb\u002Frpeivbpedfexfuvbdsusftpuaha.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЗатем все элементы Q нужно проверить по следующему критерию: пересекает ли данное ядро хотя бы по одному треугольнику в каждом из кластеров выбранной пары. Если это так, то помечаются все ячейки проверяемого ядра.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fvz\u002F2q\u002Fgt\u002Fvz2qgtc62bl_gk99j3b_id2rmj0.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fvz\u002F2q\u002Fgt\u002Fvz2qgtc62bl_gk99j3b_id2rmj0.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nБуфер с помеченными ячейками для всех пар кластеров и составляет результат.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fmk\u002Fcv\u002Fh5\u002Fmkcvh5g_tms3lmej2cvpere3410.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fmk\u002Fcv\u002Fh5\u002Fmkcvh5g_tms3lmej2cvpere3410.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003EРезультат проверки отступа между кластерами\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТеперь разберемся с последним фрагментом. Здесь необходимо обработать один кластер. На вход подается набор треугольников на \u003Cb\u003EUV\u003C\u002Fb\u003E-пространстве, размерность разбиения \u003Cb\u003EUV\u003C\u002Fb\u003E, соответствующая разрешению текстуры (NxM), и величина отступа P как количество пикселей. Ячейка может быть помечена в двух случаях: либо кластер невалидный или имеет дыры, либо расстояние в пикселях между ребрами вогнутостей меньше требуемого отступа.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВнутренняя часть кластера нас не интересует — для начала получим его контур, представленный связным списком ребер. Соседние треугольники дублируют индексы вершин, поэтому ребро принадлежит контуру, если пара индексов его вершин уникальна для множества ребер кластера. Выяснив, какие ребра образуют контур, необходимо скомпоновать их так, чтобы получился связный список. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕсли после этого шага не все ребра контура попадают в список, то либо кластер имеет дыры, либо есть ошибка в данных меша. В таком случае необходимо соответствующим образом пометить все ячейки ядер, пересекаемых кластером.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕсли же контур найден, то обработка продолжается. Мы сформулировали следующее требование к результату. Пусть пара ребер, образующих \u003Cb\u003Eвогнутость контура\u003C\u002Fb\u003E, пересекает \u003Cb\u003Eядро величины K = P + 1\u003C\u002Fb\u003E. Тогда ячейки ядра необходимо пометить, если обе части контура между ребрами выходят за пределы этого ядра.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fd3\u002Fba\u002Fen\u002Fd3baeniweyl5_l6uxvougq6__y0.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fd3\u002Fba\u002Fen\u002Fd3baeniweyl5_l6uxvougq6__y0.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003EРезультат проверки особенностей кластера\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРеализовать это требование мы решили через попарное сравнение ребер контура. Начинаем с условия вогнутости, затем для каждой пары проверяются все ядра, которые пересекают оба ребра. Для проверки ядра выполняются обходы каждой из частей контура между парой ребер. Если каждая часть содержит хотя бы по одной точке за границами ядра, то все ячейки ядра помечаются.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fsx\u002Fqr\u002F8a\u002Fsxqr8aizers5pviq4exzz3sips0.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fsx\u002Fqr\u002F8a\u002Fsxqr8aizers5pviq4exzz3sips0.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003EУсловие, при котором помечаются ячейки проверяемого ядра\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EИтоги\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nПриведенный алгоритм очень хорошо подходит для реализации с использованием параллельных вычислений. Обработка каждой пары кластеров и ребер происходит независимо. Поскольку проверки основаны на растеризации, если начинать обработку не с пар ребер, а с ядер, то целесообразно использовать возможности \u003Cb\u003EGPU\u003C\u002Fb\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРезультат работы алгоритма мы преобразуем в текстуру. Для заданного разрешения это позволяет графически показать места потенциальных недочетов в \u003Cb\u003EUV\u003C\u002Fb\u003E-развертке. Также полученную текстуру можно наложить на модель, чтобы увидеть пометки прямо на геометрии.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНа примерах ниже мы специально разрезали кролика и Сюзанну автоматическим инструментом \u003Cb\u003EBlender\u003C\u002Fb\u003E так, чтобы получить побольше артефактов. Проверяемое разрешение текстуры — 256х256, необходимый отступ — 1.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЯчейки, помеченные синим, покрывают кластеры с дырами, а также слишком мелкие треугольники и ребра. Зеленым обозначены ячейки ядер с особенностями каждого кластера в отдельности. Красным помечены ядра, в которых не соблюдается отступ между кластерами.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EПримеры\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fui\u002Fno\u002Flc\u002Fuinolcm0buuwdwuqbsoufhdkjvw.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fui\u002Fno\u002Flc\u002Fuinolcm0buuwdwuqbsoufhdkjvw.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fpo\u002Fup\u002Fv_\u002Fpoupv_vzesyw1jeer6voiu4yens.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fpo\u002Fup\u002Fv_\u002Fpoupv_vzesyw1jeer6voiu4yens.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nВ следующей статье мы рассмотрим алгоритм оптимизации 3D-моделей в сцене за счет удаления невидимой геометрии. Оставайтесь с нами!\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"разработка игр"},{"titleHtml":"графика для игр"},{"titleHtml":"3d графика"},{"titleHtml":"3d graphics"},{"titleHtml":"unity3d"},{"titleHtml":"uv"},{"titleHtml":"текстуры"},{"titleHtml":"texture"},{"titleHtml":"компьютерная графика"},{"titleHtml":"computer graphics"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F451794\u002Fe8e89114cfb77ffe1ca75e935c6fcadc\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F451794\u002Fe8e89114cfb77ffe1ca75e935c6fcadc\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fcompany\\\u002Fplarium\\\u002Fblog\\\u002F451794\\\u002F\"},\"headline\":\"Пиксельные отступы в текстурной развертке\",\"datePublished\":\"2019-05-14T15:41:09+03:00\",\"dateModified\":\"2019-05-15T09:07:50+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Plarium\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Представляем четвертую статью нашего цикла о работе с 3D-моделями в Unity. Предшествующие статьи: &laquo;Особенности работы с Mesh в Unity&raquo;, &laquo;Unity: процедурное редакт...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fcompany\\\u002Fplarium\\\u002Fblog\\\u002F451794\\\u002F#post-content-body\",\"about\":[\"c_plarium\",\"h_3d_graphics\",\"h_gamedev\",\"h_unity\",\"f_develop\",\"f_design\"],\"image\":[\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fu_\\\u002Ffw\\\u002Fmc\\\u002Fu_fwmclibgkemvxya6u_lsd8tqu.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Flv\\\u002Fs4\\\u002Fxf\\\u002Flvs4xfanesl_qwgtr07wluk595a.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fmt\\\u002Feb\\\u002F8m\\\u002Fmteb8mngbtpsqlng-3b2l0wcmna.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fue\\\u002Frg\\\u002Fdg\\\u002Fuergdgc7zyh8upqr6g7dylw85r8.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fcp\\\u002Fan\\\u002Fsu\\\u002Fcpansumym7jr8f9vw-vi0w6iyj8.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fit\\\u002Fj-\\\u002Fad\\\u002Fitj-adzmk_tujolsfcrwvhd2nqc.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fgs\\\u002Fgu\\\u002Fjt\\\u002Fgsgujtv5gbm9o07j7itsrsz4dzo.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fdi\\\u002F3m\\\u002Fye\\\u002Fdi3myeeyussyylggsz0bnmdosbm.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fuv\\\u002Fru\\\u002Fv7\\\u002Fuvruv7eavepfqrtj-kqtah_wy_4.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fyv\\\u002F5t\\\u002Fot\\\u002Fyv5tot5s12wlg7np6lyq6h1196q.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fug\\\u002Flg\\\u002Ft2\\\u002Fuglgt2foiwbustrkinjapehyu2u.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Frp\\\u002Fei\\\u002Fvb\\\u002Frpeivbpedfexfuvbdsusftpuaha.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fvz\\\u002F2q\\\u002Fgt\\\u002Fvz2qgtc62bl_gk99j3b_id2rmj0.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fmk\\\u002Fcv\\\u002Fh5\\\u002Fmkcvh5g_tms3lmej2cvpere3410.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fd3\\\u002Fba\\\u002Fen\\\u002Fd3baeniweyl5_l6uxvougq6__y0.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fsx\\\u002Fqr\\\u002F8a\\\u002Fsxqr8aizers5pviq4exzz3sips0.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fui\\\u002Fno\\\u002Flc\\\u002Fuinolcm0buuwdwuqbsoufhdkjvw.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fpo\\\u002Fup\\\u002Fv_\\\u002Fpoupv_vzesyw1jeer6voiu4yens.jpeg\"]}","metaDescription":"Представляем четвертую статью нашего цикла о работе с 3D-моделями в Unity. Предшествующие статьи: «Особенности работы с Mesh в Unity», «Unity: процедурное редактирование Mesh», «Импорт 3D-моделей в...","mainImageUrl":null,"amp":true},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":""},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{"plarium":{"alias":"plarium","imageUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fcompany\u002Fc49\u002Faf1\u002F5de\u002Fc49af15dedd04953d6ec9c31ca7e3896.png","titleHtml":"Plarium","descriptionHtml":"Разработчик мобильных и браузерных игр","relatedData":null,"statistics":{"postsCount":305,"newsCount":0,"vacanciesCount":6,"employeesCount":24,"careerRating":null,"subscribersCount":58413,"rating":72.46,"invest":null},"foundationDate":{"year":"2009","month":"03","day":null},"location":{"city":{"id":"150887","title":"Герцлия"},"region":{"id":"1997","title":"Тель-Авив"},"country":{"id":"77","title":"Израиль"}},"siteUrl":"http:\u002F\u002Fcompany.plarium.com\u002F","staffNumber":"1 001–5 000 человек","registrationDate":"2014-03-25T09:20:21+00:00","representativeUser":null,"contacts":[{"title":"Сайт","url":"http:\u002F\u002Fcompany.plarium.com\u002F"},{"title":"ВКонтакте","url":"https:\u002F\u002Fvk.com\u002Fplarium"},{"title":"Instagram","url":"https:\u002F\u002Finstagram.com\u002Fplarium"}],"settings":{"analyticsSettings":[{"type":"ga","trackingId":"UA-124605492-1"}],"branding":null,"status":"active"},"metadata":{"titleHtml":"Plarium, Герцлия - Разработчик мобильных и браузерных игр с март 2009 года","title":"Plarium, Герцлия - Разработчик мобильных и браузерных игр с март 2009 года","keywords":["Разработка игр","Игры и игровые приставки","IT-компании","Копирайт","Аналитика мобильных приложений"],"descriptionHtml":"305 статей от авторов компании Plarium","description":"305 статей от авторов компании Plarium"},"aDeskSettings":null,"careerAlias":"plarium-url","maxCustomTrackerLinks":0}},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
