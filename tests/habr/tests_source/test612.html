<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Почему векторная графика 2D намного сложнее, чем 3D / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/451394\/"},"headline":"Почему векторная графика 2D намного сложнее, чем 3D","datePublished":"2019-05-12T12:48:32+03:00","dateModified":"2019-05-12T23:07:34+03:00","author":{"@type":"Person","name":"Анатолий Ализар"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"В последнее время появилось много фантастических исследований по 2D-рендерингу. Пётр Кобаличек и Фабиан Айзерман работают над Blend2D: это один из самых быстрых...","url":"https:\/\/habr.com\/ru\/post\/451394\/#post-content-body","about":["h_typography","h_vector_graphics","h_image_processing","h_history","f_develop","f_design","f_popsci"],"image":["https:\/\/habr.com\/share\/publication\/451394\/31622a98f9b2ab0976fe9e4f1af18d59\/"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Почему векторная графика 2D намного сложнее, чем 3D" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Почему векторная графика 2D намного сложнее, чем 3D" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Почему векторная графика 2D намного сложнее, чем 3D" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="В последнее время появилось много фантастических исследований по 2D-рендерингу. Пётр Кобаличек и Фабиан Айзерман работают над Blend2D: это один из самых быстрых и точных CPU-растеризаторов на рынке, с..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="В последнее время появилось много фантастических исследований по 2D-рендерингу. Пётр Кобаличек и Фабиан Айзерман работают над Blend2D: это один из самых быстрых и точных CPU-растеризаторов на рынке, с..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="В последнее время появилось много фантастических исследований по 2D-рендерингу. Пётр Кобаличек и Фабиан Айзерман работают над Blend2D: это один из самых быстрых и точных CPU-растеризаторов на рынке, с..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="В последнее время появилось много фантастических исследований по 2D-рендерингу. Пётр Кобаличек и Фабиан Айзерман работают над Blend2D: это один из самых быстрых и точных CPU-растеризаторов на рынке, с..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="В последнее время появилось много фантастических исследований по 2D-рендерингу. Пётр Кобаличек и Фабиан Айзерман работают над Blend2D: это один из самых быстрых и точных CPU-растеризаторов на рынке, с..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/451394/31622a98f9b2ab0976fe9e4f1af18d59/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/451394/31622a98f9b2ab0976fe9e4f1af18d59/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/451394/31622a98f9b2ab0976fe9e4f1af18d59/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/451394/31622a98f9b2ab0976fe9e4f1af18d59/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/451394/31622a98f9b2ab0976fe9e4f1af18d59/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="451394" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2019-05-12T09:48:32.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/451394/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/451394/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/451394/31622a98f9b2ab0976fe9e4f1af18d59/" data-vmid="image:href">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/m1rko/" title="m1rko" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/r/w32/getpro/habr/avatars/4ec/bd0/85d/4ecbd085d692835a931d03174ff19539.png" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/m1rko/" class="tm-user-info__username">
      m1rko
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2019-05-12T09:48:32.000Z" title="2019-05-12, 12:48">12  мая  2019 в 12:48</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Почему векторная графика 2D намного сложнее, чем 3D</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/typography/" class="tm-article-snippet__hubs-item-link"><span>Типографика</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/vector_graphics/" class="tm-article-snippet__hubs-item-link"><span>Работа с векторной графикой</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/image_processing/" class="tm-article-snippet__hubs-item-link"><span>Обработка изображений</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/history/" class="tm-article-snippet__hubs-item-link"><span>История IT</span> <!----></a></span></div> <div class="tm-article-snippet__labels"><div class="tm-article-snippet__label"><span>
        Перевод
      </span></div></div> <!----> <!----></div></div> <div class="tm-article-presenter__origin"><a href="https://blog.mecheye.net/2019/05/why-is-2d-graphics-is-harder-than-3d-graphics/" target="_blank" class="tm-article-presenter__origin-link">
                Автор оригинала:
                <span>
                  Jasper St. Pierre
                </span></a></div> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml">В последнее время появилось много фантастических исследований по 2D-рендерингу. Пётр Кобаличек и Фабиан Айзерман работают над <a href="https://blend2d.com/">Blend2D</a>: это один из самых быстрых и точных CPU-растеризаторов на рынке, с инновационной техникой JIT. Патрик Уолтон из Mozilla изучил не один, а <a href="https://github.com/pcwalton/pathfinder/wiki/Related-approaches">три разных подхода в Pathfinder</a>, кульминацией чего стал Pathfinder v3. Раф Левиен построил <a href="https://github.com/linebender/piet-metal">вычислительный конвейер</a> по технологии, описанной в <a href="http://w3.impa.br/~diego/projects/GanEtAl14/">научной статье Гана с коллегами о векторных текстурах (2014)</a>. Похоже, некое дальнейшее развитие получают поля расстояний со знаком: здесь независимо работают <a href="https://twitter.com/adamjsimmons/status/730911372532322304">Адам Симмонс</a> и <a href="https://www.merl.com/publications/docs/TR2000-15.pdf">Сара Фрискен</a>.<br/>
<br/>
Кто-то может спросить: а почему вокруг 2D так много шума? Это ведь не может быть намного сложнее, чем 3D, верно? 3D — совершенно другое измерение! Тут у нас на носу трассировка лучей в режиме реального времени с точным освещением, а вы не можете осилить невзрачную 2D-графику со сплошными цветами?<br/>
<br/>
Для тех, кто не очень хорошо разбирается в деталях современного GPU, это вправду очень удивительно! Но в 2D-графике множество уникальных ограничений, которые чрезвычайно её усложняют. К тому же она не поддаётся параллелизации. Давайте прогуляемся по исторической дорожке, которая нас сюда привела.<br/>
<a name="habracut"></a><br/>
<h3>Взлёт PostScript</h3><br/>
В начале был плоттер. Первое графическое устройство, способное взаимодействовать с компьютером, называлось «<a href="http://www.hpmuseum.net/display_item.php?hw=82">плоттер</a>» (графопостроитель): одно или несколько перьев, способных передвигаться по бумаге. Всё работает <a href="https://www.youtube.com/watch?v=zyp68emXMZM">по команде «перо-вниз», затем чертёжная головка перемещается неким уникальным способом, возможно, по кривой, и поступает команда «перо-вверх»</a>. HP, производитель некоторых из самых ранних плоттеров, на управляющем компьютере использовал вариант BASIC под названием AGL, который затем отправлял команды плоттеру на другом языке, типа <a href="https://en.wikipedia.org/wiki/HP-GL">HP-GL</a>. В 1970-е годы всё дешевле и популярнее становились графические терминалы, начиная с <a href="https://en.wikipedia.org/wiki/Tektronix_4010">Tektronix 4010</a>. Он показывал изображение с помощью ЭЛТ, но не обманывайтесь: это не пиксельный дисплей. Tektronix пришёл из индустрии аналоговых осциллографов, и эти машины работают, <a href="https://www.youtube.com/watch?v=tpD1QXvtlcg">управляя электронным пучком по определённому пути</a>. Таким образом, у Tektronix 4010 не было пиксельного вывода. Вместо этого вы посылали ему команды в <a href="http://vt100.net/docs/vt3xx-gp/chapter13.html#S13.14">простом графическом режиме</a>, который мог рисовать линии, но, опять же, в режиме «перо вниз», «перо вверх».<br/>
<br/>
Как и во многих других областях, всё изменило изобретение Xerox PARC. Исследователи начали разрабатывать новый тип принтера, более вычислительно выразительный, чем плоттер. Этот новый принтер работал на маленьком стековом тьюринг-полном языке программирования, похожем на Forth, и назвали его… <a href="https://en.wikipedia.org/wiki/Interpress">Interpress</a>! Очевидно, Xerox не смогла найти ему достойное применение, поэтому изобретатели покинули корабль и основали маленький стартап под названием Adobe. Они взяли с собой Interpress, а по мере исправления и улучшений тот изменился до неузнаваемости, так что ему дали другое название: PostScript. Помимо милого, тьюринг-полного стекового языка, в четвёртой главе оригинального справочного руководства <a href="http://www.adobe.com/content/dam/acom/en/devnet/actionscript/articles/PLRM.pdf">PostScript Language Reference</a> описана Imaging Model, которая почти идентична современным программным интерфейсам. Пример 4.1 из руководства содержит пример кода, который можно почти построчно перевести на HTML5 &lt;canvas>.<br/>
<br/>
<pre><code class="xml">/box {                  function box() {
    newpath                 ctx.beginPath();
    0 0 moveto              ctx.moveTo(0, 0);
    0 1 lineto              ctx.lineTo(0, 1);
    1 1 lineto              ctx.lineTo(1, 1);
    1 0 lineto              ctx.lineTo(1, 0);
    closepath               ctx.closePath();
} def                   }
                         
gsave                   ctx.save();
72 72 scale             ctx.scale(72, 72);
box fill                box(); ctx.fill();
2 2 translate           ctx.translate(2, 2);
box fill                box(); ctx.fill();
grestore                ctx.restore();</code></pre><br/>
Это не совпадение.<br/>
<br/>
Стив Джобс из Apple познакомился с инженерами Interpress во время своего визита в PARC. Джобс думал, что полиграфический бизнес будет прибыльным, и пытался купить Adobe ещё при рождении. Но Adobe выдвинула встречное предложение и в конечном итоге продала Apple пятилетнюю лицензию на PostScript. Третьим столпом в плане Джобса было финансирование небольшого стартапа Aldus, который делал WYSIWYG-приложение для создания PostScript-документов. Оно называлось PageMaker. В начале 1985 года Apple выпустила первый принтер, совместимый с PostScript — Apple LaserWriter. Сочетание Macintosh, PageMaker и LaserWriter мгновенно перевернуло полиграфическую индустрию с ног на голову, а новый хит «настольные издательские системы» укрепил за PostScript его место в истории. Основной конкурент Hewlett-Packard в итоге тоже купил лицензию на PostScript для серии конкурирующих принтеров LaserJet. Это случилось в 1991 году после давления со стороны потребителей.<br/>
<br/>
PostScript медленно перешёл из языка управления принтером в формат файла. Умные программисты изучили, в каком виде команды PostScript отправляются на принтер — и начали создавать документы PostScript вручную, добавив в свои документы диаграммы, графики и рисунки, при этом PostScript использовался для вывода графики на дисплей. Возник спрос на графику вне принтера! Adobe это заметила и быстро выпустила формат <a href="https://en.wikipedia.org/wiki/Encapsulated_PostScript">Encapsulated PostScript</a>, который представлял собой не более чем несколько специально отформатированных комментариев PostScript с метаданными о размере изображения и ограничениями на использование принтерных команд, таких как “page feed”. В том же 1985 году Adobe начала разработку Illustrator — приложения, где художники работали в формате Encapsulated PostScript в удобном UI. Затем эти файлы можно было перенести в текстовый процессор, который создавал… документы PostScript для отправки на принтеры PostScript. Весь мир перешёл на PostScript, и Adobe не могла быть ещё счастливее. Когда Microsoft работала над Windows 1.0 и хотела создать собственный графический API для разработчиков, основной целью было сделать его совместимым с существующими принтерами, чтобы графика отправлялась на принтеры так же легко, как экран. Этот API в конечном итоге выпустили как <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/dd145203(v=vs.85).aspx">GDI</a> — основной компонент, используемый каждым инженером во время стремительного роста популярности Windows в 90-е годы. Поколения программистов на платформе Windows начали неосознанно отождествлять векторную графику 2D с моделью изображений PostScript, закрепив за ней этот статус де-факто.<br/>
<br/>
Единственной серьёзной проблемой PostScript была тьюринг-полнота: просмотр 86-й страницы документа означает сначала запуск скрипта для страниц 1-85. И это может быть медленно. Adobe узнала об этой жалобе пользователей и решила создать новый формат документов, у которого не было таких ограничений, его назвали “Portable Document Format” или для краткости “PDF”. Из него выбросили язык программирования, но графическая технология осталась прежней. Цитата из <a href="http://www.adobe.com/content/dam/acom/en/devnet/acrobat/pdfs/pdf_reference_1-7.pdf#page=34">спецификаций PDF, глава 2.1, «Модель изображения»</a>:<br/>
<br/>
<blockquote>В основе PDF лежит его способность описывать внешний вид сложной графики и типографики. Эта возможность достигается за счёт использования модели изображений Adobe, того же высокоуровневого, независимого от устройства представления, которое используется в языке описания страниц PostScript.</blockquote><br/>
Когда консорциум W3C рассматривал претендентов на язык разметки 2D-графики в интернете, Adobe отстаивала <a href="https://www.w3.org/TR/1998/NOTE-PGML-19980410">PGML</a> на основе XML, в основе которого лежала графическая модель PostScript:<br/>
<br/>
<blockquote>PGML должен включать в себя модель изображений PDF/PostScript, чтобы гарантировать возможность масштабируемой 2D-графики, которая удовлетворяет потребностям как обычных пользователей, так и профессионалов графики.</blockquote><br/>
Конкурирующий формат <a href="https://www.w3.org/TR/NOTE-VML">VML</a> от Microsoft был основан на GDI, который, как мы знаем, основан на PostScript. Два конкурирующих предложения, которые по-прежнему представляли собой по сути PostScript, объединили вместе, так что W3C принял стандарт «масштабируемой векторной графики» (SVG), который мы знаем и любим сегодня.<br/>
<br/>
Даже если он стар, давайте не будем притворяться, что инновации PostScript, принесённые в этот мир — что-то меньшее, чем технологическое чудо. У PostScript-принтера LaserWriter от Apple процессор был вдвое мощнее, чем у Macintosh, который его контролировал, просто для интерпретации PostScript и растеризации векторных путей до точек на бумаге. Это может показаться чрезмерным, но если вы уже покупали модный принтер с <i>лазером</i> внутри, то не нужно удивляться дорогому процессору. В своём первом воплощении PostScript изобрёл довольно сложную модель визуализации со всеми функциями, которые мы сегодня считаем само собой разумеющимися. Какая самая мощная, потрясающая особенность? Шрифты. В то время шрифты рисовались от руки линейкой и транспортиром и отливались на плёнку для <a href="https://en.wikipedia.org/wiki/Phototypesetting">фотохимической печати</a>. В 1977 году Дональд Кнут показал миру, на что способна его система <a href="https://en.wikipedia.org/wiki/Metafont">METAFONT</a>, которую он представил вместе с текстовым редактором TeX, но она не прижилась. Она требовала от пользователя математического описания шрифтов, используя кисти и кривые. Большинство разработчиков шрифтов не хотели это изучать. А причудливые изгибы при малых размерах превращались в месиво: у принтеров того времени не было достаточного разрешения, поэтому буквы расплывались и сливались друг с другом. PostScript предложил новое решение: алгоритм «привязки» очертаний к более грубым сеткам, которыми оперировали принтеры. Это известно как «подгонка сетки» (grid-fitting). Чтобы предотвратить слишком большое искажение геометрии, они позволили шрифтам устанавливать «подсказки», какие части геометрии являются наиболее важными и что следует сохранить.<br/>
<br/>
Оригинальная бизнес-модель Adobe заключалась в том, чтобы продавать разработчикам принтеров эту технологию шрифтов и продавать издателям специальные воссозданные шрифты с добавленными подсказками, поэтому Adobe по сей день продаёт свои версии <a href="http://www.myfonts.com/fonts/adobe/times/">Times</a> и <a href="http://www.myfonts.com/fonts/adobe/futura/">Futura</a>. Кстати, это возможно, потому что шрифты, или, более формально, «гарнитуры», являются одной из <a href="https://www.ecfr.gov/cgi-bin/text-idx?node=se37.1.202_11">пяти вещей, явно исключённых из закона США об авторском праве</a>, поскольку их изначально обозначили как «слишком простые или утилитарные, чтобы быть творческими работами». Вместо этого защищается авторским правом <i>цифровая программа</i>, которая воспроизводит шрифт на экране. Таким образом, чтобы люди не могли копировать шрифты Adobe и добавлять свои собственные, формат <a href="https://www-cdf.fnal.gov/offline/PostScript/T1_SPEC.PDF">Type 1 Font</a> изначально был собственностью Adobe и содержал код «шифрования шрифтов». Только PostScript от Adobe мог интерпретировать шрифты Type 1, и только в них была реализована фирменная технология хинтов, которая обеспечивает чёткость на малых размерах.<br/>
<br/>
Подгонка сетки, кстати, стала настолько популярной, что когда Microsoft и Apple устали платить лицензионные сборы Adobe, то изобрели альтернативный метод для своего альтернативного формата шрифтов <a href="https://developer.apple.com/fonts/TrueType-Reference-Manual/">TrueType</a>. Вместо того, чтобы указывать декларативные «подсказки», TrueType даёт автору шрифта <a href="https://developer.apple.com/fonts/TrueType-Reference-Manual/RM03/Chap3.html">полноценный тьюринг-полный стековый язык</a>, чтобы автор мог контролировать все аспекты подгонки сетки (избегая патентов Adobe на декларативные хинты). Много лет бушевала война между форматами Adobe Type 1 и TrueType, а разработчики шрифтов застряли посередине, предоставляя пользователям оба формата. В конце концов, индустрия достигла компромисса: <a href="https://www.microsoft.com/en-us/Typography/OpenTypeSpecification.aspx">OpenType</a>. Но вместо того, чтобы реально определить победителя, они просто плюхнули обе спецификации в один формат файла. Adobe теперь зарабатывала не на продаже шрифтов Type 1, а на программах Photoshop и Illustrator, так что удалила шифровальную часть, доработала формат и представила шрифты <a href="http://www.adobe.com/content/dam/Adobe/en/devnet/font/pdfs/5176.CFF.pdf">CFF</a> / Type 2, которые целиком вошли в OpenType как <a href="https://www.microsoft.com/typography/otspec/cff.htm">таблица cff</a>. С другой стороны, TrueType вставили в качестве <a href="https://www.microsoft.com/typography/otspec/otff.htm#ttTables">glyf</a> и других таблиц. Хотя и несколько уродливый, но OpenType вроде бы выполнял работу для пользователей, в основном, брал их измором: просто требуйте, чтобы всё программное обеспечение поддерживало оба типа шрифтов, потому что OpenType требует, чтобы вы поддерживали оба типа шрифтов.<br/>
<br/>
Конечно, мы вынуждены спросить: если не PostScript, то что вместо него? Стоит рассмотреть и другие варианты. Ранее упомянутый METAFONT не использовал строго определённые очертания литер (filled paths). Вместо этого Кнут, в типичной своей манере, в статье <a href="http://www.math.lsa.umich.edu/~millerpd/docs/501_Winter13/Knuth79.pdf">«Математическая типографика»</a> предложил для типографики математическую концепцию, которая «наиболее приятна». Вы указываете несколько точек, и какой-то алгоритм находит через них правильную «наиболее приятную» кривую. Можете накладывать эти очертания поверх друг на друга: определить какое-то из них как «перо», а затем «перетащить перо» через какую-то другую линию. Кнут, в глубине души учёный-компьютерщик, ввёл даже рекурсию. Его студент Джон Хобби разработал и реализовал алгоритмы <a href="http://i.stanford.edu/pub/cstr/reports/cs/tr/85/1047/CS-TR-85-1047.pdf">вычисления «самой приятной кривой»</a>, <a href="http://ect.bell-labs.com/who/hobby/thesis.pdf">наложения вложенных путей</a> <i>и</i> <a href="http://ect.bell-labs.com/who/hobby/87_2-04.pdf">растеризации таких кривых</a>. Для дополнительной информации о METAFONT, кривых и истории типографики в целом <i>настоятельно</i> рекомендую книгу <a href="http://shop.oreilly.com/product/9780596102425.do">«Шрифты и кодировки»</a>, а также <a href="http://ect.bell-labs.com/who/hobby/Publications.shtml">статьи Джона Хобби</a>.<br/>
<br/>
К счастью, возобновившийся интерес к исследованиям 2D-графики означал, что сплайны Кнута и Хобби не полностью забыли. Хотя они определённо заумные и нетрадиционные, но они недавно пробрались в <a href="https://bosker.wordpress.com/2013/11/13/beyond-bezier-curves/">Apple iWork Suite</a>, и являются там типом сплайна по умолчанию.<br/>
<br/>
<h3>Взлёт треугольников</h3><br/>
Не слишком вдаваясь в математические дебри, на высоком уровне мы называем такие подходы, как кривые Безье и сплайны Хобби, <a href="https://en.wikipedia.org/wiki/Implicit_curve">неявными кривыми</a>, потому что они указаны как математическая функция, которая генерирует кривую. Они хорошо смотрятся на любом разрешении, что отлично подходит для 2D-изображений, предназначенных для масштабирования.<br/>
<br/>
2D-графика поддержала импульс вокруг этих неявных кривых, которые почти обязательны при моделировании глифов. Аппаратное и программное обеспечение для вычисления этих путей в режиме реального времени было дорогим, но из полиграфической промышленности пришёл большой толчок для векторной графики, а большая часть остального существующего промышленного оборудования уже была намного дороже, чем лазерный принтер с причудливым процессором.<br/>
<br/>
Однако 3D-графика пошла совсем по другому маршруту. С самого начала почти универсальным подходом было использование многоугольников (полигонов), которые часто <a href="https://www.computerhistory.org/revolution/computer-graphics-music-and-art/15/206/560">вручную размечались</a> и <a href="https://www.computerhistory.org/revolution/computer-graphics-music-and-art/15/206/556">вручную вводились в компьютер</a>. Впрочем, такой подход не был универсальным. 3D-эквивалент неявной кривой — это <a href="https://en.wikipedia.org/wiki/Implicit_surface">неявная поверхность</a>, состоящая из основных геометрических примитивов, таких как сферы, цилиндры и кубы. Идеальная сфера с бесконечным разрешением может быть представлена простым уравнением, поэтому <a href="https://www.youtube.com/watch?v=lAD6Obi7Cag">на заре развития 3D для геометрии она была явно предпочтительнее полигонов</a>. Одна из немногих компаний, которые разрабатывали графику с неявными поверхностями, была <a href="https://en.wikipedia.org/wiki/Mathematical_Applications_Group">MAGI</a>. В сочетании с умным художественным использованием процедурных текстур они выиграли контракт с Disney на дизайн «светового мотоцикла» для фильма «Трон» 1982 года. К сожалению, этот подход быстро сошёл на нет. Благодаря ускорению CPU и исследованию таких проблем, как «удаление скрытой поверхности», стремительно росло количество треугольников, которые вы могли бы отобразить в сцене, а для сложных фигур художникам было намного проще думать о полигонах и вершинах, которые можно щёлкнуть и перетащить, а не использовать комбинации кубов и цилиндров.<br/>
<br/>
Это не означает, что неявные поверхности не использовались в <i>процессе</i> моделирования. Техники вроде <a href="https://en.wikipedia.org/wiki/Catmull%E2%80%93Clark_subdivision_surface">алгоритма Кэтмелла — Кларка</a> к началу 80-х годов стали общепринятым отраслевым стандартом, позволяя художникам создавать гладкие, органичные простые геометрические формы. Хотя до начала 2000-х годов алгоритм Кэтмелла — Кларка даже не определялся как «неявная поверхность», которую можно вычислить с помощью уравнения. Тогда это рассматривалось как итерационный алгоритм: способ разделения полигонов на ещё большее количество полигонов.<br/>
<br/>
Треугольники захватили мир, и за ними последовали инструменты для создания 3D-контента. Новые разработчики и дизайнеры видеоигр и спецэффектов в фильмах обучались исключительно на программах моделирования с полигональными сетками, таких как Maya, 3DS Max и Softimage. Когда в конце 80-х годов на сцене появились «ускорители 3D-графики» (GPU), их разработали специально для ускорения существующего контента: треугольников. Хотя в ранних проектах GPU, таких как <a href="https://en.wikipedia.org/wiki/NV1">NVIDIA NV1</a>, имелась ограниченная аппаратная поддержка кривых, но она глючила, и её быстро убрали из линейки продуктов.<br/>
<br/>
Эта культура в основном распространяется на то, что мы видим сегодня. Доминирующая модель 2D-изображений PostScript началась с продукта, который мог отображать кривые в «реальном времени». В то же время 3D-индустрия игнорировала кривые, с которыми трудно работать, а вместо этого полагалась на автономные решения для предварительного преобразования кривых в треугольники.<br/>
<br/>
<h2>Неявные поверхности возвращаются</h2><br/>
Но почему неявные кривые 2D можно было просчитывать в режиме реального времени на принтере в 80-е годы, и те же самые неявные кривые 3D по-прежнему сильно глючат в начале 2000-х? Ну, алгоритм Кэтмелла — Кларка намного сложнее, чем кривая Безье. Кривые Безье в 3D известны как B-сплайны, и они хорошо вычислимы, но есть недостаток, что они ограничивают способы соединения сетки. Поверхности вроде Кэтмелла — Кларка и NURBS допускают произвольно связанные сетки для расширения возможностей художников, но это может привести к полиномам больше четвёртой степени, которые, <a href="https://en.wikipedia.org/wiki/Abel%E2%80%93Ruffini_theorem">как правило, не имеют аналитического решения</a>. Вместо этого вы получаете аппроксимации, основанные на разделении полигонов, как это делается в <a href="http://graphics.pixar.com/opensubdiv/docs/intro.html">OpenSubdiv</a> от Pixar. Если кто-то когда-либо найдет аналитическое решение для поиска корней Кэтмелла — Кларка или NURBS, компания Autodesk много ему заплатит. По сравнению с ними треугольники кажутся намного приятнее: просто вычислите <a href="https://fgiesen.wordpress.com/2013/02/06/the-barycentric-conspirac/">три линейных уравнения на плоскости</a>, и у вас есть лёгкий ответ.<br/>
<br/>
… Но что, если нам не нужно точное решение? Именно таким вопросом задался графический разработчик <a href="https://www.iquilezles.org/index.html">Иньиго Кильес</a>, когда проводил исследования неявных поверхностей. Решение? Поля расстояний со знаком (signed distance fields, SDF). Вместо выдачи точной точки пересечения с поверхностью они говорят, как далеко вы находитесь от неё. Аналогично разнице между аналитически вычисленным интегралом и интегралом Эйлера, если у вас есть расстояние до ближайшего объекта, вы можете «маршировать» по сцене, в любой заданной точке спрашивая, как далеко вы находитесь, и проходя это расстояние. Такие поверхности вдохнули совершенно новую жизнь в индустрию через демосцену и сообщества вроде Shadertoy. Хак старой техники моделирования MAGI приносит нам невероятные находки, такие как <a href="https://www.shadertoy.com/view/ldd3DX">Surfer Boy</a> от Кильеса, рассчитанный с бесконечной точностью как неявная поверхность. Вам не нужно искать алгебраические корни Surfer Boy, вы просто чувствуете, как проходит сцена.<br/>
<br/>
Конечно, проблема в том, что сотворить Surfer Boy способен <i>только</i> гений вроде Кильеса. Ещё нет инструментов для геометрии SDF, весь код пишется вручную. Тем не менее, учитывая захватывающее возрождение неявных поверхностей и естественные формы кривых, теперь к этой технике много интереса. Игра MediaMolecule <a href="https://www.playstation.com/en-us/games/dreams-ps4/">Dreams</a> на PS4 — это набор для создания контента, основанный на комбинировании неявных поверхностей. В <a href="http://advances.realtimerendering.com/s2015/AlexEvans_SIGGRAPH-2015-sml.pdf">процессе разрушается и создаётся заново большая часть традиционной графики</a>. Это многообещающий подход, а инструменты интуитивно понятны и интересны. <a href="https://www.oculus.com/medium">Oculus Medium</a> и <a href="http://on-demand.gputechconf.com/gtc/2017/presentation/s7777-florian-hoenig-a-road-to-3d-for-everyone.pdf">unbound.io</a> тоже провели хорошие исследования по этой проблеме. Это определённо многообещающий взгляд на то, как может выглядеть будущее 3D-графики и инструментов следующего поколения.<br/>
<br/>
Но некоторые из этих подходов меньше подходят для 2D, чем вы могли бы подумать. В общих игровых 3D-сценах, как правило, продвинутые материалы и текстуры, но мало расчётов геометрии, на что сразу указывают многие критики и <a href="https://www.youtube.com/watch?v=00gAbgBu8R4">продавцы сомнительных продуктов</a>. Это означает, что нам меньше требуется сглаживание, поскольку силуэты не так важны. Подходы вроде 4x MSAA могут подойти для многих игр, но для маленьких шрифтов со сплошными цветами вы вместо <a href="https://magcius.github.io/xplain/article/rast1.html#antialiasing">16 фиксированных выборочных местоположений</a> скорее вычислите <a href="http://nothings.org/gamedev/rasterize/">точную площадь под кривой</a> для каждого пикселя, что даст вам столько разрешения, сколько хотите.<br/>
<br/>
Вращение экрана в 3D-игре вызывает эффекты, похожие на <a href="https://en.wikipedia.org/wiki/Saccadic_masking">саккадическое подавление</a>, поскольку мозг перенастраивается на новый вид. Во многих играх это помогает скрыть артефакты в эффектах постобработки, таких как <a href="https://twitter.com/CypherSignal/status/793631118209781760">временное сглаживание</a>, на которые сильно полагаются Dreams и unbound.io, чтобы получить хорошую производительность сцены. И наоборот, в типичной 2D-сцене у нас нет этой роскоши перспективы, поэтому попытка использовать её заставит глифы и формы кипеть и дрожать с этими артефактами по полной программе. На 2D смотрят иначе, и ожидания выше. При масштабировании, панорамировании и прокрутке важна стабильность.<br/>
<br/>
Ни один из этих эффектов невозможно реализовать на GPU, но они показывают радикальный отход от “3D” контента, с другими приоритетами. В конечном счёте, рендеринг 2D-графики сложен, потому что речь идёт о формах — точных буквах и символах, а не о материалах и освещении, у которых в основном сплошной цвет. Графические ускорители в результате эволюции решили не обсчитывать неявную геометрию реального времени, такую как кривые, а вместо этого сконцентрировались на всём, что происходит внутри этих кривых. Возможно, если бы PostScript не победил, у нас была бы 2D-модель изображения без кривых Безье в качестве основного требования для реального времени. Возможно, в таком мире вместо треугольников бы использовались лучшие геометрические представления, инструменты создания контента сосредоточились на 3D-сплайнах, а GPU поддерживали кривые реального времени на аппаратном уровне. В конце концов, всегда забавно помечтать.</div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5BPostScript%5D" class="tm-tags-list__link">PostScript</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BD%D0%B5%D1%8F%D0%B2%D0%BD%D1%8B%D0%B5%20%D0%BA%D1%80%D0%B8%D0%B2%D1%8B%D0%B5%5D" class="tm-tags-list__link">неявные кривые</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BD%D0%B5%D1%8F%D0%B2%D0%BD%D1%8B%D0%B5%20%D0%BF%D0%BE%D0%B2%D0%B5%D1%80%D1%85%D0%BD%D0%BE%D1%81%D1%82%D0%B8%5D" class="tm-tags-list__link">неявные поверхности</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BA%D1%80%D0%B8%D0%B2%D1%8B%D0%B5%20%D0%91%D0%B5%D0%B7%D1%8C%D0%B5%5D" class="tm-tags-list__link">кривые Безье</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BF%D0%BE%D0%BB%D0%B8%D0%B3%D0%BE%D0%BD%D1%8B%5D" class="tm-tags-list__link">полигоны</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BF%D0%BE%D0%BB%D1%8F%20%D1%80%D0%B0%D1%81%D1%81%D1%82%D0%BE%D1%8F%D0%BD%D0%B8%D0%B9%20%D1%81%D0%BE%20%D0%B7%D0%BD%D0%B0%D0%BA%D0%BE%D0%BC%5D" class="tm-tags-list__link">поля расстояний со знаком</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bsigned%20distance%20fields%5D" class="tm-tags-list__link">signed distance fields</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5BSDF%5D" class="tm-tags-list__link">SDF</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5BOculus%20Medium%5D" class="tm-tags-list__link">Oculus Medium</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5BTeX%5D" class="tm-tags-list__link">TeX</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/hub/typography/" class="tm-hubs-list__link">
    Типографика
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/vector_graphics/" class="tm-hubs-list__link">
    Работа с векторной графикой
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/image_processing/" class="tm-hubs-list__link">
    Обработка изображений
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/history/" class="tm-hubs-list__link">
    История IT
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 32: ↑25 и ↓7</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 32: ↑25 и ↓7" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+18</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">17K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    106
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/m1rko/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/4ec/bd0/85d/4ecbd085d692835a931d03174ff19539.png" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 1501 голос " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    1229.5
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">0</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><span class="tm-user-card__name tm-user-card__name_variant-article">Анатолий Ализар</span> <a href="/ru/users/m1rko/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @m1rko
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">автор, переводчик, редактор</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/451394/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 25 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <!----> <!----> <!----> <!----> </div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/451394/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/451394/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"451394":{"id":"451394","timePublished":"2019-05-12T09:48:32+00:00","isCorporative":false,"lang":"ru","titleHtml":"Почему векторная графика 2D намного сложнее, чем 3D","leadData":{"textHtml":"В последнее время появилось много фантастических исследований по 2D-рендерингу. Пётр Кобаличек и Фабиан Айзерман работают над \u003Ca href=\"https:\u002F\u002Fblend2d.com\u002F\"\u003EBlend2D\u003C\u002Fa\u003E: это один из самых быстрых и точных CPU-растеризаторов на рынке, с инновационной техникой JIT. Патрик Уолтон из Mozilla изучил не один, а \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fpcwalton\u002Fpathfinder\u002Fwiki\u002FRelated-approaches\"\u003Eтри разных подхода в Pathfinder\u003C\u002Fa\u003E, кульминацией чего стал Pathfinder v3. Раф Левиен построил \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Flinebender\u002Fpiet-metal\"\u003Eвычислительный конвейер\u003C\u002Fa\u003E по технологии, описанной в \u003Ca href=\"http:\u002F\u002Fw3.impa.br\u002F~diego\u002Fprojects\u002FGanEtAl14\u002F\"\u003Eнаучной статье Гана с коллегами о векторных текстурах (2014)\u003C\u002Fa\u003E. Похоже, некое дальнейшее развитие получают поля расстояний со знаком: здесь независимо работают \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fadamjsimmons\u002Fstatus\u002F730911372532322304\"\u003EАдам Симмонс\u003C\u002Fa\u003E и \u003Ca href=\"https:\u002F\u002Fwww.merl.com\u002Fpublications\u002Fdocs\u002FTR2000-15.pdf\"\u003EСара Фрискен\u003C\u002Fa\u003E.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nКто-то может спросить: а почему вокруг 2D так много шума? Это ведь не может быть намного сложнее, чем 3D, верно? 3D — совершенно другое измерение! Тут у нас на носу трассировка лучей в режиме реального времени с точным освещением, а вы не можете осилить невзрачную 2D-графику со сплошными цветами?\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nДля тех, кто не очень хорошо разбирается в деталях современного GPU, это вправду очень удивительно! Но в 2D-графике множество уникальных ограничений, которые чрезвычайно её усложняют. К тому же она не поддаётся параллелизации. Давайте прогуляемся по исторической дорожке, которая нас сюда привела.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше →","image":null},"editorVersion":"1.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Jasper St. Pierre","originalUrl":"https:\u002F\u002Fblog.mecheye.net\u002F2019\u002F05\u002Fwhy-is-2d-graphics-is-harder-than-3d-graphics\u002F"}}],"author":{"scoreStats":{"score":1229.5,"votesCount":1501},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"1371978","alias":"m1rko","fullname":"Анатолий Ализар","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F4ec\u002Fbd0\u002F85d\u002F4ecbd085d692835a931d03174ff19539.png","speciality":"автор, переводчик, редактор"},"statistics":{"commentsCount":25,"favoritesCount":106,"readingCount":17469,"score":18,"votesCount":32},"hubs":[{"relatedData":null,"id":"348","alias":"typography","type":"collective","title":"Типографика","titleHtml":"Типографика","isProfiled":true},{"relatedData":null,"id":"449","alias":"vector_graphics","type":"collective","title":"Работа с векторной графикой","titleHtml":"Работа с векторной графикой","isProfiled":true},{"relatedData":null,"id":"17175","alias":"image_processing","type":"collective","title":"Обработка изображений","titleHtml":"Обработка изображений","isProfiled":true},{"relatedData":null,"id":"21906","alias":"history","type":"collective","title":"История IT","titleHtml":"История IT","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"2","alias":"design","title":"Дизайн"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EВ последнее время появилось много фантастических исследований по 2D-рендерингу. Пётр Кобаличек и Фабиан Айзерман работают над \u003Ca href=\"https:\u002F\u002Fblend2d.com\u002F\"\u003EBlend2D\u003C\u002Fa\u003E: это один из самых быстрых и точных CPU-растеризаторов на рынке, с инновационной техникой JIT. Патрик Уолтон из Mozilla изучил не один, а \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fpcwalton\u002Fpathfinder\u002Fwiki\u002FRelated-approaches\"\u003Eтри разных подхода в Pathfinder\u003C\u002Fa\u003E, кульминацией чего стал Pathfinder v3. Раф Левиен построил \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Flinebender\u002Fpiet-metal\"\u003Eвычислительный конвейер\u003C\u002Fa\u003E по технологии, описанной в \u003Ca href=\"http:\u002F\u002Fw3.impa.br\u002F~diego\u002Fprojects\u002FGanEtAl14\u002F\"\u003Eнаучной статье Гана с коллегами о векторных текстурах (2014)\u003C\u002Fa\u003E. Похоже, некое дальнейшее развитие получают поля расстояний со знаком: здесь независимо работают \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fadamjsimmons\u002Fstatus\u002F730911372532322304\"\u003EАдам Симмонс\u003C\u002Fa\u003E и \u003Ca href=\"https:\u002F\u002Fwww.merl.com\u002Fpublications\u002Fdocs\u002FTR2000-15.pdf\"\u003EСара Фрискен\u003C\u002Fa\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКто-то может спросить: а почему вокруг 2D так много шума? Это ведь не может быть намного сложнее, чем 3D, верно? 3D — совершенно другое измерение! Тут у нас на носу трассировка лучей в режиме реального времени с точным освещением, а вы не можете осилить невзрачную 2D-графику со сплошными цветами?\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля тех, кто не очень хорошо разбирается в деталях современного GPU, это вправду очень удивительно! Но в 2D-графике множество уникальных ограничений, которые чрезвычайно её усложняют. К тому же она не поддаётся параллелизации. Давайте прогуляемся по исторической дорожке, которая нас сюда привела.\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EВзлёт PostScript\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nВ начале был плоттер. Первое графическое устройство, способное взаимодействовать с компьютером, называлось «\u003Ca href=\"http:\u002F\u002Fwww.hpmuseum.net\u002Fdisplay_item.php?hw=82\"\u003Eплоттер\u003C\u002Fa\u003E» (графопостроитель): одно или несколько перьев, способных передвигаться по бумаге. Всё работает \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=zyp68emXMZM\"\u003Eпо команде «перо-вниз», затем чертёжная головка перемещается неким уникальным способом, возможно, по кривой, и поступает команда «перо-вверх»\u003C\u002Fa\u003E. HP, производитель некоторых из самых ранних плоттеров, на управляющем компьютере использовал вариант BASIC под названием AGL, который затем отправлял команды плоттеру на другом языке, типа \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FHP-GL\"\u003EHP-GL\u003C\u002Fa\u003E. В 1970-е годы всё дешевле и популярнее становились графические терминалы, начиная с \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FTektronix_4010\"\u003ETektronix 4010\u003C\u002Fa\u003E. Он показывал изображение с помощью ЭЛТ, но не обманывайтесь: это не пиксельный дисплей. Tektronix пришёл из индустрии аналоговых осциллографов, и эти машины работают, \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=tpD1QXvtlcg\"\u003Eуправляя электронным пучком по определённому пути\u003C\u002Fa\u003E. Таким образом, у Tektronix 4010 не было пиксельного вывода. Вместо этого вы посылали ему команды в \u003Ca href=\"http:\u002F\u002Fvt100.net\u002Fdocs\u002Fvt3xx-gp\u002Fchapter13.html#S13.14\"\u003Eпростом графическом режиме\u003C\u002Fa\u003E, который мог рисовать линии, но, опять же, в режиме «перо вниз», «перо вверх».\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКак и во многих других областях, всё изменило изобретение Xerox PARC. Исследователи начали разрабатывать новый тип принтера, более вычислительно выразительный, чем плоттер. Этот новый принтер работал на маленьком стековом тьюринг-полном языке программирования, похожем на Forth, и назвали его… \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FInterpress\"\u003EInterpress\u003C\u002Fa\u003E! Очевидно, Xerox не смогла найти ему достойное применение, поэтому изобретатели покинули корабль и основали маленький стартап под названием Adobe. Они взяли с собой Interpress, а по мере исправления и улучшений тот изменился до неузнаваемости, так что ему дали другое название: PostScript. Помимо милого, тьюринг-полного стекового языка, в четвёртой главе оригинального справочного руководства \u003Ca href=\"http:\u002F\u002Fwww.adobe.com\u002Fcontent\u002Fdam\u002Facom\u002Fen\u002Fdevnet\u002Factionscript\u002Farticles\u002FPLRM.pdf\"\u003EPostScript Language Reference\u003C\u002Fa\u003E описана Imaging Model, которая почти идентична современным программным интерфейсам. Пример 4.1 из руководства содержит пример кода, который можно почти построчно перевести на HTML5 &lt;canvas\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"xml\"\u003E\u002Fbox {                  function box() {\n    newpath                 ctx.beginPath();\n    0 0 moveto              ctx.moveTo(0, 0);\n    0 1 lineto              ctx.lineTo(0, 1);\n    1 1 lineto              ctx.lineTo(1, 1);\n    1 0 lineto              ctx.lineTo(1, 0);\n    closepath               ctx.closePath();\n} def                   }\n                         \ngsave                   ctx.save();\n72 72 scale             ctx.scale(72, 72);\nbox fill                box(); ctx.fill();\n2 2 translate           ctx.translate(2, 2);\nbox fill                box(); ctx.fill();\ngrestore                ctx.restore();\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nЭто не совпадение.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСтив Джобс из Apple познакомился с инженерами Interpress во время своего визита в PARC. Джобс думал, что полиграфический бизнес будет прибыльным, и пытался купить Adobe ещё при рождении. Но Adobe выдвинула встречное предложение и в конечном итоге продала Apple пятилетнюю лицензию на PostScript. Третьим столпом в плане Джобса было финансирование небольшого стартапа Aldus, который делал WYSIWYG-приложение для создания PostScript-документов. Оно называлось PageMaker. В начале 1985 года Apple выпустила первый принтер, совместимый с PostScript — Apple LaserWriter. Сочетание Macintosh, PageMaker и LaserWriter мгновенно перевернуло полиграфическую индустрию с ног на голову, а новый хит «настольные издательские системы» укрепил за PostScript его место в истории. Основной конкурент Hewlett-Packard в итоге тоже купил лицензию на PostScript для серии конкурирующих принтеров LaserJet. Это случилось в 1991 году после давления со стороны потребителей.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nPostScript медленно перешёл из языка управления принтером в формат файла. Умные программисты изучили, в каком виде команды PostScript отправляются на принтер — и начали создавать документы PostScript вручную, добавив в свои документы диаграммы, графики и рисунки, при этом PostScript использовался для вывода графики на дисплей. Возник спрос на графику вне принтера! Adobe это заметила и быстро выпустила формат \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FEncapsulated_PostScript\"\u003EEncapsulated PostScript\u003C\u002Fa\u003E, который представлял собой не более чем несколько специально отформатированных комментариев PostScript с метаданными о размере изображения и ограничениями на использование принтерных команд, таких как “page feed”. В том же 1985 году Adobe начала разработку Illustrator — приложения, где художники работали в формате Encapsulated PostScript в удобном UI. Затем эти файлы можно было перенести в текстовый процессор, который создавал… документы PostScript для отправки на принтеры PostScript. Весь мир перешёл на PostScript, и Adobe не могла быть ещё счастливее. Когда Microsoft работала над Windows 1.0 и хотела создать собственный графический API для разработчиков, основной целью было сделать его совместимым с существующими принтерами, чтобы графика отправлялась на принтеры так же легко, как экран. Этот API в конечном итоге выпустили как \u003Ca href=\"https:\u002F\u002Fmsdn.microsoft.com\u002Fen-us\u002Flibrary\u002Fwindows\u002Fdesktop\u002Fdd145203(v=vs.85).aspx\"\u003EGDI\u003C\u002Fa\u003E — основной компонент, используемый каждым инженером во время стремительного роста популярности Windows в 90-е годы. Поколения программистов на платформе Windows начали неосознанно отождествлять векторную графику 2D с моделью изображений PostScript, закрепив за ней этот статус де-факто.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕдинственной серьёзной проблемой PostScript была тьюринг-полнота: просмотр 86-й страницы документа означает сначала запуск скрипта для страниц 1-85. И это может быть медленно. Adobe узнала об этой жалобе пользователей и решила создать новый формат документов, у которого не было таких ограничений, его назвали “Portable Document Format” или для краткости “PDF”. Из него выбросили язык программирования, но графическая технология осталась прежней. Цитата из \u003Ca href=\"http:\u002F\u002Fwww.adobe.com\u002Fcontent\u002Fdam\u002Facom\u002Fen\u002Fdevnet\u002Facrobat\u002Fpdfs\u002Fpdf_reference_1-7.pdf#page=34\"\u003Eспецификаций PDF, глава 2.1, «Модель изображения»\u003C\u002Fa\u003E:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003EВ основе PDF лежит его способность описывать внешний вид сложной графики и типографики. Эта возможность достигается за счёт использования модели изображений Adobe, того же высокоуровневого, независимого от устройства представления, которое используется в языке описания страниц PostScript.\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nКогда консорциум W3C рассматривал претендентов на язык разметки 2D-графики в интернете, Adobe отстаивала \u003Ca href=\"https:\u002F\u002Fwww.w3.org\u002FTR\u002F1998\u002FNOTE-PGML-19980410\"\u003EPGML\u003C\u002Fa\u003E на основе XML, в основе которого лежала графическая модель PostScript:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003EPGML должен включать в себя модель изображений PDF\u002FPostScript, чтобы гарантировать возможность масштабируемой 2D-графики, которая удовлетворяет потребностям как обычных пользователей, так и профессионалов графики.\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nКонкурирующий формат \u003Ca href=\"https:\u002F\u002Fwww.w3.org\u002FTR\u002FNOTE-VML\"\u003EVML\u003C\u002Fa\u003E от Microsoft был основан на GDI, который, как мы знаем, основан на PostScript. Два конкурирующих предложения, которые по-прежнему представляли собой по сути PostScript, объединили вместе, так что W3C принял стандарт «масштабируемой векторной графики» (SVG), который мы знаем и любим сегодня.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДаже если он стар, давайте не будем притворяться, что инновации PostScript, принесённые в этот мир — что-то меньшее, чем технологическое чудо. У PostScript-принтера LaserWriter от Apple процессор был вдвое мощнее, чем у Macintosh, который его контролировал, просто для интерпретации PostScript и растеризации векторных путей до точек на бумаге. Это может показаться чрезмерным, но если вы уже покупали модный принтер с \u003Ci\u003Eлазером\u003C\u002Fi\u003E внутри, то не нужно удивляться дорогому процессору. В своём первом воплощении PostScript изобрёл довольно сложную модель визуализации со всеми функциями, которые мы сегодня считаем само собой разумеющимися. Какая самая мощная, потрясающая особенность? Шрифты. В то время шрифты рисовались от руки линейкой и транспортиром и отливались на плёнку для \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FPhototypesetting\"\u003Eфотохимической печати\u003C\u002Fa\u003E. В 1977 году Дональд Кнут показал миру, на что способна его система \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMetafont\"\u003EMETAFONT\u003C\u002Fa\u003E, которую он представил вместе с текстовым редактором TeX, но она не прижилась. Она требовала от пользователя математического описания шрифтов, используя кисти и кривые. Большинство разработчиков шрифтов не хотели это изучать. А причудливые изгибы при малых размерах превращались в месиво: у принтеров того времени не было достаточного разрешения, поэтому буквы расплывались и сливались друг с другом. PostScript предложил новое решение: алгоритм «привязки» очертаний к более грубым сеткам, которыми оперировали принтеры. Это известно как «подгонка сетки» (grid-fitting). Чтобы предотвратить слишком большое искажение геометрии, они позволили шрифтам устанавливать «подсказки», какие части геометрии являются наиболее важными и что следует сохранить.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОригинальная бизнес-модель Adobe заключалась в том, чтобы продавать разработчикам принтеров эту технологию шрифтов и продавать издателям специальные воссозданные шрифты с добавленными подсказками, поэтому Adobe по сей день продаёт свои версии \u003Ca href=\"http:\u002F\u002Fwww.myfonts.com\u002Ffonts\u002Fadobe\u002Ftimes\u002F\"\u003ETimes\u003C\u002Fa\u003E и \u003Ca href=\"http:\u002F\u002Fwww.myfonts.com\u002Ffonts\u002Fadobe\u002Ffutura\u002F\"\u003EFutura\u003C\u002Fa\u003E. Кстати, это возможно, потому что шрифты, или, более формально, «гарнитуры», являются одной из \u003Ca href=\"https:\u002F\u002Fwww.ecfr.gov\u002Fcgi-bin\u002Ftext-idx?node=se37.1.202_11\"\u003Eпяти вещей, явно исключённых из закона США об авторском праве\u003C\u002Fa\u003E, поскольку их изначально обозначили как «слишком простые или утилитарные, чтобы быть творческими работами». Вместо этого защищается авторским правом \u003Ci\u003Eцифровая программа\u003C\u002Fi\u003E, которая воспроизводит шрифт на экране. Таким образом, чтобы люди не могли копировать шрифты Adobe и добавлять свои собственные, формат \u003Ca href=\"https:\u002F\u002Fwww-cdf.fnal.gov\u002Foffline\u002FPostScript\u002FT1_SPEC.PDF\"\u003EType 1 Font\u003C\u002Fa\u003E изначально был собственностью Adobe и содержал код «шифрования шрифтов». Только PostScript от Adobe мог интерпретировать шрифты Type 1, и только в них была реализована фирменная технология хинтов, которая обеспечивает чёткость на малых размерах.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПодгонка сетки, кстати, стала настолько популярной, что когда Microsoft и Apple устали платить лицензионные сборы Adobe, то изобрели альтернативный метод для своего альтернативного формата шрифтов \u003Ca href=\"https:\u002F\u002Fdeveloper.apple.com\u002Ffonts\u002FTrueType-Reference-Manual\u002F\"\u003ETrueType\u003C\u002Fa\u003E. Вместо того, чтобы указывать декларативные «подсказки», TrueType даёт автору шрифта \u003Ca href=\"https:\u002F\u002Fdeveloper.apple.com\u002Ffonts\u002FTrueType-Reference-Manual\u002FRM03\u002FChap3.html\"\u003Eполноценный тьюринг-полный стековый язык\u003C\u002Fa\u003E, чтобы автор мог контролировать все аспекты подгонки сетки (избегая патентов Adobe на декларативные хинты). Много лет бушевала война между форматами Adobe Type 1 и TrueType, а разработчики шрифтов застряли посередине, предоставляя пользователям оба формата. В конце концов, индустрия достигла компромисса: \u003Ca href=\"https:\u002F\u002Fwww.microsoft.com\u002Fen-us\u002FTypography\u002FOpenTypeSpecification.aspx\"\u003EOpenType\u003C\u002Fa\u003E. Но вместо того, чтобы реально определить победителя, они просто плюхнули обе спецификации в один формат файла. Adobe теперь зарабатывала не на продаже шрифтов Type 1, а на программах Photoshop и Illustrator, так что удалила шифровальную часть, доработала формат и представила шрифты \u003Ca href=\"http:\u002F\u002Fwww.adobe.com\u002Fcontent\u002Fdam\u002FAdobe\u002Fen\u002Fdevnet\u002Ffont\u002Fpdfs\u002F5176.CFF.pdf\"\u003ECFF\u003C\u002Fa\u003E \u002F Type 2, которые целиком вошли в OpenType как \u003Ca href=\"https:\u002F\u002Fwww.microsoft.com\u002Ftypography\u002Fotspec\u002Fcff.htm\"\u003Eтаблица cff\u003C\u002Fa\u003E. С другой стороны, TrueType вставили в качестве \u003Ca href=\"https:\u002F\u002Fwww.microsoft.com\u002Ftypography\u002Fotspec\u002Fotff.htm#ttTables\"\u003Eglyf\u003C\u002Fa\u003E и других таблиц. Хотя и несколько уродливый, но OpenType вроде бы выполнял работу для пользователей, в основном, брал их измором: просто требуйте, чтобы всё программное обеспечение поддерживало оба типа шрифтов, потому что OpenType требует, чтобы вы поддерживали оба типа шрифтов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКонечно, мы вынуждены спросить: если не PostScript, то что вместо него? Стоит рассмотреть и другие варианты. Ранее упомянутый METAFONT не использовал строго определённые очертания литер (filled paths). Вместо этого Кнут, в типичной своей манере, в статье \u003Ca href=\"http:\u002F\u002Fwww.math.lsa.umich.edu\u002F~millerpd\u002Fdocs\u002F501_Winter13\u002FKnuth79.pdf\"\u003E«Математическая типографика»\u003C\u002Fa\u003E предложил для типографики математическую концепцию, которая «наиболее приятна». Вы указываете несколько точек, и какой-то алгоритм находит через них правильную «наиболее приятную» кривую. Можете накладывать эти очертания поверх друг на друга: определить какое-то из них как «перо», а затем «перетащить перо» через какую-то другую линию. Кнут, в глубине души учёный-компьютерщик, ввёл даже рекурсию. Его студент Джон Хобби разработал и реализовал алгоритмы \u003Ca href=\"http:\u002F\u002Fi.stanford.edu\u002Fpub\u002Fcstr\u002Freports\u002Fcs\u002Ftr\u002F85\u002F1047\u002FCS-TR-85-1047.pdf\"\u003Eвычисления «самой приятной кривой»\u003C\u002Fa\u003E, \u003Ca href=\"http:\u002F\u002Fect.bell-labs.com\u002Fwho\u002Fhobby\u002Fthesis.pdf\"\u003Eналожения вложенных путей\u003C\u002Fa\u003E \u003Ci\u003Eи\u003C\u002Fi\u003E \u003Ca href=\"http:\u002F\u002Fect.bell-labs.com\u002Fwho\u002Fhobby\u002F87_2-04.pdf\"\u003Eрастеризации таких кривых\u003C\u002Fa\u003E. Для дополнительной информации о METAFONT, кривых и истории типографики в целом \u003Ci\u003Eнастоятельно\u003C\u002Fi\u003E рекомендую книгу \u003Ca href=\"http:\u002F\u002Fshop.oreilly.com\u002Fproduct\u002F9780596102425.do\"\u003E«Шрифты и кодировки»\u003C\u002Fa\u003E, а также \u003Ca href=\"http:\u002F\u002Fect.bell-labs.com\u002Fwho\u002Fhobby\u002FPublications.shtml\"\u003Eстатьи Джона Хобби\u003C\u002Fa\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nК счастью, возобновившийся интерес к исследованиям 2D-графики означал, что сплайны Кнута и Хобби не полностью забыли. Хотя они определённо заумные и нетрадиционные, но они недавно пробрались в \u003Ca href=\"https:\u002F\u002Fbosker.wordpress.com\u002F2013\u002F11\u002F13\u002Fbeyond-bezier-curves\u002F\"\u003EApple iWork Suite\u003C\u002Fa\u003E, и являются там типом сплайна по умолчанию.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EВзлёт треугольников\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nНе слишком вдаваясь в математические дебри, на высоком уровне мы называем такие подходы, как кривые Безье и сплайны Хобби, \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FImplicit_curve\"\u003Eнеявными кривыми\u003C\u002Fa\u003E, потому что они указаны как математическая функция, которая генерирует кривую. Они хорошо смотрятся на любом разрешении, что отлично подходит для 2D-изображений, предназначенных для масштабирования.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n2D-графика поддержала импульс вокруг этих неявных кривых, которые почти обязательны при моделировании глифов. Аппаратное и программное обеспечение для вычисления этих путей в режиме реального времени было дорогим, но из полиграфической промышленности пришёл большой толчок для векторной графики, а большая часть остального существующего промышленного оборудования уже была намного дороже, чем лазерный принтер с причудливым процессором.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОднако 3D-графика пошла совсем по другому маршруту. С самого начала почти универсальным подходом было использование многоугольников (полигонов), которые часто \u003Ca href=\"https:\u002F\u002Fwww.computerhistory.org\u002Frevolution\u002Fcomputer-graphics-music-and-art\u002F15\u002F206\u002F560\"\u003Eвручную размечались\u003C\u002Fa\u003E и \u003Ca href=\"https:\u002F\u002Fwww.computerhistory.org\u002Frevolution\u002Fcomputer-graphics-music-and-art\u002F15\u002F206\u002F556\"\u003Eвручную вводились в компьютер\u003C\u002Fa\u003E. Впрочем, такой подход не был универсальным. 3D-эквивалент неявной кривой — это \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FImplicit_surface\"\u003Eнеявная поверхность\u003C\u002Fa\u003E, состоящая из основных геометрических примитивов, таких как сферы, цилиндры и кубы. Идеальная сфера с бесконечным разрешением может быть представлена простым уравнением, поэтому \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=lAD6Obi7Cag\"\u003Eна заре развития 3D для геометрии она была явно предпочтительнее полигонов\u003C\u002Fa\u003E. Одна из немногих компаний, которые разрабатывали графику с неявными поверхностями, была \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMathematical_Applications_Group\"\u003EMAGI\u003C\u002Fa\u003E. В сочетании с умным художественным использованием процедурных текстур они выиграли контракт с Disney на дизайн «светового мотоцикла» для фильма «Трон» 1982 года. К сожалению, этот подход быстро сошёл на нет. Благодаря ускорению CPU и исследованию таких проблем, как «удаление скрытой поверхности», стремительно росло количество треугольников, которые вы могли бы отобразить в сцене, а для сложных фигур художникам было намного проще думать о полигонах и вершинах, которые можно щёлкнуть и перетащить, а не использовать комбинации кубов и цилиндров.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЭто не означает, что неявные поверхности не использовались в \u003Ci\u003Eпроцессе\u003C\u002Fi\u003E моделирования. Техники вроде \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FCatmull%E2%80%93Clark_subdivision_surface\"\u003Eалгоритма Кэтмелла — Кларка\u003C\u002Fa\u003E к началу 80-х годов стали общепринятым отраслевым стандартом, позволяя художникам создавать гладкие, органичные простые геометрические формы. Хотя до начала 2000-х годов алгоритм Кэтмелла — Кларка даже не определялся как «неявная поверхность», которую можно вычислить с помощью уравнения. Тогда это рассматривалось как итерационный алгоритм: способ разделения полигонов на ещё большее количество полигонов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТреугольники захватили мир, и за ними последовали инструменты для создания 3D-контента. Новые разработчики и дизайнеры видеоигр и спецэффектов в фильмах обучались исключительно на программах моделирования с полигональными сетками, таких как Maya, 3DS Max и Softimage. Когда в конце 80-х годов на сцене появились «ускорители 3D-графики» (GPU), их разработали специально для ускорения существующего контента: треугольников. Хотя в ранних проектах GPU, таких как \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FNV1\"\u003ENVIDIA NV1\u003C\u002Fa\u003E, имелась ограниченная аппаратная поддержка кривых, но она глючила, и её быстро убрали из линейки продуктов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЭта культура в основном распространяется на то, что мы видим сегодня. Доминирующая модель 2D-изображений PostScript началась с продукта, который мог отображать кривые в «реальном времени». В то же время 3D-индустрия игнорировала кривые, с которыми трудно работать, а вместо этого полагалась на автономные решения для предварительного преобразования кривых в треугольники.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EНеявные поверхности возвращаются\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nНо почему неявные кривые 2D можно было просчитывать в режиме реального времени на принтере в 80-е годы, и те же самые неявные кривые 3D по-прежнему сильно глючат в начале 2000-х? Ну, алгоритм Кэтмелла — Кларка намного сложнее, чем кривая Безье. Кривые Безье в 3D известны как B-сплайны, и они хорошо вычислимы, но есть недостаток, что они ограничивают способы соединения сетки. Поверхности вроде Кэтмелла — Кларка и NURBS допускают произвольно связанные сетки для расширения возможностей художников, но это может привести к полиномам больше четвёртой степени, которые, \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FAbel%E2%80%93Ruffini_theorem\"\u003Eкак правило, не имеют аналитического решения\u003C\u002Fa\u003E. Вместо этого вы получаете аппроксимации, основанные на разделении полигонов, как это делается в \u003Ca href=\"http:\u002F\u002Fgraphics.pixar.com\u002Fopensubdiv\u002Fdocs\u002Fintro.html\"\u003EOpenSubdiv\u003C\u002Fa\u003E от Pixar. Если кто-то когда-либо найдет аналитическое решение для поиска корней Кэтмелла — Кларка или NURBS, компания Autodesk много ему заплатит. По сравнению с ними треугольники кажутся намного приятнее: просто вычислите \u003Ca href=\"https:\u002F\u002Ffgiesen.wordpress.com\u002F2013\u002F02\u002F06\u002Fthe-barycentric-conspirac\u002F\"\u003Eтри линейных уравнения на плоскости\u003C\u002Fa\u003E, и у вас есть лёгкий ответ.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n… Но что, если нам не нужно точное решение? Именно таким вопросом задался графический разработчик \u003Ca href=\"https:\u002F\u002Fwww.iquilezles.org\u002Findex.html\"\u003EИньиго Кильес\u003C\u002Fa\u003E, когда проводил исследования неявных поверхностей. Решение? Поля расстояний со знаком (signed distance fields, SDF). Вместо выдачи точной точки пересечения с поверхностью они говорят, как далеко вы находитесь от неё. Аналогично разнице между аналитически вычисленным интегралом и интегралом Эйлера, если у вас есть расстояние до ближайшего объекта, вы можете «маршировать» по сцене, в любой заданной точке спрашивая, как далеко вы находитесь, и проходя это расстояние. Такие поверхности вдохнули совершенно новую жизнь в индустрию через демосцену и сообщества вроде Shadertoy. Хак старой техники моделирования MAGI приносит нам невероятные находки, такие как \u003Ca href=\"https:\u002F\u002Fwww.shadertoy.com\u002Fview\u002Fldd3DX\"\u003ESurfer Boy\u003C\u002Fa\u003E от Кильеса, рассчитанный с бесконечной точностью как неявная поверхность. Вам не нужно искать алгебраические корни Surfer Boy, вы просто чувствуете, как проходит сцена.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКонечно, проблема в том, что сотворить Surfer Boy способен \u003Ci\u003Eтолько\u003C\u002Fi\u003E гений вроде Кильеса. Ещё нет инструментов для геометрии SDF, весь код пишется вручную. Тем не менее, учитывая захватывающее возрождение неявных поверхностей и естественные формы кривых, теперь к этой технике много интереса. Игра MediaMolecule \u003Ca href=\"https:\u002F\u002Fwww.playstation.com\u002Fen-us\u002Fgames\u002Fdreams-ps4\u002F\"\u003EDreams\u003C\u002Fa\u003E на PS4 — это набор для создания контента, основанный на комбинировании неявных поверхностей. В \u003Ca href=\"http:\u002F\u002Fadvances.realtimerendering.com\u002Fs2015\u002FAlexEvans_SIGGRAPH-2015-sml.pdf\"\u003Eпроцессе разрушается и создаётся заново большая часть традиционной графики\u003C\u002Fa\u003E. Это многообещающий подход, а инструменты интуитивно понятны и интересны. \u003Ca href=\"https:\u002F\u002Fwww.oculus.com\u002Fmedium\"\u003EOculus Medium\u003C\u002Fa\u003E и \u003Ca href=\"http:\u002F\u002Fon-demand.gputechconf.com\u002Fgtc\u002F2017\u002Fpresentation\u002Fs7777-florian-hoenig-a-road-to-3d-for-everyone.pdf\"\u003Eunbound.io\u003C\u002Fa\u003E тоже провели хорошие исследования по этой проблеме. Это определённо многообещающий взгляд на то, как может выглядеть будущее 3D-графики и инструментов следующего поколения.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНо некоторые из этих подходов меньше подходят для 2D, чем вы могли бы подумать. В общих игровых 3D-сценах, как правило, продвинутые материалы и текстуры, но мало расчётов геометрии, на что сразу указывают многие критики и \u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=00gAbgBu8R4\"\u003Eпродавцы сомнительных продуктов\u003C\u002Fa\u003E. Это означает, что нам меньше требуется сглаживание, поскольку силуэты не так важны. Подходы вроде 4x MSAA могут подойти для многих игр, но для маленьких шрифтов со сплошными цветами вы вместо \u003Ca href=\"https:\u002F\u002Fmagcius.github.io\u002Fxplain\u002Farticle\u002Frast1.html#antialiasing\"\u003E16 фиксированных выборочных местоположений\u003C\u002Fa\u003E скорее вычислите \u003Ca href=\"http:\u002F\u002Fnothings.org\u002Fgamedev\u002Frasterize\u002F\"\u003Eточную площадь под кривой\u003C\u002Fa\u003E для каждого пикселя, что даст вам столько разрешения, сколько хотите.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВращение экрана в 3D-игре вызывает эффекты, похожие на \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FSaccadic_masking\"\u003Eсаккадическое подавление\u003C\u002Fa\u003E, поскольку мозг перенастраивается на новый вид. Во многих играх это помогает скрыть артефакты в эффектах постобработки, таких как \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002FCypherSignal\u002Fstatus\u002F793631118209781760\"\u003Eвременное сглаживание\u003C\u002Fa\u003E, на которые сильно полагаются Dreams и unbound.io, чтобы получить хорошую производительность сцены. И наоборот, в типичной 2D-сцене у нас нет этой роскоши перспективы, поэтому попытка использовать её заставит глифы и формы кипеть и дрожать с этими артефактами по полной программе. На 2D смотрят иначе, и ожидания выше. При масштабировании, панорамировании и прокрутке важна стабильность.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНи один из этих эффектов невозможно реализовать на GPU, но они показывают радикальный отход от “3D” контента, с другими приоритетами. В конечном счёте, рендеринг 2D-графики сложен, потому что речь идёт о формах — точных буквах и символах, а не о материалах и освещении, у которых в основном сплошной цвет. Графические ускорители в результате эволюции решили не обсчитывать неявную геометрию реального времени, такую как кривые, а вместо этого сконцентрировались на всём, что происходит внутри этих кривых. Возможно, если бы PostScript не победил, у нас была бы 2D-модель изображения без кривых Безье в качестве основного требования для реального времени. Возможно, в таком мире вместо треугольников бы использовались лучшие геометрические представления, инструменты создания контента сосредоточились на 3D-сплайнах, а GPU поддерживали кривые реального времени на аппаратном уровне. В конце концов, всегда забавно помечтать.\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"PostScript"},{"titleHtml":"неявные кривые"},{"titleHtml":"неявные поверхности"},{"titleHtml":"кривые Безье"},{"titleHtml":"полигоны"},{"titleHtml":"поля расстояний со знаком"},{"titleHtml":"signed distance fields"},{"titleHtml":"SDF"},{"titleHtml":"Oculus Medium"},{"titleHtml":"TeX"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F451394\u002F31622a98f9b2ab0976fe9e4f1af18d59\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F451394\u002F31622a98f9b2ab0976fe9e4f1af18d59\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F451394\\\u002F\"},\"headline\":\"Почему векторная графика 2D намного сложнее, чем 3D\",\"datePublished\":\"2019-05-12T12:48:32+03:00\",\"dateModified\":\"2019-05-12T23:07:34+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Анатолий Ализар\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"В последнее время появилось много фантастических исследований по 2D-рендерингу. Пётр Кобаличек и Фабиан Айзерман работают над Blend2D: это один из самых быстрых...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F451394\\\u002F#post-content-body\",\"about\":[\"h_typography\",\"h_vector_graphics\",\"h_image_processing\",\"h_history\",\"f_develop\",\"f_design\",\"f_popsci\"],\"image\":[\"https:\\\u002F\\\u002Fhabr.com\\\u002Fshare\\\u002Fpublication\\\u002F451394\\\u002F31622a98f9b2ab0976fe9e4f1af18d59\\\u002F\"]}","metaDescription":"В последнее время появилось много фантастических исследований по 2D-рендерингу. Пётр Кобаличек и Фабиан Айзерман работают над Blend2D: это один из самых быстрых и точных CPU-растеризаторов на рынке, с...","mainImageUrl":null,"amp":false},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":"typography,vector_graphics,image_processing,history"},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
