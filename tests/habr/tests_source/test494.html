<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Разработка белков в облаке с помощью Python и Transcriptic или Как создать любой белок за $360 / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/451124\/"},"headline":"Разработка белков в облаке с помощью Python и Transcriptic или Как создать любой белок за $360","datePublished":"2019-05-09T16:17:02+03:00","dateModified":"2019-05-10T19:31:52+03:00","author":{"@type":"Person","name":"Анатолий Ализар"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Что, если у вас идея для классного, полезного белка, и вы хотите получить его в реальности? Например, хотите создать вакцину против H.&nbsp;pylori (как словенская ком...","url":"https:\/\/habr.com\/ru\/post\/451124\/#post-content-body","about":["h_python","h_popular_science","h_biotech","h_DIY","h_futurenow","f_develop","f_popsci"],"image":["https:\/\/habrastorage.org\/getpro\/habr\/post_images\/e9c\/dd5\/691\/e9cdd5691f1bab368bb400a8818b6507.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/94e\/38f\/0a6\/94e38f0a6f9ea9af3509a0278242b9b4.jpg","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/373\/b42\/050\/373b42050b870646857266bb3e07c7ed.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/e07\/bfb\/ac9\/e07bfbac9c53ddb79634b63efc3fc0e7.png","https:\/\/habrastorage.org\/webt\/tb\/tm\/_v\/tbtm_vcly3elxlwhbcoknhsjpuo.jpeg","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/645\/232\/c67\/645232c67631f484ed6e8b30f6fa91eb.jpg","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/734\/378\/b0b\/734378b0b151d2ed64bbd3ebb6edf0f3.jpg","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/66c\/9ae\/d03\/66c9aed037ae408c6f642433d9a2a130.jpg","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/4f3\/576\/8f1\/4f35768f17d5ff5506f7d1aca0b064a0.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/123\/aac\/aca\/123aacacac400c6f96966d2f2caeb918.jpg","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/296\/9da\/a41\/2969daa417296779220366c36c02a0e5.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/8df\/946\/db5\/8df946db53b725f89277be267d2e3ab9.jpg","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/1f5\/d52\/171\/1f5d52171cb60c8e8b4cb83f24b0c8c8.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/74a\/f5d\/284\/74af5d28463dbbd2279353a4651087f6.jpg","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/8dc\/9eb\/1b8\/8dc9eb1b85c382df68cc064583512707.jpg","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/8f8\/b9c\/e3c\/8f8b9ce3cc42de99099976a3c60a9ada.jpg","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/32f\/a42\/de3\/32fa42de3ad35392ac0bbf7ae6f595b3.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/88e\/d2a\/a19\/88ed2aa19537b77b3214e6b36f55fdde.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/cf7\/509\/629\/cf750962951b700c8a9333ea1d747a94.jpg","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/951\/9a6\/a57\/9519a6a578f11d26c3c9a2ddda039539.jpg","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/296\/c9b\/7e2\/296c9b7e28b653015159907b8a2bb59e.jpg","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/6ab\/0d3\/453\/6ab0d345359a5b1d15f8f6341f1bee08.png","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/bc4\/d2b\/c10\/bc4d2bc102d423993907a021598257ef.jpg","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/c8f\/ee9\/b71\/c8fee9b710a214fdb7421dbc2d74e1b4.jpg","https:\/\/habrastorage.org\/getpro\/habr\/post_images\/2cb\/6f1\/835\/2cb6f183502e484f66e1f95ba1b44ed7.jpg","https:\/\/habrastorage.org\/webt\/03\/z3\/kk\/03z3kkczqokp7nhgplib_q1bhia.png"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Разработка белков в облаке с помощью Python и Transcriptic или Как создать любой белок за $360" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Разработка белков в облаке с помощью Python и Transcriptic или Как создать любой белок за $360" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Разработка белков в облаке с помощью Python и Transcriptic или Как создать любой белок за $360" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Что, если у вас идея для классного, полезного белка, и вы хотите получить его в реальности? Например, хотите создать вакцину против H. pylori (как словенская команда на iGEM 2008), создав гибридный..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Что, если у вас идея для классного, полезного белка, и вы хотите получить его в реальности? Например, хотите создать вакцину против H. pylori (как словенская команда на iGEM 2008), создав гибридный..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Что, если у вас идея для классного, полезного белка, и вы хотите получить его в реальности? Например, хотите создать вакцину против H. pylori (как словенская команда на iGEM 2008), создав гибридный..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Что, если у вас идея для классного, полезного белка, и вы хотите получить его в реальности? Например, хотите создать вакцину против H. pylori (как словенская команда на iGEM 2008), создав гибридный..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Что, если у вас идея для классного, полезного белка, и вы хотите получить его в реальности? Например, хотите создать вакцину против H. pylori (как словенская команда на iGEM 2008), создав гибридный..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/451124/054f588a60a4197a2b6852ff06a08c13/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/451124/054f588a60a4197a2b6852ff06a08c13/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/451124/054f588a60a4197a2b6852ff06a08c13/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/451124/054f588a60a4197a2b6852ff06a08c13/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/451124/054f588a60a4197a2b6852ff06a08c13/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="451124" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2019-05-09T13:17:02.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/451124/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/451124/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/451124/054f588a60a4197a2b6852ff06a08c13/" data-vmid="image:href">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/m1rko/" title="m1rko" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/r/w32/getpro/habr/avatars/4ec/bd0/85d/4ecbd085d692835a931d03174ff19539.png" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/m1rko/" class="tm-user-info__username">
      m1rko
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2019-05-09T13:17:02.000Z" title="2019-05-09, 16:17">9  мая  2019 в 16:17</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Разработка белков в облаке с помощью Python и Transcriptic или Как создать любой белок за $360</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/python/" class="tm-article-snippet__hubs-item-link"><span>Python</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/popular_science/" class="tm-article-snippet__hubs-item-link"><span>Научно-популярное</span> <!----></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/biotech/" class="tm-article-snippet__hubs-item-link"><span>Биотехнологии</span> <!----></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/DIY/" class="tm-article-snippet__hubs-item-link"><span>DIY или Сделай сам</span> <!----></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/futurenow/" class="tm-article-snippet__hubs-item-link"><span>Будущее здесь</span> <!----></a></span></div> <div class="tm-article-snippet__labels"><div class="tm-article-snippet__label"><span>
        Перевод
      </span></div></div> <!----> <!----></div></div> <div class="tm-article-presenter__origin"><a href="http://blog.booleanbiotech.com/genetic_engineering_pipeline_python.html" target="_blank" class="tm-article-presenter__origin-link">
                Автор оригинала:
                <span>
                  Brian Naughton
                </span></a></div> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml">Что, если у вас идея для классного, полезного белка, и вы хотите получить его в реальности? Например, хотите создать вакцину против <i>H. pylori</i> (как <a href="http://2008.igem.org/Team:Slovenia">словенская команда на iGEM 2008</a>), создав гибридный белок, который сочетает фрагменты флагеллина <i>E. coli</i>, стимулирующие иммунный ответ с обычным флагеллином <i>H. pylori</i>?<br/>
<br/>
<div style="text-align:center;"><img src="/img/image-loader.svg" data-src="https://habrastorage.org/getpro/habr/post_images/e9c/dd5/691/e9cdd5691f1bab368bb400a8818b6507.png"/></div><i><font color="gray">Дизайн гибридного флагеллина вакцины против H. pylori, представленный командой Словении на iGEM 2008</font></i> <br/>
<br/>
Удивительно, но мы очень близки к тому, чтобы создать любой белок, какой хотим, не выходя из блокнота Jupyter, благодаря последним разработкам в геномике, синтетической биологии и совсем недавно — в облачных лабораториях.<br/>
<br/>
В этой статье я покажу код Python от идеи белка до его экспрессии в бактериальной клетке, не прикасаясь к пипетке и не разговаривая ни с одним человеком. Общая стоимость составит всего несколько сотен долларов! Используя <a href="http://a16z.com/2015/11/18/bio-fund/">терминологию Виджая Панде из A16Z</a>, это Биология 2.0.<br/>
<a name="habracut"></a><br/>
Конкретнее, в статье питоновский код облачной лаборатории делает следующее:<br/>
<br/>
<ul>
<li><b>Синтез</b> последовательность ДНК, которая кодирует любой белок, который я хочу.<br/>
</li>
<li><b>Клонирование</b> этой синтетической ДНК в <b>вектор</b>, который может её экспрессировать.<br/>
</li>
<li><b>Трансформация</b> бактерии с этим <b>вектором</b> и подтверждение, что происходит экспрессия.</li>
</ul><br/>
<h1>Настройка Python</h1><br/>
Во-первых, общие настройки Python, которые нужны для любого блокнота Jupyter. Импортируем некоторые полезные модули Python и создаём некоторые служебные функции, в основном, для визуализации данных.<br/>
<br/>
<div class="spoiler"><b class="spoiler_title">Код</b><div class="spoiler_text"><pre><code class="python">import re
import json
import logging
import requests
import itertools
import numpy as np
import seaborn as sns
import pandas as pd
import matplotlib as mpl
import matplotlib.pyplot as plt

from io import StringIO
from pprint import pprint
from Bio.Seq import Seq
from Bio.Alphabet import generic_dna
from IPython.display import display, Image, HTML, SVG

def uprint(astr): print(astr + "\n" + "-"*len(astr))
def show_html(astr): return display(HTML('{}'.format(astr)))
def show_svg(astr, w=1000, h=1000):
    SVG_HEAD = '''&lt;?xml version="1.0" standalone="no"?>&lt;!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'''
    SVG_START = '''&lt;svg viewBox="0 0 {w:} {h:}" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink= "http://www.w3.org/1999/xlink">'''
    return display(SVG(SVG_HEAD + SVG_START.format(w=w, h=h) + astr + '&lt;/svg>'))

def table_print(rows, header=True):
    html = ["&lt;table>"]
    html_row = "&lt;/td>&lt;td>".join(k for k in rows[0])
    html.append("&lt;tr style='font-weight:{}'>&lt;td>{}&lt;/td>&lt;/tr>".format('bold' if header is True else 'normal', html_row))
    for row in rows[1:]:
        html_row = "&lt;/td>&lt;td>".join(row)
        html.append("&lt;tr style='font-family:monospace;'>&lt;td>{:}&lt;/td>&lt;/tr>".format(html_row))
    html.append("&lt;/table>")
    show_html(''.join(html))

def clean_seq(dna):
    dna = re.sub("\s","",dna)
    assert all(nt in "ACGTN" for nt in dna)
    return Seq(dna, generic_dna)

def clean_aas(aas):
    aas = re.sub("\s","",aas)
    assert all(aa in "ACDEFGHIKLMNPQRSTVWY*" for aa in aas)
    return aas

def Images(images, header=None, width="100%"): # to match Image syntax
    if type(width)==type(1): width = "{}px".format(width)
    html = ["&lt;table style='width:{}'>&lt;tr>".format(width)]
    if header is not None:
        html += ["&lt;th>{}&lt;/th>".format(h) for h in header] + ["&lt;/tr>&lt;tr>"]

    for image in images:
        html.append("&lt;td>&lt;img src='{}' />&lt;/td>".format(image))
    html.append("&lt;/tr>&lt;/table>")
    show_html(''.join(html))

def new_section(title, color="#66aa33", padding="120px"):
    style = "text-align:center;background:{};padding:{} 10px {} 10px;".format(color,padding,padding)
    style += "color:#ffffff;font-size:2.55em;line-height:1.2em;"
    return HTML('&lt;div style="{}">{}&lt;/div>'.format(style, title))

# Show or hide text
HTML("""
&lt;style>
    .section { display:flex;align-items:center;justify-content:center;width:100%; height:400px; background:#6a3;color:#eee;font-size:275%; }
    .showhide_label { display:block; cursor:pointer; }
    .showhide { position: absolute; left: -999em; }
    .showhide + div { display: none; }
    .showhide:checked + div { display: block; }
    .shown_or_hidden { font-size:85%; }
&lt;/style>
""")

# Plotting style
plt.rc("axes", titlesize=20, labelsize=15, linewidth=.25, edgecolor='#444444')
sns.set_context("notebook", font_scale=1.2, rc={})
%matplotlib inline
%config InlineBackend.figure_format = 'retina' # or 'svg'</code></pre></div></div><br/>
<h1>Облачные лаборатории</h1><br/>
Как у AWS или любого вычислительного облака, у облачной лаборатории есть оборудование для молекулярной биологии, а также роботы, которых она сдаёт в аренду через интернет. Вы можете выдавать инструкции своим роботам, нажав несколько кнопок в интерфейсе или написав код, который самостоятельно их программирует. Необязательно писать собственные протоколы, как я сделаю здесь, значительная часть молекулярной биологии — это стандартные рутинные задачи, поэтому обычно лучше полагаться на надёжный чужой протокол, который показал хорошее взаимодействие с роботами.<br/>
<br/>
В последнее время появился целый ряд компаний с облачными лабораториями: <a href="https://www.transcriptic.com/">Transcriptic</a>, <a href="https://wla.bionano.autodesk.com/#/">Autodesk Wet Lab Accelerator</a> (бета, и построена на основе Transcriptic), <a href="https://www.arcturus.io/">Arcturus BioCloud</a> (бета), <a href="http://emeraldcloudlab.com/">Emerald Cloud Lab</a> (бета), <a href="https://www.synthego.com/">Synthego</a> (ещё не запустилась). Есть даже компании, построенные поверх облачных лабораторий, такие как <a href="http://desktopgenetics.com/">Desktop Genetics</a>, которая специализируется на CRISPR. Начинают появляться <a href="http://www.businesswire.com/news/home/20160216005377/en/Study-Shows-Transcriptic%E2%80%99s-Robotic-Cloud-Laboratory-Removes">научные статьи</a> об использовании облачных лабораторий в реальной науке.<br/>
<br/>
На момент написания статьи в открытом доступе только Transcriptic, поэтому будем использовать её. Насколько я понимаю, большая часть бизнеса Transcriptic построена на автоматизации общих протоколов, а написание собственных протоколов на Python (как я буду делать в этой статье) менее распространено.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/getpro/habr/post_images/94e/38f/0a6/94e38f0a6f9ea9af3509a0278242b9b4.jpg" data-src="https://habrastorage.org/getpro/habr/post_images/94e/38f/0a6/94e38f0a6f9ea9af3509a0278242b9b4.jpg" data-blurred="true"/><br/>
<i><font color="gray">«Рабочая ячейка» Transcriptic с холодильниками внизу и различным лабораторным оборудованием на стенде</font></i><br/>
<br/>
Я выдам роботам Transcriptic инструкции на <a href="http://autoprotocol.org/">автопротоколе</a>. Autoprotocol — это язык на основе JSON для написания протоколов для лабораторных роботов (и людей, как бы). Autoprotocol в основном сделан на <a href="https://github.com/autoprotocol/autoprotocol-python">этой библиотеке Python</a>. Язык был первоначально создан и до сих пор поддерживается Transcriptic, но, как я понимаю, он полностью открыт. Есть хорошая <a href="https://developers.transcriptic.com/docs/how-to-write-a-new-protocol">документация</a>.<br/>
<br/>
Интересная идея, что на автопротоколе можно писать инструкции для людей в удалённых лабораториях — скажем, в Китае или Индии — и потенциально получить некоторые преимущества от использования и людей (их суждение), и роботов (отсутствие суждения). Здесь нужно упомянуть <a href="https://www.protocols.io/">protocols.io</a>, это попытка стандартизировать протоколы для повышения воспроизводимости, но для людей, а не роботов.<br/>
<br/>
<pre><code class="json">"instructions": [
    {
      "to": [
        {
          "well": "water/0",
          "volume": "500.0:microliter"
        }
      ],
      "op": "provision",
      "resource_id": "rs17gmh5wafm5p"
    },
    ...
]</code></pre><br/>
<i><font color="gray">Пример фрагмента autoprotocol</font></i><br/>
<br/>
<h1>Настройки Python для молекулярной биологии</h1><br/>
Кроме импорта стандартных библиотек, мне понадобятся некоторые специфические молекулярно-биологические утилиты. Этот код в основном для автопротокола и Transcriptic.<br/>
<br/>
В коде часто встречается концепция «мёртвого объёма» (dead volume). Это означает последнюю каплю жидкости, который роботы Transcriptic не могут взять пипеткой из пробирок (потому что они не видят!). Приходится тратить много времени, чтобы убедиться, что в колбах достаточный объём материала.<br/>
<br/>
<div class="spoiler"><b class="spoiler_title">Код</b><div class="spoiler_text"><pre><code class="python">import autoprotocol
from autoprotocol import Unit
from autoprotocol.container import Container
from autoprotocol.protocol import Protocol
from autoprotocol.protocol import Ref # "Link a ref name (string) to a Container instance."
import requests
import logging

# Transcriptic authorization
org_name = 'hgbrian'
tsc_headers = {k:v for k,v in json.load(open("auth.json")).items() if k in ["X_User_Email","X_User_Token"]}

# Transcriptic-specific dead volumes
_dead_volume = [("96-pcr",3), ("96-flat",25), ("96-flat-uv",25), ("96-deep",15),
                ("384-pcr",2), ("384-flat",5), ("384-echo",15),
                ("micro-1.5",15), ("micro-2.0",15)]
dead_volume = {k:Unit(v,"microliter") for k,v in _dead_volume}


def init_inventory_well(well, headers=tsc_headers, org_name=org_name):
    """Initialize well (set volume etc) for Transcriptic"""
    def _container_url(container_id):
        return 'https://secure.transcriptic.com/{}/samples/{}.json'.format(org_name, container_id)

    response = requests.get(_container_url(well.container.id), headers=headers)
    response.raise_for_status()

    container = response.json()
    well_data = container['aliquots'][well.index]
    well.name = "{}/{}".format(container["label"], well_data['name']) if well_data['name'] is not None else container["label"]
    well.properties = well_data['properties']
    well.volume = Unit(well_data['volume_ul'], 'microliter')

    if 'ERROR' in well.properties:
        raise ValueError("Well {} has ERROR property: {}".format(well, well.properties["ERROR"]))
    if well.volume &lt; Unit(20, "microliter"):
        logging.warn("Low volume for well {} : {}".format(well.name, well.volume))

    return True

def touchdown(fromC, toC, durations, stepsize=2, meltC=98, extC=72):
    """Touchdown PCR protocol generator"""
    assert 0 &lt; stepsize &lt; toC &lt; fromC
    def td(temp, dur): return {"temperature":"{:2g}:celsius".format(temp), "duration":"{:d}:second".format(dur)}

    return [{"cycles": 1, "steps": [td(meltC, durations[0]), td(C, durations[1]), td(extC, durations[2])]}
            for C in np.arange(fromC, toC-stepsize, -stepsize)]

def convert_ug_to_pmol(ug_dsDNA, num_nts):
    """Convert ug dsDNA to pmol"""
    return float(ug_dsDNA)/num_nts * (1e6 / 660.0)

def expid(val):
    """Generate a unique ID per experiment"""
    return "{}_{}".format(experiment_name, val)

def µl(microliters):
    """Unicode function name for creating microliter volumes"""
    return Unit(microliters,"microliter")</code></pre></div></div><br/>
<h1>Синтез ДНК и синтетическая биология</h1><br/>
Несмотря на связь с современной синтетической биологией, синтез ДНК — довольно старая технология. Мы в течение десятилетий умели делать оликонуклеотиды (то есть последовательности ДНК до 200 оснований). Однако это всегда было дорого, и химия никогда не допускала длинных последовательностей ДНК. В последнее время стало возможным по разумной цене синтезировать целые гены (до тысяч оснований). Это достижение действительно открывает эпоху «синтетической биологии».<br/>
<br/>
Компания <a href="http://www.syntheticgenomics.com/">Synthetic Genomics</a> Крейга Вентера продвинула синтетическую биологию дальше всего, <a href="https://en.wikipedia.org/wiki/Mycoplasma_laboratorium">синтезировав целый организм</a> — более миллиона оснований в длину. По мере увеличения длины ДНК проблемой становится уже не синтез, а сборка (т. е. сшивание вместе синтезированных последовательностей ДНК). При каждой сборке вы можете увеличить длину ДНК в два раза (или больше), поэтому после десятка или около того итераций получается <a href="http://www.wolframalpha.com/input/?i=200+*+2%5E12">довольно длинная молекула</a>! Различие между синтезом и сборкой довольно скоро должно стать понятным конечному пользователю.<br/>
<br/>
<h1>Закон Мура?</h1><br/>
Цена синтеза ДНК падает довольно быстро, с более $0,30 за основание два года назад до около $0,10 сегодня, но она развивается больше как бактерии, чем процессоры. Напротив, цены на секвенирование ДНК падают быстрее, чем закон Мура. Цель <a href="https://twitter.com/twistbioscience/status/590886375572037632">$0,02 за основание намечена как точка перегиба</a>, где вы можете заменить много трудоёмких манипуляций с ДНК простым синтезом. Например, при такой цене вы можете синтезировать целую плазмиду 3kb за <a href="http://www.wolframalpha.com/input/?i=3000+bases+at+2+cents%2Fbase">$60</a> и пропустить кучу молекулярной биологии. Надеюсь, мы достигнем этого через пару лет.<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/getpro/habr/post_images/373/b42/050/373b42050b870646857266bb3e07c7ed.png"/><br/>
<i><font color="gray">Цены на синтез ДНК по сравнению с ценами на секвенирование ДНК, цена за 1 основание (Carlson, 2014)</font></i><br/>
<br/>
<h1>Компании по синтезу ДНК</h1><br/>
В области синтеза ДНК есть несколько крупных компаний: IDT является крупнейшим производителем оликонуклеотидов, а также может производить более длинные (до 2kb) «фрагменты генов» (<a href="https://www.idtdna.com/pages/products/genes/gblocks-gene-fragments">gBlocks</a>). <a href="https://www.gen9bio.com/">Gen9</a>, <a href="https://www.twistbioscience.com/">Twist</a> и <a href="https://www.dna20.com/">DNA 2.0</a> обычно специализируются на более длинных последовательностях ДНК — это компании по синтезу генов. Есть также некоторые интересные новые компании, такие как <a href="http://cambriangenomics.com/">Cambrian Genomics</a> и <a href="http://www.genesisdna.com/">Genesis DNA</a>, которые работают над методами синтеза следующего поколения.<br/>
<br/>
Другие компании, такие как <a href="https://amyris.com/">Amyris</a>, <a href="http://www.zymergen.com/">Zymergen</a> и <a href="http://ginkgobioworks.com/">Ginkgo Bioworks</a>, используют синтезированную этими компаниями ДНК для работы на уровне организма. <a href="http://www.syntheticgenomics.com/">Synthetic Genomics</a> тоже делает это, но сама синтезирует ДНК.<br/>
<br/>
Недавно Ginkgo <a href="http://www.fiercebiotechit.com/story/flush-90m-vc-cash-twist-and-ginkgo-strike-massive-synthetic-dna-deal/2015-11-06">заключила сделку с Twist</a> на изготовление 100 миллионов оснований: самая крупная сделка, что я видел. Это доказывает, что мы живём в будущем, Twist даже рекламировала промокод в Twitter: когда вы покупаете 10 миллионов оснований ДНК (почти весь геном дрожжей!), вы получаете ещё 10 миллионов бесплатно.<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/getpro/habr/post_images/e07/bfb/ac9/e07bfbac9c53ddb79634b63efc3fc0e7.png"/><br/>
<i><font color="gray">Нишевое <a href="https://twitter.com/twistbioscience/status/621765539002740737">предложение Twist в твиттере</a></font></i><br/>
<br/>
<h1>Часть первая: проектирование эксперимента</h1><br/>
<h3>Зелёный флуоресцентный белок</h3><br/>
В этом эксперименте синтезируем последовательность ДНК для простого, <a href="https://en.wikipedia.org/wiki/Green_fluorescent_protein">зелёного флуоресцентного белка</a> (GFP). Протеин GFP впервые был найден в <a href="https://en.wikipedia.org/wiki/Aequorea_victoria">медузе</a>, которая флуоресцирует под ультрафиолетовым светом. Это чрезвычайно полезный белок, потому что легко обнаружить его экспрессию, просто измеряя флуоресценцию. Существуют варианты GFP, которые производят жёлтый, красный, оранжевый и другие цвета.<br/>
<br/>
Интересно посмотреть, как различные мутации влияют на цвет белка, и это потенциально интересная проблема машинного обучения. Совсем недавно для этого пришлось бы потратить немало времени в лаборатории, но сейчас я вам покажу, что это (почти) так же просто, как редактирование текстового файла!<br/>
<br/>
Технически, мой GFP является суперфолдер-вариантом (sfGFP) с некоторыми мутациями для улучшения качеств.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/tb/tm/_v/tbtm_vcly3elxlwhbcoknhsjpuo.jpeg" data-src="https://habrastorage.org/webt/tb/tm/_v/tbtm_vcly3elxlwhbcoknhsjpuo.jpeg" data-blurred="true"/><br/>
<i><font color="gray">В <a href="https://www.nature.com/articles/nbt1172">суперфолдер-GFP</a> (sfGFP) некоторые мутации придают ему определённые полезные свойства</font></i> <br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/getpro/habr/post_images/645/232/c67/645232c67631f484ed6e8b30f6fa91eb.jpg" data-src="https://habrastorage.org/getpro/habr/post_images/645/232/c67/645232c67631f484ed6e8b30f6fa91eb.jpg" data-blurred="true"/><br/>
<i><font color="gray">Структура GFP (визуализируется с помощью <a href="http://dx.doi.org/10.5281/zenodo.20980">PV</a>)</font></i> <br/>
<br/>
<h3>Синтез GFP в Twist</h3><br/>
Мне посчастливилось попасть в альфа-программу тестирования Twist, поэтому я использовал их сервис для синтеза ДНК (они любезно разместили мой крошечный заказ — спасибо, Twist!). Это новая компания в нашей области, с новым упрощённым процессом синтеза. Цены у них в районе <a href="https://groups.google.com/forum/?fromgroups#!topic/diybio/O1Tn1O-l-mQ">$0,10 за основание или ниже</a>, но они <a href="https://www.twistbioscience.com/">всё ещё в бета-версии</a>, а альфа-программа, в которой я принимал участие, закрылась. Twist поднял около $150 млн, так что их технология вызывает живой энтузиазм.<br/>
<br/>
Я отправил свою последовательность ДНК в Twist в виде электронной таблицы Excel (пока нет API, но я предполагаю, что скоро будет), а они отправили синтезированную ДНК прямо на мой ящик в лаборатории Transcriptic (я также использовал для синтеза IDT, но они не отправили ДНК прямо в Transcriptic, что немного портит удовольствие).<br/>
<br/>
Очевидно, этот процесс ещё не стал типичным случаем использования и требует некоторой поддержки, но он сработал, так что весь конвейер остаётся виртуальным. Без этого мне, вероятно, понадобился бы доступ в лабораторию — многие компании не будут отправлять ДНК или реагенты на домашний адрес.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/getpro/habr/post_images/734/378/b0b/734378b0b151d2ed64bbd3ebb6edf0f3.jpg" data-src="https://habrastorage.org/getpro/habr/post_images/734/378/b0b/734378b0b151d2ed64bbd3ebb6edf0f3.jpg" data-blurred="true"/><br/>
<i><font color="gray">GFP безвреден, поэтому <a href="http://news.nationalgeographic.com/news/2009/05/photogalleries/glowing-animal-pictures/">подсвечивается любой вид</a></font></i><br/>
<br/>
<h3>Плазмидный вектор</h3><br/>
Чтобы экспрессировать этот белок в бактериях, гену нужно где-то жить, иначе синтетическая ДНК, кодирующая ген, просто мгновенно деградирует. Как правило, в молекулярной биологии мы используем плазмиду, кусочек круглой ДНК, который живёт вне бактериального генома и экспрессирует белки. Плазмиды — удобный способ для бактерий делиться полезными автономными функциональными модулями, такими как устойчивость к антибиотикам. В клетке могут быть сотни плазмид.<br/>
<br/>
Широко используемая терминология заключается в том, что плазмида является <b>вектором</b>, а синтетическая ДНК — инсерцией (вставкой). Итак, здесь мы пытаемся клонировать инсерцию в вектор, а затем трансформировать бактерии с помощью вектора.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/getpro/habr/post_images/66c/9ae/d03/66c9aed037ae408c6f642433d9a2a130.jpg" data-src="https://habrastorage.org/getpro/habr/post_images/66c/9ae/d03/66c9aed037ae408c6f642433d9a2a130.jpg" data-blurred="true"/><br/>
<i><font color="gray">Бактериальный геном и плазмида (не в масштабе!) (<a href="https://en.wikipedia.org/wiki/Plasmid">Википедия</a>)</font></i><br/>
<br/>
<h3>pUC19</h3><br/>
Я выбрал довольно стандартную плазмиду в серии <a href="https://en.wikipedia.org/wiki/PUC19">pUC19</a>. Эта плазмида очень часто используется, и поскольку она доступна как часть стандартного инвентаря Transcriptic, нам не нужно ничего им отправлять.<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/getpro/habr/post_images/4f3/576/8f1/4f35768f17d5ff5506f7d1aca0b064a0.png"/><br/>
<i><font color="gray">Структура pUC19: основными компонентами являются ген устойчивости к ампициллину, lacZα, MCS/полилинкер и происхождение репликации (Википедия)</font></i><br/>
<br/>
У pUC19 есть приятная функция: поскольку он содержит ген lacZα, на нём можно применить метод <a href="https://en.wikipedia.org/wiki/Blue%E2%80%93white_screen">бело-голубой селекции</a> и посмотреть, в каких колониях успешно прошла инсерция. Нужны два химиката: <a href="https://en.wikipedia.org/wiki/Isopropyl_%CE%B2-D-1-thiogalactopyranoside">IPTG</a> и <a href="https://en.wikipedia.org/wiki/X-gal">X-gal</a>, и схема работает следующим образом:<br/>
<br/>
<ul>
<li>IPTG индуцирует экспрессию lacZα.<br/>
</li>
<li>Если lacZα деактивирован через ДНК, вставленную в место множественного клонирования (<a href="https://en.wikipedia.org/wiki/Multiple_cloning_site">MCS/полилинкер</a>) в lacZα, то плазмида не может осуществлять гидролиз X-gal, и эти колонии будут белыми вместо синих.<br/>
</li>
<li>Поэтому успешная инсерция производит белые колонии, а неудачная инсерция производит синие колонии.</li>
</ul><br/>
<img src="https://habrastorage.org/r/w780q1/getpro/habr/post_images/123/aac/aca/123aacacac400c6f96966d2f2caeb918.jpg" data-src="https://habrastorage.org/getpro/habr/post_images/123/aac/aca/123aacacac400c6f96966d2f2caeb918.jpg" data-blurred="true"/><br/>
<i><font color="gray">Бело-голубая селекция показывает, где была деактивирована экспрессия lacZα (<a href="https://en.wikipedia.org/wiki/Blue_white_screen">Википедия</a>)</font></i><br/>
<br/>
<a href="http://openwetware.org/images/f/f1/Dh5a_sub.pdf">Документация по openwetware</a> говорит:<br/>
<br/>
<blockquote>DH5α E. coli не требует IPTG, чтобы вызвать экспрессию от промотора lac, даже если в штамме экспрессируется репрессор Lac. Число копий большинства плазмид превышает число репрессоров в клетках. Если вам нужен максимальный уровень экспрессии, добавьте IPTG к конечной концентрации 1 mM.</blockquote><br/>
<h1>Синтетические последовательности ДНК</h1><br/>
<h3>Последовательность ДНК sfGFP</h3><br/>
Легко получить последовательность ДНК для sfGFP, взяв <a href="http://www.ncbi.nlm.nih.gov/protein/532528641">последовательность белка</a> и <a href="https://www.idtdna.com/CodonOpt">кодируя её кодонами</a>, подходящими для организма-хозяина (здесь, <i>E. coli</i>). Это белок среднего размера с 236 аминокислотами, так что при 10 центах за основание синтез ДНК стоит около <a href="http://www.wolframalpha.com/input/?i=236+amino+acids+*+3+base+pairs+per+amino+acid+*+10+cents+per+base">$70</a>.<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/getpro/habr/post_images/296/9da/a41/2969daa417296779220366c36c02a0e5.png"/><br/>
<i><font color="gray">Wolfram Alpha, расчёт стоимости синтеза</font></i><br/>
<br/>
Первые 12 оснований нашего sfGFP — это <a href="https://en.wikipedia.org/wiki/Shine-Dalgarno_sequence">последовательность Шайна — Дельгарно</a>, которую я добавил сам, что теоретически должно увеличить экспрессию (AGGAGGACAGCT, затем ATG (<a href="https://en.wikipedia.org/wiki/Start_codon">старт-кодон</a>) запускает белок). Согласно вычислительному инструменту, разработанному <a href="https://salislab.net/software/Results">Salis Lab</a> (<a href="http://www.genscript.com/gsfiles/techfiles/Salis_Genscript.pdf">слайды лекции</a>), мы можем ожидать от средней до высокой экспрессии нашего белка (скорость инициации перевода 10 000 «произвольных единиц»).<br/>
<br/>
<pre><code class="python">sfGFP_plus_SD = clean_seq("""
AGGAGGACAGCTATGTCGAAAGGAGAAGAACTGTTTACCGGTGTGGTTCCGATTCTGGTAGAACTGGA
TGGGGACGTGAACGGCCATAAATTTAGCGTCCGTGGTGAGGGTGAAGGGGATGCCACAAATGGCAAAC
TTACCCTTAAATTCATTTGCACTACCGGCAAGCTGCCGGTCCCTTGGCCGACCTTGGTCACCACACTG
ACGTACGGGGTTCAGTGTTTTTCGCGTTATCCAGATCACATGAAACGCCATGACTTCTTCAAAAGCGC
CATGCCCGAGGGCTATGTGCAGGAACGTACGATTAGCTTTAAAGATGACGGGACCTACAAAACCCGGG
CAGAAGTGAAATTCGAGGGTGATACCCTGGTTAATCGCATTGAACTGAAGGGTATTGATTTCAAGGAA
GATGGTAACATTCTCGGTCACAAATTAGAATACAACTTTAACAGTCATAACGTTTATATCACCGCCGA
CAAACAGAAAAACGGTATCAAGGCGAATTTCAAAATCCGGCACAACGTGGAGGACGGGAGTGTACAAC
TGGCCGACCATTACCAGCAGAACACACCGATCGGCGACGGCCCGGTGCTGCTCCCGGATAATCACTAT
TTAAGCACCCAGTCAGTGCTGAGCAAAGATCCGAACGAAAAACGTGACCATATGGTGCTGCTGGAGTT
CGTGACCGCCGCGGGCATTACCCATGGAATGGATGAACTGTATAAA""")
print("Read in sfGFP plus Shine-Dalgarno: {} bases long".format(len(sfGFP_plus_SD)))

sfGFP_aas = clean_aas("""MSKGEELFTGVVPILVELDGDVNGHKFSVRGEGEGDATNGKLTLKFICTTGKLPVPWPTLVTTLTYG
VQCFSRYPDHMKRHDFFKSAMPEGYVQERTISFKDDGTYKTRAEVKFEGDTLVNRIELKGIDFKEDGNILGHKLEYNFNSHNVYITADKQKN
GIKANFKIRHNVEDGSVQLADHYQQNTPIGDGPVLLPDNHYLSTQSVLSKDPNEKRDHMVLLEFVTAAGITHGMDELYK""")
assert sfGFP_plus_SD[12:].translate() == sfGFP_aas
print("Translation matches protein with accession 532528641")</code></pre><br/>
<pre>Read in sfGFP plus Shine-Dalgarno: 726 bases long
Translation matches protein with accession 532528641</pre><br/>
<h3>Последовательность ДНК pUC19</h3><br/>
Сначала я проверяю, что у <a href="https://www.neb.com/~/media/NebUs/Page%20Images/Tools%20and%20Resources/Interactive%20Tools/DNA%20Sequences%20and%20Maps/Text%20Documents/puc19fsa.txt">последовательности pUC19, которую я загрузил из NEB</a>, правильная длина и она включает в себя ожидаемый <a href="https://en.wikipedia.org/wiki/Multiple_cloning_site">полилинкер</a>.<br/>
<br/>
<pre><code class="python">pUC19_fasta = !cat puc19fsa.txt
pUC19_fwd = clean_seq(''.join(pUC19_fasta[1:]))
pUC19_rev = pUC19_fwd.reverse_complement()
assert all(nt in "ACGT" for nt in pUC19_fwd)
assert len(pUC19_fwd) == 2686

pUC19_MCS = clean_seq("GAATTCGAGCTCGGTACCCGGGGATCCTCTAGAGTCGACCTGCAGGCATGCAAGCTT")
print("Read in pUC19: {} bases long".format(len(pUC19_fwd)))
assert pUC19_MCS in pUC19_fwd
print("Found MCS/polylinker")</code></pre><br/>
<pre>Read in pUC19: 2686 bases long
Found MCS/polylinker</pre><br/>
Делаем некоторые основные QC, чтобы убедиться, что EcoRI и BamHI присутствуют в pUC19 только один раз (следующие ферменты рестрикции имеются в инвентаре Transcriptic по умолчанию: <i>PstI</i>, <i>PvuII</i>, <i>EcoRI</i>, <i>BamHI</i>, <i>BbsI</i>, <i>BsmBI</i>).<br/>
<br/>
<pre><code class="python">REs = {"EcoRI":"GAATTC", "BamHI":"GGATTC"}
for rename, res in REs.items():
    assert (pUC19_fwd.find(res) == pUC19_fwd.rfind(res) and
            pUC19_rev.find(res) == pUC19_rev.rfind(res))
    assert (pUC19_fwd.find(res) == -1 or pUC19_rev.find(res) == -1 or
            pUC19_fwd.find(res) == len(pUC19_fwd) - pUC19_rev.find(res) - len(res))
print("Asserted restriction enzyme sites present only once: {}".format(REs.keys()))</code></pre><br/>
Теперь смотрим на последовательность lacZα и проверяем, что нет ничего неожиданного. Например, она должна начинаться с Met и заканчиваться стоп-кодоном. Также легко подтвердить, что это полный 324bp lacZα ORF, загрузив последовательность pUC19 в бесплатный <a href="http://www.snapgene.com/products/snapgene_viewer/">инструмент просмотра snapgene</a>.<br/>
<br/>
<pre><code class="python">lacZ = pUC19_rev[2217:2541]
print("lacZα sequence:\t{}".format(lacZ))
print("r_MCS sequence:\t{}".format(pUC19_MCS.reverse_complement()))

lacZ_p = lacZ.translate()
assert lacZ_p[0] == "M" and not "*" in lacZ_p[:-1] and lacZ_p[-1] == "*"
assert pUC19_MCS.reverse_complement() in lacZ
assert pUC19_MCS.reverse_complement() == pUC19_rev[2234:2291]
print("Found MCS once in lacZ sequence")</code></pre><br/>
<pre>lacZ sequence:      ATGACCATGATTACGCCAAGCTTGCATGCCTGCAGGTCGACTCTAGAGGATCCCCGGGTACCGAGCTCGAATTCACTGGCCGTCGTTTTACAACGTCGTGACTGGGAAAACCCTGGCGTTACCCAACTTAATCGCCTTGCAGCACATCCCCCTTTCGCCAGCTGGCGTAATAGCGAAGAGGCCCGCACCGATCGCCCTTCCCAACAGTTGCGCAGCCTGAATGGCGAATGGCGCCTGATGCGGTATTTTCTCCTTACGCATCTGTGCGGTATTTCACACCGCATATGGTGCACTCTCAGTACAATCTGCTCTGATGCCGCATAG
r_MCS sequence:     AAGCTTGCATGCCTGCAGGTCGACTCTAGAGGATCCCCGGGTACCGAGCTCGAATTC
Found MCS once in lacZ sequence</pre><br/>
<h1>Сборка методом Гибсона</h1><br/>
Сборка ДНК означает просто сшивание фрагментов. Обычно вы собираете несколько фрагментов ДНК в более длинный сегмент, а затем клонируете его в плазмиду или геном. В этом эксперименте я хочу клонировать один сегмент ДНК в плазмиду pUC19 ниже промотора lac для экспрессии в <i>E. coli</i>.<br/>
<br/>
Существует множество способов клонирования (например, <a href="https://www.neb.com/applications/cloning-and-synthetic-biology">NEB</a>, <a href="http://openwetware.org/wiki/Janet_B._Matsen:Guide_to_Gibson_Assembly">openwetware</a>, <a href="https://www.addgene.org/plasmid-protocols/PCR-cloning/">addgene</a>). Здесь я буду использовать сборку методом Гибсона (<a href="https://en.wikipedia.org/wiki/Gibson_assembly">разработанную Даниэлем Гибсоном</a> в Synthetic Genomics в 2009 году), которая не обязательно является самым дешёвым методом, зато простая и гибкая. Нужно только поместить ДНК, которую вы хотите собрать (с соответствующими перекрытиями) в пробирку со смесью Gibson Assembly Master Mix, и она собирается сама!<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/getpro/habr/post_images/8df/946/db5/8df946db53b725f89277be267d2e3ab9.jpg" data-src="https://habrastorage.org/getpro/habr/post_images/8df/946/db5/8df946db53b725f89277be267d2e3ab9.jpg" data-blurred="true"/><br/>
<i><font color="gray">Обзор сборки Гибсона (<a href="https://www.neb.com/products/e2611-gibson-assembly-master-mix">NEB</a>)</font></i><br/>
<br/>
<h3>Исходный материал</h3><br/>
Начинаем со 100 нг синтетической ДНК в 10 мкл жидкости. Это равняется 0,21 пикомолей ДНК или концентрации 10 нг/мкл.<br/>
<br/>
<pre><code class="python">pmol_sfgfp = convert_ug_to_pmol(0.1, len(sfGFP_plus_SD))
print("Insert: 100ng of DNA of length {:4d} equals {:.2f} pmol".format(len(sfGFP_plus_SD), pmol_sfgfp))</code></pre><br/>
<pre>Insert: 100ng of DNA of length  726 equals 0.21 pmol</pre><br/>
Согласно <a href="https://www.neb.com/protocols/2012/12/11/gibson-assembly-protocol-e5510">протоколу сборки NEB</a>, это достаточно исходного материала:<br/>
<br/>
<blockquote>NEB рекомендует в общей сложности 0,02-0,5 пикомолей фрагментов ДНК, когда в вектор собирается 1 или 2 фрагмента, или 0,2-1,0 пикомолей фрагментов ДНК, когда собираются 4-6 фрагментов.<br/>
<br/>
0.02-0.5 пмолей * X мкл<br/>
* Оптимизированная эффективность клонирования составляет 50-100 нг векторов с 2-3-кратным избытком инсерций. Используйте в 5 раз больше инсерций, если размер меньше 200 bps. Общий объём нефильтрованных фрагментов PCR в реакции сборки Гибсона не должен превышать 20%.</blockquote><br/>
<h3>NEBuilder для сборки Гибсона</h3><br/>
<a href="http://nebuilder.neb.com/">NEBuilder</a> от компании Biolab — это действительно отличный инструмент для создания протокола сборки Гибсона. Он даже генерирует вам всеобъемлющий четырёхстраничный PDF со всей информацией. С помощью этого инструмента разрабатываем протокол для вырезания pUC19 с EcoRI, а затем используем PCR [ПЦР, полимеразная цепная реакция позволяет добиться значительного увеличения малых концентраций определённых фрагментов ДНК в биологическом материале — прим. пер.] для добавления фрагментов соответствующего размера в инсерцию.<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/getpro/habr/post_images/1f5/d52/171/1f5d52171cb60c8e8b4cb83f24b0c8c8.png"/><br/>
<br/>
<h1>Часть вторая: проведение эксперимента</h1><br/>
Эксперимент состоит из четырёх этапов:<br/>
<br/>
<ol>
<li>Полимеразная цепная реакция инсерции для добавления материала с фланкирующей последовательностью.<br/>
</li>
<li>Резка плазмиды для размещения инсерции.<br/>
</li>
<li>Сборка методом Гибсона инсерции и плазмиды.<br/>
</li>
<li>Трансформация бактерий с помощью собранной плазмиды.</li>
</ol><br/>
<h3>Шаг 1. PCR инсерции</h3><br/>
Сборка Гибсона зависит от последовательности ДНК, которую вы собираете, имея некоторую перекрывающуюся последовательность (см. выше протокол NEB с подробными инструкциями). Кроме простой амплификации, PCR также позволяет добавлять фланкирующую последовательность ДНК, просто включив дополнительную последовательность в праймеры (также можно клонировать, <a href="http://www.ncbi.nlm.nih.gov/pmc/articles/PMC3121328/">используя только OE-PCR</a>).<br/>
<br/>
Синтезируем праймеры в соответствии с протоколом NEB выше. Я попробовал <a href="https://developers.transcriptic.com/docs/oligosynthesis-1">протокол Quickstart</a> на сайте Transcriptic, но есть ещё <a href="http://autoprotocol-python.readthedocs.org/en/latest/autoprotocol.html#protocol-oligosynthesize">команда автопротокола</a>. Transcriptic сама не производит синтез олигонуклеотидов, поэтому после 1-2 дней ожидания эти праймеры волшебным образом появляются в моём инвентаре (обратите внимание, что ген-специфическая часть праймеров ниже указана в верхнем регистре, но это просто косметические вещи).<br/>
<br/>
<pre><code class="python">insert_primers = ["aaacgacggccagtgTTTATACAGTTCATCCATTCCATG", "cgggtaccgagctcgAGGAGGACAGCTATGTCG"]</code></pre><br/>
<h3>Анализ праймеров</h3><br/>
Можно проанализировать свойства этих праймеров с помощью <a href="https://www.idtdna.com/calc/analyzer">IDT OligoAnalyzer</a>. при отладке эксперимента PCR полезно знать температуры плавления и вероятность побочного эффекта <a href="https://en.wikipedia.org/wiki/Primer_dimer">primer dimer</a>, хотя протокол NEB почти наверняка выберет праймеры с хорошими свойствами.<br/>
<br/>
<pre>Gene-specific portion of flank (uppercase)
  Melt temperature: 51C, 53.5C
Full sequence
  Melt temperature: 64.5C, 68.5C
  Hairpin: -.4dG, -5dG
  Self-dimer: -9dG, -16dG
  Heterodimer: -6dG</pre><br/>
Я прошёл через много итераций PCR, прежде чем получить удовлетворительные результаты, включая эксперименты с несколькими различными марками смесей PCR. Поскольку каждая из этих итераций может занять несколько дней (в зависимости от длины очереди в лабораторию), стоит заранее потратить время на отладку: это экономит много времени в долгосрочной перспективе. По мере увеличения мощности облачной лаборатории эта проблема должна стать менее острой. Тем не менее, вряд ли ваш первый протокол будет успешным — здесь слишком много переменных.<br/>
<br/>
<div class="spoiler"><b class="spoiler_title">Код</b><div class="spoiler_text"><pre><code class="python">""" PCR overlap extension of sfGFP according to NEB protocol.
v5: Use 3/10ths as much primer as the v4 protocol.
v6: more complex touchdown pcr procedure. The Q5 temperature was probably too hot
v7: more time at low temperature to allow gene-specific part to anneal
v8: correct dNTP concentration, real touchdown
"""

p = Protocol()

# ---------------------------------------------------
# Set up experiment
#
experiment_name = "sfgfp_pcroe_v8"
template_length = 740

_options = {'dilute_primers' : False, # if working stock has not been made
            'dilute_template': False, # if working stock has not been made
            'dilute_dNTP'    : False, # if working stock has not been made
            'run_gel'        : True,  # run a gel to see the plasmid size
            'run_absorbance' : False, # check absorbance at 260/280/320
            'run_sanger'     : False} # sanger sequence the new sequence
options = {k for k,v in _options.items() if v is True}

# ---------------------------------------------------
# Inventory and provisioning
# https://developers.transcriptic.com/v1.0/docs/containers
#
# 'sfgfp2':              'ct17yx8h77tkme', # inventory; sfGFP tube #2, micro-1.5, cold_20
# 'sfgfp_puc19_primer1': 'ct17z9542mrcfv', # inventory; micro-2.0, cold_4
# 'sfgfp_puc19_primer2': 'ct17z9542m5ntb', # inventory; micro-2.0, cold_4
# 'sfgfp_idt_1ngul':     'ct184nnd3rbxfr', # inventory; micro-1.5, cold_4, (ERROR: no template)
#
inv = {
    'Q5 Polymerase':                     'rs16pcce8rdytv', # catalog; Q5 High-Fidelity DNA Polymerase
    'Q5 Buffer':                         'rs16pcce8rmke3', # catalog; Q5 Reaction Buffer
    'dNTP Mixture':                      'rs16pcb542c5rd', # catalog; dNTP Mixture (25mM?)
    'water':                             'rs17gmh5wafm5p', # catalog; Autoclaved MilliQ H2O
    'sfgfp_pcroe_v5_puc19_primer1_10uM': 'ct186cj5cqzjmr', # inventory; micro-1.5, cold_4
    'sfgfp_pcroe_v5_puc19_primer2_10uM': 'ct186cj5cq536x', # inventory; micro-1.5, cold_4
    'sfgfp1':                            'ct17yx8h759dk4', # inventory; sfGFP tube #1, micro-1.5, cold_20
}


# Existing inventory
template_tube = p.ref("sfgfp1", id=inv['sfgfp1'], cont_type="micro-1.5", storage="cold_4").well(0)
dilute_primer_tubes = [p.ref('sfgfp_pcroe_v5_puc19_primer1_10uM', id=inv['sfgfp_pcroe_v5_puc19_primer1_10uM'], cont_type="micro-1.5", storage="cold_4").well(0),
                       p.ref('sfgfp_pcroe_v5_puc19_primer2_10uM', id=inv['sfgfp_pcroe_v5_puc19_primer2_10uM'], cont_type="micro-1.5", storage="cold_4").well(0)]

# New inventory resulting from this experiment
dilute_template_tube = p.ref("sfgfp1_0.25ngul",  cont_type="micro-1.5", storage="cold_4").well(0)
dNTP_10uM_tube       = p.ref("dNTP_10uM",        cont_type="micro-1.5", storage="cold_4").well(0)
sfgfp_pcroe_out_tube = p.ref(expid("amplified"), cont_type="micro-1.5", storage="cold_4").well(0)

# Temporary tubes for use, then discarded
mastermix_tube = p.ref("mastermix", cont_type="micro-1.5", storage="cold_4",  discard=True).well(0)
water_tube =     p.ref("water",     cont_type="micro-1.5", storage="ambient", discard=True).well(0)
pcr_plate =      p.ref("pcr_plate", cont_type="96-pcr",    storage="cold_4",  discard=True)
if 'run_absorbance' in options:
    abs_plate = p.ref("abs_plate", cont_type="96-flat", storage="cold_4", discard=True)

# Initialize all existing inventory
all_inventory_wells = [template_tube] + dilute_primer_tubes
for well in all_inventory_wells:
    init_inventory_well(well)
    print(well.name, well.volume, well.properties)


# -----------------------------------------------------
# Provision water once, for general use
#
p.provision(inv["water"], water_tube, µl(500))

# -----------------------------------------------------
# Dilute primers 1/10 (100uM->10uM) and keep at 4C
#
if 'dilute_primers' in options:
    for primer_num in (0,1):
        p.transfer(water_tube, dilute_primer_tubes[primer_num], µl(90))
        p.transfer(primer_tubes[primer_num], dilute_primer_tubes[primer_num], µl(10), mix_before=True, mix_vol=µl(50))
        p.mix(dilute_primer_tubes[primer_num], volume=µl(50), repetitions=10)


# -----------------------------------------------------
# Dilute template 1/10 (10ng/ul->1ng/ul) and keep at 4C
# OR
# Dilute template 1/40 (10ng/ul->0.25ng/ul) and keep at 4C
#
if 'dilute_template' in options:
    p.transfer(water_tube, dilute_template_tube, µl(195))
    p.mix(dilute_template_tube, volume=µl(100), repetitions=10)

# Dilute dNTP to exactly 10uM
if 'dilute_DNTP' in options:
    p.transfer(water_tube,           dNTP_10uM_tube, µl(6))
    p.provision(inv["dNTP Mixture"], dNTP_10uM_tube, µl(4))


# -----------------------------------------------------
# Q5 PCR protocol
# www.neb.com/protocols/2013/12/13/pcr-using-q5-high-fidelity-dna-polymerase-m0491
#
# 25ul reaction
# -------------
# Q5 reaction buffer      5    µl
# Q5 polymerase           0.25 µl
# 10mM dNTP               0.5  µl -- 1µl = 4x12.5mM
# 10uM primer 1           1.25 µl
# 10uM primer 2           1.25 µl
# 1pg-1ng Template        1    µl -- 0.5 or 1ng/ul concentration
# -------------------------------
# Sum                     9.25 µl
#
#

# Mastermix tube will have 96ul of stuff, leaving space for 4x1ul aliquots of template
p.transfer(water_tube,             mastermix_tube, µl(64))
p.provision(inv["Q5 Buffer"],      mastermix_tube, µl(20))
p.provision(inv['Q5 Polymerase'],  mastermix_tube, µl(1))
p.transfer(dNTP_10uM_tube,         mastermix_tube, µl(1), mix_before=True, mix_vol=µl(2))
p.transfer(dilute_primer_tubes[0], mastermix_tube, µl(5), mix_before=True, mix_vol=µl(10))
p.transfer(dilute_primer_tubes[1], mastermix_tube, µl(5), mix_before=True, mix_vol=µl(10))
p.mix(mastermix_tube, volume="48:microliter", repetitions=10)

# Transfer mastermix to pcr_plate without template
p.transfer(mastermix_tube, pcr_plate.wells(["A1","B1","C1"]), µl(24))
p.transfer(mastermix_tube, pcr_plate.wells(["A2"]),           µl(24)) # acknowledged dead volume problems
p.mix(pcr_plate.wells(["A1","B1","C1","A2"]), volume=µl(12), repetitions=10)

# Finally add template
p.transfer(template_tube,  pcr_plate.wells(["A1","B1","C1"]), µl(1))
p.mix(pcr_plate.wells(["A1","B1","C1"]), volume=µl(12.5), repetitions=10)

# ---------------------------------------------------------
# Thermocycle with Q5 and hot start
# 61.1 annealing temperature is recommended by NEB protocol
# p.seal is enforced by transcriptic
#
extension_time = int(max(2, np.ceil(template_length * (11.0/1000))))
assert 0 &lt; extension_time &lt; 60, "extension time should be reasonable for PCR"

cycles = [{"cycles":  1, "steps": [{"temperature": "98:celsius", "duration": "30:second"}]}] + \
         touchdown(70, 61, [8, 25, extension_time], stepsize=0.5) + \
         [{"cycles": 16, "steps": [{"temperature": "98:celsius", "duration": "8:second"},
                                   {"temperature": "61.1:celsius", "duration": "25:second"},
                                   {"temperature": "72:celsius", "duration": "{:d}:second".format(extension_time)}]},
          {"cycles":  1, "steps": [{"temperature": "72:celsius", "duration": "2:minute"}]}]
p.seal(pcr_plate)
p.thermocycle(pcr_plate, cycles, volume=µl(25))

# --------------------------------------------------------
# Run a gel to hopefully see a 740bp fragment
#
if 'run_gel' in options:
    p.unseal(pcr_plate)
    p.mix(pcr_plate.wells(["A1","B1","C1","A2"]), volume=µl(12.5), repetitions=10)
    p.transfer(pcr_plate.wells(["A1","B1","C1","A2"]), pcr_plate.wells(["D1","E1","F1","D2"]),
               [µl(2), µl(4), µl(8), µl(8)])
    p.transfer(water_tube, pcr_plate.wells(["D1","E1","F1","D2"]),
               [µl(18),µl(16),µl(12),µl(12)], mix_after=True, mix_vol=µl(10))
    p.gel_separate(pcr_plate.wells(["D1","E1","F1","D2"]),
                   µl(20), "agarose(10,2%)", "ladder1", "10:minute", expid("gel"))

#---------------------------------------------------------
# Absorbance dilution series. Take 1ul out of the 25ul pcr plate wells
#
if 'run_absorbance' in options:
    p.unseal(pcr_plate)
    abs_wells = ["A1","B1","C1","A2","B2","C2","A3","B3","C3"]

    p.transfer(water_tube, abs_plate.wells(abs_wells[0:6]), µl(10))
    p.transfer(water_tube, abs_plate.wells(abs_wells[6:9]), µl(9))

    p.transfer(pcr_plate.wells(["A1","B1","C1"]), abs_plate.wells(["A1","B1","C1"]), µl(1), mix_after=True, mix_vol=µl(5))
    p.transfer(abs_plate.wells(["A1","B1","C1"]), abs_plate.wells(["A2","B2","C2"]), µl(1), mix_after=True, mix_vol=µl(5))
    p.transfer(abs_plate.wells(["A2","B2","C2"]), abs_plate.wells(["A3","B3","C3"]), µl(1), mix_after=True, mix_vol=µl(5))
    for wavelength in [260, 280, 320]:
        p.absorbance(abs_plate, abs_plate.wells(abs_wells),
                     "{}:nanometer".format(wavelength), exp_id("abs_{}".format(wavelength)), flashes=25)

# -----------------------------------------------------------------------------
# Sanger sequencing: https://developers.transcriptic.com/docs/sanger-sequencing
# "Each reaction should have a total volume of 15 µl and we recommend the following composition of DNA and primer:
#  PCR product (40 ng), primer (1 µl of a 10 µM stock)"
#
#  By comparing to the gel ladder concentration (175ng/lane), it looks like 5ul of PCR product has approximately 30ng of DNA
#
if 'run_sanger' in options:
    p.unseal(pcr_plate)
    seq_wells = ["G1","G2"]
    for primer_num, seq_well in [(0, seq_wells[0]),(1, seq_wells[1])]:
        p.transfer(dilute_primer_tubes[primer_num], pcr_plate.wells([seq_well]),
                   µl(1), mix_before=True, mix_vol=µl(50))
        p.transfer(pcr_plate.wells(["A1"]), pcr_plate.wells([seq_well]),
                   µl(5), mix_before=True, mix_vol=µl(10))
        p.transfer(water_tube, pcr_plate.wells([seq_well]), µl(9))

    p.mix(pcr_plate.wells(seq_wells), volume=µl(7.5), repetitions=10)
    p.sangerseq(pcr_plate, pcr_plate.wells(seq_wells[0]).indices(), expid("seq1"))
    p.sangerseq(pcr_plate, pcr_plate.wells(seq_wells[1]).indices(), expid("seq2"))

# -------------------------------------------------------------------------
# Then consolidate to one tube. Leave at least 3ul dead volume in each tube
#
remaining_volumes = [well.volume - dead_volume['96-pcr'] for well in pcr_plate.wells(["A1","B1","C1"])]
print("Consolidated volume", sum(remaining_volumes, µl(0)))
p.consolidate(pcr_plate.wells(["A1","B1","C1"]), sfgfp_pcroe_out_tube, remaining_volumes, allow_carryover=True)

uprint("\nProtocol 1. Amplify the insert (oligos previously synthesized)")
jprotocol = json.dumps(p.as_dict(), indent=2)
!echo '{jprotocol}' | transcriptic analyze
open("protocol_{}.json".format(experiment_name),'w').write(jprotocol)</code></pre></div></div><br/>
<pre>WARNING:root:Low volume for well sfGFP 1 /sfGFP 1  : 2.0:microliter</pre><br/>
<pre>sfGFP 1 /sfGFP 1  2.0:microliter {'dilution': '0.25ng/ul'}
sfgfp_pcroe_v5_puc19_primer1_10uM 75.0:microliter {}
sfgfp_pcroe_v5_puc19_primer2_10uM 75.0:microliter {}
Consolidated volume 52.0:microliter

Protocol 1. Amplify the insert (oligos previously synthesized)
---------------------------------------------------------------

  
✓ Protocol analyzed
  11 instructions
  8 containers
  Total Cost: $32.18
  Workcell Time: $4.32
  Reagents &amp; Consumables: $27.86</pre><br/>
<h1>Результаты: PCR инсерции</h1><br/>
<h3>Анализ результатов в геле</h3><br/>
В геле можно оценить правильный <b>размер</b> продукта после увеличения концентрации (положение полоски в геле) и правильное <b>количество</b> (темнота полоски). В геле есть лестница, соответствующая различным длинам и количествам ДНК, которые можно использовать для сравнения.<br/>
<br/>
На гелевой фотографии ниже полосы D1, E1, F1 содержат соответственно 2 мкл, 4 мкл и 8 мкл амплифицированного продукта. Я могу оценить количество ДНК в каждой полосе по сравнению с ДНК в лестнице (50 нг ДНК на полосу в лестнице). Думаю, что результаты выглядят очень чистыми.<br/>
<br/>
Я попытался использовать для анализа изображения и оценки концентрации <a href="http://www.frogdance.dundee.ac.uk/FrogDance_Software.html">GelEval</a>, и вполне успешно, хотя я не уверен, что это намного точнее, чем более наивный метод. Однако небольшие изменения в расположении и размере полос привели к большим изменениям в оценке количества ДНК. Моя лучшая оценка количества ДНК в моём амплифицированном продукте с использованием GelEval составляет 40 нг/мкл.<br/>
<br/>
Если предположить, что мы <a href="http://forums.biotechniques.com/viewtopic.php?f=2&amp;t=9105">ограничены количеством праймера в смеси</a>, а не количеством dNTP или фермента, то, поскольку у меня есть 12,5 пмоль каждого праймера, это означает теоретический максимум 6 мкг ДНК 740bp в 25 мкл. Поскольку моя оценка общего количества ДНК с использованием GelEval составляет 40 нг x 25 мкл (1 мкг или 2 пмоля), эти результаты очень разумны и близки к тому, что я должен ожидать в идеальных условиях.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/getpro/habr/post_images/74a/f5d/284/74af5d28463dbbd2279353a4651087f6.jpg" data-src="https://habrastorage.org/getpro/habr/post_images/74a/f5d/284/74af5d28463dbbd2279353a4651087f6.jpg" data-blurred="true"/><br/>
<i><font color="gray">Гель-электрофорез EcoRI-среза pUC19, различные концентрации (D1, E1, F1), плюс контроль (D2)</font></i><br/>
<br/>
<h3>Диагностика результатов PCR</h3><br/>
Недавно Transcriptic начала предоставлять интересные и полезные диагностические данные от своих роботов. На момент написания статьи они недоступны для загрузки, поэтому пока у меня есть только изображение температур во время термоциклирования.<br/>
<br/>
Данные выглядят хорошо, без неожиданных пиков или впадин. В общей сложности 35 циклов PCR, но некоторые из этих циклов проводятся при очень высокой температуре в рамках <a href="https://en.wikipedia.org/wiki/Touchdown_polymerase_chain_reaction">тачдауна PCR</a>. В моих предыдущих попытках амплифицировать этот сегмент — которых было несколько! — возникали проблемы с гибридизацией праймеров, поэтому здесь PCR довольно много времени работает на высоких температурах, что должно повысить точность.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/getpro/habr/post_images/8dc/9eb/1b8/8dc9eb1b85c382df68cc064583512707.jpg" data-src="https://habrastorage.org/getpro/habr/post_images/8dc/9eb/1b8/8dc9eb1b85c382df68cc064583512707.jpg" data-blurred="true"/><br/>
<i><font color="gray">Термоциклическая диагностика для тачдауна PCR: температуры блока, образца и крышки в течение 35 циклов и 42 минут</font></i><br/>
<br/>
<h2>Шаг 2. Резка плазмиды</h2><br/>
Чтобы вставить нашу ДНК sfGFP в pUC19, сначала нужно разрезать плазмиду. Следуя протоколу NEB, я делаю это с помощью фермента рестрикции <a href="https://en.wikipedia.org/wiki/EcoRI">EcoRI</a>. В стандартном инвентаре Transcriptic есть реагенты, которые мне нужны: это <a href="https://www.neb.com/products/r3101-ecori-hf">NEB EcoRI и 10x CutSmart буфер</a>, а также плазмида <a href="https://www.neb.com/products/n3041-puc19-vector">NEB pUC19</a>.<br/>
<br/>
Для информации, ниже цены из их инвентаря. На самом деле плачу только часть цены, так как Transcriptic берёт оплату за фактически потреблённое количество:<br/>
<br/>
<pre>   Item         ID       Amount      Concentration    Price
------------  ------ ------------- -----------------  ------
CutSmart 10x  B7204S       5 ml         10 X          $19.00
EcoRI         R3101L  50,000 units  20,000 units/ml  $225.00
pUC19         N3041L     250 µg      1,000 µg/ml     $268.00</pre><br/>
Я максимально следовал протоколу NEB:<br/>
<br/>
<blockquote>Перед использованием буфер должен быть полностью разморожен. Разбавьте запас 10X с dH2O до конечной концентрации 1X. Сначала добавьте воду, затем буфер, раствор ДНК и, наконец, фермент. Типичная реакция 50 мкл должна содержать 5 мкл 10x NEBuffer с остальной частью объёма из раствора ДНК, фермента и dH2O.<br/>
<br/>
Одна единица определяется как количество фермента, необходимое для освоения 1 мкг λ ДНК в течение 1 часа при 37°C в общем объёме реакции 50 мкл. В целом, мы рекомендуем 5-10 единиц фермента на мкг ДНК и 10-20 единиц геномной ДНК в 1-часовом процессе.<br/>
<br/>
Для освоения 1 мкг субстрата рекомендуется реакционный объём 50 мкл.</blockquote><br/>
<div class="spoiler"><b class="spoiler_title">Код</b><div class="spoiler_text"><pre><code class="python">"""Protocol for cutting pUC19 with EcoRI."""
p = Protocol()

experiment_name = "puc19_ecori_v3"

options = {}

inv = {
    'water':    "rs17gmh5wafm5p",   # catalog; Autoclaved MilliQ H2O; ambient
    "pUC19":    "rs17tcqmncjfsh",   # catalog; pUC19; cold_20
    "EcoRI":    "rs17ta8xftpdk6",   # catalog; EcoRI-HF; cold_20
    "CutSmart": "rs17ta93g3y85t",   # catalog; CutSmart Buffer 10x; cold_20
    "ecori_p10x": "ct187v4ea85k2h", # inventory; EcoRI diluted 10x
}

# Tubes and plates I use then discard
re_tube    = p.ref("re_tube",    cont_type="micro-1.5", storage="cold_4", discard=True).well(0)
water_tube = p.ref("water_tube", cont_type="micro-1.5", storage="cold_4", discard=True).well(0)
pcr_plate  = p.ref("pcr_plate",  cont_type="96-pcr",    storage="cold_4", discard=True)

# The result of the experiment, a pUC19 cut by EcoRI, goes in this tube for storage
puc19_cut_tube  = p.ref(expid("puc19_cut"), cont_type="micro-1.5", storage="cold_20").well(0)

# -------------------------------------------------------------
# Provisioning and diluting.
# Diluted EcoRI can be used more than once
#
p.provision(inv["water"], water_tube, µl(500))

if 'dilute_ecori' in options:
    ecori_p10x_tube = p.ref("ecori_p10x", cont_type="micro-1.5", storage="cold_20").well(0)
    p.transfer(water_tube,    ecori_p10x_tube, µl(45))
    p.provision(inv["EcoRI"], ecori_p10x_tube, µl(5))
else:
    # All "inventory" (stuff I own at transcriptic) must be initialized
    ecori_p10x_tube = p.ref("ecori_p10x", id=inv["ecori_p10x"], cont_type="micro-1.5", storage="cold_20").well(0)
    init_inventory_well(ecori_p10x_tube)

# -------------------------------------------------------------
# Restriction enzyme cutting pUC19
#
# 50ul total reaction volume for cutting 1ug of DNA:
# 5ul CutSmart 10x
# 1ul pUC19 (1ug of DNA)
# 1ul EcoRI (or 10ul diluted EcoRI, 20 units, >10 units per ug DNA)
#
p.transfer(water_tube,       re_tube, µl(117))
p.provision(inv["CutSmart"], re_tube, µl(15))
p.provision(inv["pUC19"],    re_tube, µl(3))
p.mix(re_tube, volume=µl(60), repetitions=10)
assert re_tube.volume == µl(120) + dead_volume["micro-1.5"]

print("Volumes: re_tube:{} water_tube:{} EcoRI:{}".format(re_tube.volume, water_tube.volume, ecori_p10x_tube.volume))

p.distribute(re_tube,         pcr_plate.wells(["A1","B1","A2"]), µl(40))
p.distribute(water_tube,      pcr_plate.wells(["A2"]),           µl(10))
p.distribute(ecori_p10x_tube, pcr_plate.wells(["A1","B1"]),      µl(10))
assert all(well.volume == µl(50) for well in pcr_plate.wells(["A1","B1","A2"]))

p.mix(pcr_plate.wells(["A1","B1","A2"]), volume=µl(25), repetitions=10)

# Incubation to induce cut, then heat inactivation of EcoRI
p.seal(pcr_plate)
p.incubate(pcr_plate, "warm_37", "60:minute", shaking=False)
p.thermocycle(pcr_plate, [{"cycles":  1, "steps": [{"temperature": "65:celsius", "duration": "21:minute"}]}], volume=µl(50))

# --------------------------------------------------------------
# Gel electrophoresis, to ensure the cutting worked
#
p.unseal(pcr_plate)
p.mix(pcr_plate.wells(["A1","B1","A2"]), volume=µl(25), repetitions=5)
p.transfer(pcr_plate.wells(["A1","B1","A2"]), pcr_plate.wells(["D1","E1","D2"]), µl(8))
p.transfer(water_tube, pcr_plate.wells(["D1","E1","D2"]), µl(15), mix_after=True, mix_vol=µl(10))
assert all(well.volume == µl(20) + dead_volume["96-pcr"] for well in pcr_plate.wells(["D1","E1","D2"]))

p.gel_separate(pcr_plate.wells(["D1","E1","D2"]), µl(20), "agarose(10,2%)", "ladder2", "15:minute", expid("gel"))


# ----------------------------------------------------------------------------
# Then consolidate all cut plasmid to one tube (puc19_cut_tube).
#
remaining_volumes = [well.volume - dead_volume['96-pcr'] for well in pcr_plate.wells(["A1","B1"])]
print("Consolidated volume: {}".format(sum(remaining_volumes, µl(0))))
p.consolidate(pcr_plate.wells(["A1","B1"]), puc19_cut_tube, remaining_volumes, allow_carryover=True)

assert all(tube.volume >= dead_volume['micro-1.5'] for tube in [water_tube, re_tube, puc19_cut_tube, ecori_p10x_tube])

# ---------------------------------------------------------------
# Test protocol
#
jprotocol = json.dumps(p.as_dict(), indent=2)
!echo '{jprotocol}' | transcriptic analyze
#print("Protocol {}\n\n{}".format(experiment_name, jprotocol))
open("protocol_{}.json".format(experiment_name),'w').write(jprotocol)</code></pre></div></div><br/>
<pre>Volumes: re_tube:135.0:microliter water_tube:383.0:microliter EcoRI:30.0:microliter
Consolidated volume: 78.0:microliter

  
✓ Protocol analyzed
  12 instructions
  5 containers
  Total Cost: $30.72
  Workcell Time: $3.38
  Reagents &amp; Consumables: $27.34</pre><br/>
<h3>Результаты: резка плазмиды</h3><br/>
Я провёл этот эксперимент дважды в немного разных условиях и с гелями разного размера, но результаты почти идентичны. Оба геля мне нравятся.<br/>
<br/>
Первоначально я не выделял достаточно места для <a href="https://developers.transcriptic.com/docs/containers">«мёртвого» объёма</a> (в пробирках 1,5 мл мёртвый объём 15 мкл!). Думаю, это объясняет разницу между D1 и E1 (эти две полосы должны быть идентичными). Проблему мёртвого объёма легко решить, создав надлежащий рабочий запаса разбавленной EcoRI в начале протокола.<br/>
<br/>
Несмотря на эту ошибку, в обоих гелях полосы D1 и E1 сильные полосы в правильном положении 2,6kb. На полосе D2 неразрезанная плазмида: как и положено, она не видна в одном геле и едва видна в другом.<br/>
<br/>
Две гелевые фотографии выглядят довольно по-разному. Частично это объясняется тем, что данный шаг Transcriptic пока не автоматизировала.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/getpro/habr/post_images/8f8/b9c/e3c/8f8b9ce3cc42de99099976a3c60a9ada.jpg" data-src="https://habrastorage.org/getpro/habr/post_images/8f8/b9c/e3c/8f8b9ce3cc42de99099976a3c60a9ada.jpg" data-blurred="true"/><br/>
<i><font color="gray">Два геля, показывающие разрезанную pUC19 (2,6kb) на полосах D1 и E1, а неразрезанную pUC19 на D2</font></i><br/>
<br/>
<h2>Шаг 3. Сборка методом Гибсона</h2><br/>
Самый простой способ проверить, работает ли моя сборка методом Гибсона — собрать инсерцию и плазмиду, затем использовать стандартные <a href="https://www.neb.com/faqs/2011/08/16/what-primers-should-i-use-to-sequence-an-insert-puc19-pneb193-litmus">праймеры M13</a> (которые фланкируют инсерцию) для амплификации части плазмиды и вставленной ДНК и запустить <a href="https://en.wikipedia.org/wiki/Real-time_polymerase_chain_reaction">qPCR</a> и <a href="https://en.wikipedia.org/wiki/Gel_electrophoresis">гель</a>, чтобы убедиться, что амплификация сработала. Вы также можете запустить реакцию секвенирования, чтобы подтвердить, что всё инсерцировано как ожидалось, но я решил оставить это на потом.<br/>
<br/>
Если сборка Гибсона не сработает, то амплификация M13 не сработает, потому что плазмида была разрезана между двумя последовательностями M13.<br/>
<br/>
<div class="spoiler"><b class="spoiler_title">Код</b><div class="spoiler_text"><pre><code class="python">"""Debugging transformation protocol: Gibson assembly followed by qPCR and a gel
v2: include v3 Gibson assembly"""

p = Protocol()
options = {}

experiment_name = "debug_sfgfp_puc19_gibson_seq_v2"

inv = {
    "water"                       : "rs17gmh5wafm5p", # catalog; Autoclaved MilliQ H2O; ambient
    "M13_F"                       : "rs17tcpqwqcaxe", # catalog; M13 Forward (-41); cold_20 (1ul = 100pmol)
    "M13_R"                       : "rs17tcph6e2qzh", # catalog; M13 Reverse (-48); cold_20 (1ul = 100pmol)
    "SensiFAST_SYBR_No-ROX"       : "rs17knkh7526ha", # catalog; SensiFAST SYBR for qPCR
    "sfgfp_puc19_gibson_v1_clone" : "ct187rzdq9kd7q", # inventory; assembled sfGFP; cold_4
    "sfgfp_puc19_gibson_v3_clone" : "ct188ejywa8jcv", # inventory; assembled sfGFP; cold_4
}

# ---------------------------------------------------------------
# First get my sfGFP pUC19 clones, assembled with Gibson assembly
#
clone_plate1 = p.ref("sfgfp_puc19_gibson_v1_clone", id=inv["sfgfp_puc19_gibson_v1_clone"],
                     cont_type="96-pcr", storage="cold_4", discard=False)
clone_plate2 = p.ref("sfgfp_puc19_gibson_v3_clone", id=inv["sfgfp_puc19_gibson_v3_clone"],
                     cont_type="96-pcr", storage="cold_4", discard=False)

water_tube = p.ref("water", cont_type="micro-1.5", storage="cold_4", discard=True).well(0)
master_tube = p.ref("master", cont_type="micro-1.5", storage="cold_4", discard=True).well(0)
primer_tube = p.ref("primer", cont_type="micro-1.5", storage="cold_4", discard=True).well(0)

pcr_plate = p.ref(expid("pcr_plate"), cont_type="96-pcr", storage="cold_4", discard=False)

init_inventory_well(clone_plate1.well("A1"))
init_inventory_well(clone_plate2.well("A1"))

seq_wells = ["B2","B4","B6", # clone_plate1
             "D2","D4","D6", # clone_plate2
             "F2","F4"] # control

# clone_plate2 was diluted 4X (20ul->80ul), according to NEB instructions
assert clone_plate1.well("A1").volume == µl(18), clone_plate1.well("A1").volume
assert clone_plate2.well("A1").volume == µl(78), clone_plate2.well("A1").volume

# --------------------------------------------------------------
# Provisioning
#
p.provision(inv["water"], water_tube, µl(500))

# primers, diluted 2X, discarded at the end
p.provision(inv["M13_F"], primer_tube, µl(13))
p.provision(inv["M13_R"], primer_tube, µl(13))
p.transfer(water_tube, primer_tube, µl(26), mix_after=True, mix_vol=µl(20), repetitions=10)

# -------------------------------------------------------------------
# PCR Master mix -- 10ul SYBR mix, plus 1ul each undiluted primer DNA (100pmol)
# Also add 15ul of dead volume
#
p.provision(inv['SensiFAST_SYBR_No-ROX'], master_tube, µl(11+len(seq_wells)*10))
p.transfer(primer_tube, master_tube, µl(4+len(seq_wells)*4))
p.mix(master_tube, volume=µl(63), repetitions=10)
assert master_tube.volume == µl(127) # 15ul dead volume

p.distribute(master_tube, pcr_plate.wells(seq_wells), µl(14), allow_carryover=True)
p.distribute(water_tube, pcr_plate.wells(seq_wells),
             [µl(ul) for ul in [5,4,2, 4,2,0, 6,6]],
             allow_carryover=True)

# Template -- starting with some small, unknown amount of DNA produced by Gibson
p.transfer(clone_plate1.well("A1"), pcr_plate.wells(seq_wells[0:3]), [µl(1),µl(2),µl(4)], one_tip=True)
p.transfer(clone_plate2.well("A1"), pcr_plate.wells(seq_wells[3:6]), [µl(2),µl(4),µl(6)], one_tip=True)

assert all(pcr_plate.well(w).volume == µl(20) for w in seq_wells)
assert clone_plate1.well("A1").volume == µl(11)
assert clone_plate2.well("A1").volume == µl(66)

# --------------------------------------------------------------
# qPCR
# standard melting curve parameters
#
p.seal(pcr_plate)
p.thermocycle(pcr_plate, [{"cycles":  1, "steps": [{"temperature": "95:celsius","duration": "2:minute"}]},
                          {"cycles": 40, "steps": [{"temperature": "95:celsius","duration": "5:second"},
                                                   {"temperature": "60:celsius","duration": "20:second"},
                                                   {"temperature": "72:celsius","duration": "15:second", "read": True}]}],
    volume=µl(20), # volume is optional
    dataref=expid("qpcr"),
    dyes={"SYBR": seq_wells}, # dye must be specified (tells transcriptic what aborbance to use?)
    melting_start="65:celsius", melting_end="95:celsius", melting_increment="0.5:celsius", melting_rate="5:second")


# --------------------------------------------------------------
# Gel -- 20ul required
# Dilute such that I have 11ul for sequencing
#
p.unseal(pcr_plate)
p.distribute(water_tube, pcr_plate.wells(seq_wells), µl(11))
p.gel_separate(pcr_plate.wells(seq_wells), µl(20), "agarose(8,0.8%)", "ladder1", "10:minute", expid("gel"))

# This appears to be a bug in Transcriptic. The actual volume should be 11ul
# but it is not updating after running a gel with 20ul.
# Primer tube should be equal to dead volume, or it's a waste
assert all(pcr_plate.well(w).volume==µl(31) for w in seq_wells)
assert primer_tube.volume == µl(16) == dead_volume['micro-1.5'] + µl(1)
assert water_tube.volume > µl(25)

# ---------------------------------------------------------------
# Test and run protocol
#
jprotocol = json.dumps(p.as_dict(), indent=2)
!echo '{jprotocol}' | transcriptic analyze
open("protocol_{}.json".format(experiment_name),'w').write(jprotocol)</code></pre></div></div><br/>
<pre>WARNING:root:Low volume for well sfgfp_puc19_gibson_v1_clone/sfgfp_puc19_gibson_v1_clone : 11.0:microliter</pre><br/>
<pre>✓ Protocol analyzed
  11 instructions
  6 containers
  Total Cost: $32.09
  Workcell Time: $6.98
  Reagents &amp; Consumables: $25.11</pre><br/>
<h3>Результаты: qPCR для сборки Гибсона</h3><br/>
Я могу получить доступ к данным qPCR в формате JSON через Transcriptic API. Эта функция не очень хорошо <a href="https://developers.transcriptic.com/docs/get-specific-data">документирована</a>, но может быть чрезвычайно полезной. API даже дают вам доступ к некоторым диагностическим данным от роботов, что может помочь в отладке.<br/>
<br/>
Во-первых, запрашиваем данные о запуске:<br/>
<br/>
<pre><code class="python">project_id, run_id = "p16x6gna8f5e9", "r18mj3cz3fku7"
api_url = "https://secure.transcriptic.com/hgbrian/{}/runs/{}/data.json".format(project_id, run_id)
data_response = requests.get(api_url, headers=tsc_headers)
data = data_response.json()</code></pre><br/>
Затем указываем этот id, чтобы получить данные «постобработки» qPCR:<br/>
<br/>
<pre><code class="python">qpcr_id = data['debug_sfgfp_puc19_gibson_seq_v1_qpcr']['id']
pp_api_url = "https://secure.transcriptic.com/data/{}.json?key=postprocessed_data".format(qpcr_id)
data_response = requests.get(pp_api_url, headers=tsc_headers)
pp_data = data_response.json()</code></pre><br/>
Вот значения Ct (порог цикла) для каждой пробирки. Ct — это просто точка, в которой флуоресценция превышает определённое значение. Она приблизительно говорит, сколько в данный момент там есть ДНК (и, следовательно, приблизительно, с чего мы начали).<br/>
<br/>
<pre><code class="python"># Simple util to convert wellnum to wellname
n_w = {str(wellnum):'ABCDEFGH'[wellnum//12]+str(1+wellnum%12) for wellnum in range(96)}
w_n = {v: k for k, v in n_w.items()}

ct_vals = {n_w[k]:v for k,v in pp_data["amp0"]["SYBR"]["cts"].items()}
ct_df = pd.DataFrame(ct_vals, index=["Ct"]).T
ct_df["well"] = ct_df.index
f, ax = plt.subplots(figsize=(16,6))
_ = sns.barplot(y="well", x="Ct", data=ct_df)</code></pre><br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/getpro/habr/post_images/32f/a42/de3/32fa42de3ad35392ac0bbf7ae6f595b3.png"/><br/>
<br/>
Как видим, амплификация раньше всего происходит в пробирках D2/4/6 (где ДНК из моей сборки Гибсона «v3»), затем B2/4/6 (сборка Гибсона «v1»). Различия между v1 и v3 в основном заключаются в том, что ДНК v3 разбавлена 4X в соответствии с протоколом NEB, но оба варианта должны работать. Существует некоторая амплификация после цикла 30 в контрольных пробирках (F2, F4), не имеющих ДНК-матрицы, но это не редкость, так как они включают в себя много праймерной ДНК.<br/>
<br/>
Я также могу построить кривую амплификации qPCR, чтобы посмотреть динамику амплификации.<br/>
<br/>
<pre><code class="python">f, ax = plt.subplots(figsize=(16,6))
ax.set_color_cycle(['#fb6a4a', '#de2d26', '#a50f15', '#74c476', '#31a354', '#006d2c', '#08519c', '#6baed6'])
amp0 = pp_data['amp0']['SYBR']['baseline_subtracted']
_ = [plt.plot(amp0[w_n[well]], label=well) for well in ['B2', 'B4', 'B6', 'D2', 'D4', 'D6', 'F2', 'F4']]
_ = ax.set_ylim(0,)
_ = plt.title("qPCR (reds=Gibson v1, greens=Gibson v3, blues=control)")
_ = plt.legend(bbox_to_anchor=(1, .75), bbox_transform=plt.gcf().transFigure)</code></pre><br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/getpro/habr/post_images/88e/d2a/a19/88ed2aa19537b77b3214e6b36f55fdde.png"/><br/>
<br/>
В целом, результаты qPCR выглядят великолепно, с хорошей амплификацией обеих версий моей сборки Гибсона и без реальной амплификации в контрольной группе. Поскольку сборка v3 показала немного лучший результат, чем v1, теперь будем использовать её.<br/>
<br/>
<h3>Результаты: сборка Гибсона в геле</h3><br/>
Гель также очень чистый, показывает сильные полосы чуть ниже 1kb в полосах B2, B4, B6, D2, D4, D6: именно такой размер мы ожидаем (инсерция составляет около 740bp, а праймеры M13 — около 40bp вверх и вниз). Вторая полоса соответствует праймерам. Можно быть уверенным в этом, так как полосы F2 и F4 содержат только праймерную ДНК.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/getpro/habr/post_images/cf7/509/629/cf750962951b700c8a9333ea1d747a94.jpg" data-src="https://habrastorage.org/getpro/habr/post_images/cf7/509/629/cf750962951b700c8a9333ea1d747a94.jpg" data-blurred="true"/><br/>
<i><font color="gray">Электрофорез в полиакриламидном геле: с сборка Гибсона v3 показывает более сильные полосы (D2, D4, D6), в соответствии с приведенными выше данными qPCR</font></i><br/>
<br/>
<h2>Шаг 4. Трансформация</h2><br/>
<a href="https://en.wikipedia.org/wiki/Transformation_(genetics)">Трансформация</a> — это процесс изменения организма путём добавления ДНК. В этом эксперименте мы <b>трансформируем</b> <i>E. coli</i> с помощью sfGFP-экспрессирующей плазмиды pUC19.<br/>
<br/>
Используем простой в работе штамм <a href="http://www.zymoresearch.com/e-coli/chemically-competent-cells/strain-zymo5alpha">Zymo DH5α Mix&amp;Go</a> и <a href="http://www.zymoresearch.com/downloads/dl/file/id/173/t3015i.pdf">рекомендуемый протокол</a>. Этот штамм — часть стандартного инвентаря Transcriptic. В общем, трансформации могут быть сложными, поскольку компетентные ячейки довольно хрупки, поэтому чем проще и надёжнее протокол, тем лучше. В обычных лабораториях молекулярной биологии эти компетентные клетки, вероятно, были бы слишком дороги для общего использования.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/getpro/habr/post_images/951/9a6/a57/9519a6a578f11d26c3c9a2ddda039539.jpg" data-src="https://habrastorage.org/getpro/habr/post_images/951/9a6/a57/9519a6a578f11d26c3c9a2ddda039539.jpg" data-blurred="true"/><br/>
<i><font color="gray">Клетки Zymo Mix &amp; Go с простым протоколом</font></i> <br/>
<br/>
<h4>Проблема с роботами</h4><br/>
Этот протокол — хороший пример, насколько трудна адаптация человеческих протоколов для использования роботами и как она может неожиданно потерпеть неудачу. Протоколы иногда на удивление расплывчаты («раскачать пробирку из стороны в сторону»), опираясь на общий контекст молекулярных биологов, или они могут внезапно запросить продвинутую обработку изображения («убедитесь, что осадок размешан»). Люди не возражают против таких задач, но роботам нужны более чёткие инструкции.<br/>
<br/>
В этой трансформации проявились интересные проблемы с таймингом. Протокол трансформации советует, чтобы клетки не оставались при комнатной температуре более нескольких секунд а планшет с пробирками предварительно нагреть до 37°C. Теоретически, вы хотели бы начать предварительное нагревание, чтобы оно закончилось одновременно с трансформацией, но неясно, как роботы Transcriptic справятся с этой ситуацией — насколько мне известно, нет способа точно синхронизировать шаги протокола. Отсутствие точного контроля над временем, похоже, будет общей проблемой с роботизированными протоколами из-за сравнительной негибкости роботизированной руки, конфликтов планирования и т. д. Нам придётся соответствующим образом скорректировать протоколы.<br/>
<br/>
Обычно есть разумные решения: иногда вам просто нужно использовать разные реагенты (например, более выносливые клетки, такие как Mix&amp;Go выше); иногда вы просто закладываете действия с запасом (например, встряхнуть десять раз вместо трёх); иногда нужно придумать для роботов специальные трюки (например, использовать машину PCR для теплового удара).<br/>
<br/>
Конечно, большим преимуществом является то, что, как только протокол сработал однажды, можно в целом полагаться на него снова и снова. Вы даже можете количественно оценить, насколько надёжен протокол, и со временем улучшить его!<br/>
<br/>
<h2>Тестовая трансформация</h2><br/>
Прежде чем начать трансформацию с полностью собранной плазмидой, я провожу простой эксперимент, чтобы убедиться, что трансформация с использованием обычного pUC19 (т. е. без сборки Гибсона и без инсерции ДНК sfGFP) работает. pUC19 содержит ген устойчивости к ампициллину, поэтому успешная трансформация должна позволить бактериям расти на пластинах, содержащих этот антибиотик.<br/>
<br/>
Я переношу бактерии прямо на планшет («6-flat» в терминологии Transcriptic), где либо есть ампициллин, либо нет. Я ожидаю, что трансформированные бактерии содержат ген устойчивости к ампициллину и, следовательно, будут расти. Нетрансформированные бактерии не должны расти.<br/>
<br/>
<div class="spoiler"><b class="spoiler_title">Код</b><div class="spoiler_text"><pre><code class="python">"""Simple transformation protocol: transformation with unaltered pUC19"""

p = Protocol()

experiment_name = "debug_sfgfp_puc19_gibson_v1"

inv = {
    "water"       : "rs17gmh5wafm5p", # catalog; Autoclaved MilliQ H2O; ambient
    "DH5a"        : "rs16pbj944fnny", # catalog; Zymo DH5α; cold_80
    "LB Miller"   : "rs17bafcbmyrmh", # catalog; LB Broth Miller; cold_4
    "Amp 100mgml" : "rs17msfk8ujkca", # catalog; Ampicillin 100mg/ml; cold_20
    "pUC19"       : "rs17tcqmncjfsh", # catalog; pUC19; cold_20
}

# Catalog
transform_plate = p.ref("transform_plate", cont_type="96-pcr", storage="ambient", discard=True)
transform_tube  = transform_plate.well(0)


# ------------------------------------------------------------------------------------
# Plating transformed bacteria according to Tali's protocol (requires different code!)
# http://learn.transcriptic.com/blog/2015/9/9/provisioning-commercial-reagents
# Add 1-5ul plasmid and pre-warm culture plates to 37C before starting.
#

#
# Extra inventory for plating
#
inv["lb-broth-100ug-ml-amp_6-flat"] = "ki17sbb845ssx9" # (kit, not normal ref) from blogpost
inv["noAB-amp_6-flat"] = "ki17reefwqq3sq" # kit id
inv["LB Miller"] = "rs17bafcbmyrmh"

#
# Ampicillin and no ampicillin plates
#
amp_6_flat = Container(None, p.container_type('6-flat'))
p.refs["amp_6_flat"] = Ref('amp_6_flat',
                           {"reserve": inv['lb-broth-100ug-ml-amp_6-flat'], "store": {"where": 'cold_4'}}, amp_6_flat)
noAB_6_flat = Container(None, p.container_type('6-flat'))
p.refs["noAB_6_flat"] = Ref('noAB_6_flat',
                            {"reserve": inv['noAB-amp_6-flat'], "store": {"where": 'cold_4'}}, noAB_6_flat)

#
# Provision competent bacteria
#
p.provision(inv["DH5a"], transform_tube,  µl(50))
p.provision(inv["pUC19"], transform_tube, µl(2))

#
# Heatshock the bacteria to transform using a PCR machine
#
p.seal(transform_plate)
p.thermocycle(transform_plate,
    [{"cycles":  1, "steps": [{"temperature":  "4:celsius", "duration":  "5:minute"}]},
     {"cycles":  1, "steps": [{"temperature": "37:celsius", "duration": "30:minute"}]}],
    volume=µl(50))
p.unseal(transform_plate)

#
# Then dilute bacteria and spread onto 6-flat plates
# Put more on ampicillin plates for more opportunities to get a colony
#
p.provision(inv["LB Miller"], transform_tube, µl(355))
p.mix(transform_tube, µl(150), repetitions=5)
for i in range(6):
    p.spread(transform_tube, amp_6_flat.well(i), µl(55))
    p.spread(transform_tube, noAB_6_flat.well(i), µl(10))

assert transform_tube.volume >= µl(15), transform_tube.volume

#
# Incubate and image 6-flat plates over 18 hours
#
for flat_name, flat in [("amp_6_flat", amp_6_flat), ("noAB_6_flat", noAB_6_flat)]:
    for timepoint in [6,12,18]:
        p.cover(flat)
        p.incubate(flat, "warm_37", "6:hour")
        p.uncover(flat)
        p.image_plate(flat, mode="top", dataref=expid("{}_t{}".format(flat_name, timepoint)))

# ---------------------------------------------------------------
# Analyze protocol
#
jprotocol = json.dumps(p.as_dict(), indent=2)
!echo '{jprotocol}' | transcriptic analyze

#print("Protocol {}\n\n{}".format(experiment_name, protocol))
open("protocol_{}.json".format(experiment_name),'w').write(jprotocol)</code></pre></div></div><br/>
<pre>✓ Protocol analyzed
  43 instructions
  3 containers
  $45.43</pre><br/>
<h3>Результаты: тестовая трансформация</h3><br/>
На следующих фотографиях мы видим, что без антибиотика (пластины слева) на всех шести пластинах наблюдается рост, хотя сильно в разной степени, что вызывает беспокойство. Похоже, роботы Transcriptic не особо справляются с равномерным распределением, что требует некоторой ловкости.<br/>
<br/>
В присутствии антибиотика (пластины справа) тоже есть рост, хотя он снова непоследователен. Первые две пластины с антибиотиками выглядят странно, с большим ростом, что, вероятно, является результатом добавления 55 мкл на эти пластины по сравнению с 10 мкл на пластинах без антибиотиков. На третьей пластине несколько колоний и по существу такое я ожидал увидеть на всех пластинах. На последних трёх пластинах должен быть некоторый рост, но его не происходит. Единственное моё объяснение этим странным результатам в том, что я недостаточно смешал клетки и среду, поэтому почти все клетки попали в первые две пластины.<br/>
<br/>
(Нужно было ещё сделать положительный контроль на ампициллин с неизменённой бактерией, но я уже сделал это в предыдущем эксперименте, так что я знаю, что стоковый ампициллин должен убить этот штамм <i>E. coli</i>. Рост гораздо слабее на пластинах с ампициллином, хотя там гораздо больше бактерий, как и предполагалось).<br/>
<br/>
В целом, трансформация сработала достаточно хорошо, чтобы продолжить, хотя есть некоторые изъяны.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/getpro/habr/post_images/296/c9b/7e2/296c9b7e28b653015159907b8a2bb59e.jpg" data-src="https://habrastorage.org/getpro/habr/post_images/296/c9b/7e2/296c9b7e28b653015159907b8a2bb59e.jpg" data-blurred="true"/><br/>
<i><font color="gray">Пластины клеток, трансформированных pUC19, через 18 часов: без антибиотика (слева) и с антибиотиком (справа)</font></i> <br/>
<br/>
<h2>Трансформация продукта после сборки</h2><br/>
Поскольку сборка Гибсона и простая трансформация pUC19, похоже, работают, теперь можно попробовать трансформацию с полностью собранной плазмидой, экспрессирующей sfGFP.<br/>
<br/>
Помимо собранной инсерции, я также добавлю на пластины немного IPTG и X-gal, чтобы увидеть успешное преобразование методом <a href="https://en.wikipedia.org/wiki/Blue_white_screen">бело-голубой селекции</a>. Эта дополнительная информация полезна, так как если пройдёт трансформация с обычным pUC19, который не содержит sfGFP, он всё равно даст устойчивость к антибиотикам.<br/>
<br/>
<h4>Поглощение и флуоресценция</h4><br/>
Согласно этой <a href="http://www.biotek.com/assets/tech_resources/Filter%20Combinations.pdf">таблице</a>, sfGFP лучше всего светится на длинах волны возбуждения 485 нм / 510 нм. Я обнаружил, что в Transcriptic лучше работает 485/535. Предполагаю, потому что 485 и 510 слишком похожи. Я измеряю рост бактерий на 600 нм (<a href="https://en.wikipedia.org/wiki/OD600">OD600</a>).<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/getpro/habr/post_images/6ab/0d3/453/6ab0d345359a5b1d15f8f6341f1bee08.png"/><br/>
<i><font color="gray">Разнообразие GFP (<a href="http://www.biotek.com/assets/tech_resources/Filter%20Combinations.pdf">biotek</a>)</font></i><br/>
<br/>
<h4>IPTG и X-gal</h4><br/>
Мой IPTG находится в концентрации 1M и должен разбавляться 1:1000. В свою очередь, X-gal в концентрации 20 мг/мл тоже следует разбавлять 1:1000 (20 мг/мкл). Следовательно, на 2000µl LB я добавляю по 2 мкл каждого.<br/>
<br/>
Согласно одному <a href="http://www.bios.niu.edu/johns/recdna/blue_white.htm">протоколу</a> нужно сначала взять 40 мкл X-gal в концентрации 20 мг/мл и 40 мкл IPTG концентрации 0,1 mM (или 4 мкл IPTG на 1M), и выдержать 30 минут. Эта процедура у меня не сработала, поэтому я просто смешал IPTG, X-gal и соответствующие клетки и использовал напрямую эту смесь.<br/>
<br/>
<div class="spoiler"><b class="spoiler_title">Код</b><div class="spoiler_text"><pre><code class="python">"""Full Gibson assembly and transformation protocol for sfGFP and pUC19
v1: Spread IPTG and X-gal onto plates, then spread cells
v2: Mix IPTG, X-gal and cells; spread the mixture
v3: exclude X-gal so I can do colony picking better
v4: repeat v3 to try other excitation/emission wavelengths"""

p = Protocol()

options = {
    "gibson"          : False,    # do a new gibson assembly
    "sanger"          : False,    # sanger sequence product
    "control_pUC19"   : True,     # unassembled pUC19
    "XGal"            : False     # excluding X-gal should make the colony picking easier
}
for k, v in list(options.items()):
    if v is False: del options[k]

experiment_name = "sfgfp_puc19_gibson_plates_v4"

# -----------------------------------------------------------------------
# Inventory
#
inv = {
    # catalog
    "water"       : "rs17gmh5wafm5p", # catalog; Autoclaved MilliQ H2O; ambient
    "DH5a"        : "rs16pbj944fnny", # catalog; Zymo DH5α; cold_80
    "Gibson Mix"  : "rs16pfatkggmk5", # catalog; Gibson Mix (2X); cold_20
    "LB Miller"   : "rs17bafcbmyrmh", # catalog; LB Broth Miller; cold_4
    "Amp 100mgml" : "rs17msfk8ujkca", # catalog; Ampicillin 100mg/ml; cold_20
    "pUC19"       : "rs17tcqmncjfsh", # catalog; pUC19; cold_20
    # my inventory
    "puc19_cut_v2": "ct187v4ea7vvca", # inventory; pUC19 cut with EcoRI; cold_20
    "IPTG"        : "ct18a2r5wn6tqz", # inventory; IPTG at 1M (conc semi-documented); cold_20
    "XGal"        : "ct18a2r5wp5hcv", # inventory; XGal at 0.1M (conc not documented); cold_20
    "sfgfp_pcroe_v8_amplified"    : "ct1874zqh22pab", # inventory; sfGFP amplified to 40ng/ul; cold_4
    "sfgfp_puc19_gibson_v3_clone" : "ct188ejywa8jcv", # inventory; assembled sfGFP; cold_4
    # kits (must be used differently)
    "lb-broth-100ug-ml-amp_6-flat" : "ki17sbb845ssx9", # catalog; ampicillin plates
    "noAB-amp_6-flat" : "ki17reefwqq3sq" # catalog; no antibiotic plates
}

#
# Catalog (all to be discarded afterward)
#
water_tube       = p.ref("water",     cont_type="micro-1.5", storage="ambient", discard=True).well(0)
transform_plate  = p.ref("trn_plate", cont_type="96-pcr",    storage="ambient", discard=True)
transform_tube   = transform_plate.well(39) # experiment
transform_tube_L = p.ref("trn_tubeL", cont_type="micro-1.5", storage="ambient", discard=True).well(0)
transctrl_tube   = transform_plate.well(56) # control
transctrl_tube_L = p.ref("trc_tubeL", cont_type="micro-1.5", storage="ambient", discard=True).well(0)

#
# Plating according to Tali's protocol
# http://learn.transcriptic.com/blog/2015/9/9/provisioning-commercial-reagents
#
amp_6_flat = Container(None, p.container_type('6-flat'))
p.refs[expid("amp_6_flat")] = Ref(expid("amp_6_flat"),
                                  {"reserve": inv['lb-broth-100ug-ml-amp_6-flat'], "store": {"where": 'cold_4'}}, amp_6_flat)
noAB_6_flat = Container(None, p.container_type('6-flat'))
p.refs[expid("noAB_6_flat")] = Ref(expid("noAB_6_flat"),
                                   {"reserve": inv['noAB-amp_6-flat'], "store": {"where": 'cold_4'}}, noAB_6_flat)

#
# My inventory: EcoRI-cut pUC19, oePCR'd sfGFP, Gibson-assembled pUC19, IPTG and X-Gal
#
if "gibson" in options:
    puc19_cut_tube = p.ref("puc19_ecori_v2_puc19_cut", id=inv["puc19_cut_v2"],
                           cont_type="micro-1.5", storage="cold_20").well(0)
    sfgfp_pcroe_amp_tube = p.ref("sfgfp_pcroe_v8_amplified", id=inv["sfgfp_pcroe_v8_amplified"],
                                 cont_type="micro-1.5", storage="cold_4").well(0)
    clone_plate = p.ref(expid("clone"), cont_type="96-pcr", storage="cold_4", discard=False)
else:
    clone_plate = p.ref("sfgfp_puc19_gibson_v3_clone", id=inv["sfgfp_puc19_gibson_v3_clone"],
                         cont_type="96-pcr", storage="cold_4", discard=False)

IPTG_tube = p.ref("IPTG", id=inv["IPTG"], cont_type="micro-1.5", storage="cold_20").well(0)
if "XGal" in options: XGal_tube = p.ref("XGal", id=inv["XGal"], cont_type="micro-1.5", storage="cold_20").well(0)

#
# Initialize inventory
#
if "gibson" in options:
    all_inventory_wells = [puc19_cut_tube, sfgfp_pcroe_amp_tube, IPTG_tube]
    assert puc19_cut_tube.volume == µl(66), puc19_cut_tube.volume
    assert sfgfp_pcroe_amp_tube.volume == µl(36), sfgfp_pcroe_amp_tube.volume
else:
    all_inventory_wells = [IPTG_tube, clone_plate.well(0)]

if "XGal" in options: all_inventory_wells.append(XGal_tube)

for well in all_inventory_wells:
    init_inventory_well(well)
    print("Inventory: {} {} {}".format(well.name, well.volume, well.properties))


#
# Provisioning. Water is used all over the protocol. Provision an excess since it's cheap
#
p.provision(inv["water"], water_tube, µl(500))


# -----------------------------------------------------------------------------
# Cloning/assembly (see NEBuilder protocol above)
#
# "Optimized efficiency is 50–100 ng of vectors with 2 fold excess of inserts."
# pUC19 is 20ng/ul (78ul total).
# sfGFP is ~40ng/ul (48ul total)
# Therefore 4ul of each gives 80ng and 160ng of vector and insert respectively
#

def do_gibson_assembly():
    #
    # Combine all the Gibson reagents in one tube and thermocycle
    #
    p.provision(inv["Gibson Mix"],   clone_plate.well(0), µl(10))
    p.transfer(water_tube,           clone_plate.well(0), µl(2))
    p.transfer(puc19_cut_tube,       clone_plate.well(0), µl(4))
    p.transfer(sfgfp_pcroe_amp_tube, clone_plate.well(0), µl(4),
               mix_after=True, mix_vol=µl(10), repetitions=10)

    p.seal(clone_plate)
    p.thermocycle(clone_plate,
                  [{"cycles":  1, "steps": [{"temperature": "50:celsius", "duration": "16:minute"}]}],
                  volume=µl(50))

    #
    # Dilute assembled plasmid 4X according to the NEB Gibson assembly protocol (20ul->80ul)
    #
    p.unseal(clone_plate)
    p.transfer(water_tube, clone_plate.well(0), µl(60), mix_after=True, mix_vol=µl(40), repetitions=5)
    return


# --------------------------------------------------------------------------------------------------
# Transformation
# "Transform NEB 5-alpha Competent E. coli cells with 2 μl of the
#  assembled product, following the appropriate transformation protocol."
#
# Mix &amp; Go http://www.zymoresearch.com/downloads/dl/file/id/173/t3015i.pdf
# "[After mixing] Immediately place on ice and incubate for 2-5 minutes"
# "The highest transformation efficiencies can be obtained by incubating Mix &amp; Go cells with DNA on
#  ice for 2-5 minutes (60 minutes maximum) prior to plating."
# "It is recommended that culture plates be pre-warmed to >20°C (preferably 37°C) prior to plating."
# "Avoid exposing the cells to room temperature for more than a few seconds at a time."
#
# "If competent cells are purchased from other manufacture, dilute assembled products 4-fold
#  with H2O prior transformation. This can be achieved by mixing 5 μl of assembled products with
#  15 μl of H2O. Add 2 μl of the diluted assembled product to competent cells."
#

def _do_transformation():
    #
    # Combine plasmid and competent bacteria in a pcr_plate and shock
    #
    p.provision(inv["DH5a"], transform_tube,  µl(50))
    p.transfer(clone_plate.well(0), transform_tube, µl(3), dispense_speed="10:microliter/second")
    assert clone_plate.well(0).volume == µl(54), clone_plate.well(0).volume

    if 'control_pUC19' in options:
        p.provision(inv["DH5a"], transctrl_tube,  µl(50))
        p.provision(inv["pUC19"], transctrl_tube, µl(1))

    #
    # Heatshock the bacteria to transform using a PCR machine
    #
    p.seal(transform_plate)
    p.thermocycle(transform_plate,
        [{"cycles":  1, "steps": [{"temperature":  "4:celsius", "duration": "5:minute"}]},
         {"cycles":  1, "steps": [{"temperature": "37:celsius", "duration": "30:minute"}]}],
        volume=µl(50))
    return


def _transfer_transformed_to_plates():
    assert transform_tube.volume == µl(53), transform_tube.volume
    p.unseal(transform_plate)

    num_ab_plates = 4 # antibiotic places

    #
    # Transfer bacteria to a bigger tube for diluting
    # Then spread onto 6-flat plates
    # Generally you would spread 50-100ul of diluted bacteria
    # Put more on ampicillin plates for more opportunities to get a colony
    # I use a dilution series since it's unclear how much to plate
    #
    p.provision(inv["LB Miller"], transform_tube_L, µl(429))

    #
    # Add all IPTG and XGal to the master tube
    # 4ul (1M) IPTG on each plate; 40ul XGal on each plate
    #
    p.transfer(IPTG_tube, transform_tube_L, µl(4*num_ab_plates))
    if 'XGal' in options:
        p.transfer(XGal_tube, transform_tube_L, µl(40*num_ab_plates))

    #
    # Add the transformed cells and mix (use new mix op in case of different pipette)
    #
    p.transfer(transform_tube, transform_tube_L, µl(50))
    p.mix(transform_tube_L, volume=transform_tube_L.volume/2, repetitions=10)

    assert transform_tube.volume == dead_volume['96-pcr'] == µl(3), transform_tube.volume
    assert transform_tube_L.volume == µl(495), transform_tube_L.volume

    #
    # Spread an average of 60ul on each plate == 480ul total
    #
    for i in range(num_ab_plates):
        p.spread(transform_tube_L, amp_6_flat.well(i), µl(51+i*6))
        p.spread(transform_tube_L, noAB_6_flat.well(i), µl(51+i*6))

    assert transform_tube_L.volume == dead_volume["micro-1.5"], transform_tube_L.volume

    #
    # Controls: include 2 ordinary pUC19-transformed plates as a control
    #
    if 'control_pUC19' in options:
        num_ctrl = 2
        assert num_ab_plates + num_ctrl &lt;= 6

        p.provision(inv["LB Miller"], transctrl_tube_L, µl(184)+dead_volume["micro-1.5"])
        p.transfer(IPTG_tube,         transctrl_tube_L, µl(4*num_ctrl))
        if "XGal" in options: p.transfer(XGal_tube, transctrl_tube_L, µl(40*num_ctrl))
        p.transfer(transctrl_tube,    transctrl_tube_L, µl(48))
        p.mix(transctrl_tube_L, volume=transctrl_tube_L.volume/2, repetitions=10)

        for i in range(num_ctrl):
            p.spread(transctrl_tube_L, amp_6_flat.well(num_ab_plates+i), µl(55+i*10))
            p.spread(transctrl_tube_L, noAB_6_flat.well(num_ab_plates+i), µl(55+i*10))

        assert transctrl_tube_L.volume == dead_volume["micro-1.5"], transctrl_tube_L.volume
        assert IPTG_tube.volume == µl(808), IPTG_tube.volume
        if "XGal" in options: assert XGal_tube.volume == µl(516), XGal_tube.volume

    return


def do_transformation():
    _do_transformation()
    _transfer_transformed_to_plates()


# ------------------------------------------------------
# Measure growth in plates (photograph)
#

def measure_growth():
    #
    # Incubate and photograph 6-flat plates over 18 hours
    # to see blue or white colonies
    #
    for flat_name, flat in [(expid("amp_6_flat"), amp_6_flat), (expid("noAB_6_flat"), noAB_6_flat)]:
        for timepoint in [9,18]:
            p.cover(flat)
            p.incubate(flat, "warm_37", "9:hour")
            p.uncover(flat)
            p.image_plate(flat, mode="top", dataref=expid("{}_t{}".format(flat_name, timepoint)))
    return


# ---------------------------------------------------------------
# Sanger sequencing, TURNED OFF
# Sequence to make sure assembly worked
# 500ng plasmid, 1 µl of a 10 µM stock primer
# "M13_F"       : "rs17tcpqwqcaxe", # catalog; M13 Forward (-41); cold_20 (1ul = 100pmol)
# "M13_R"       : "rs17tcph6e2qzh", # catalog; M13 Reverse (-48); cold_20 (1ul = 100pmol)
#
def do_sanger_seq():
    seq_primers = [inv["M13_F"], inv["M13_R"]]
    seq_wells = ["G1","G2"]
    p.unseal(pcr_plate)
    for primer_num, seq_well in [(0, seq_wells[0]),(1, seq_wells[1])]:
        p.provision(seq_primers[primer_num], pcr_plate.wells([seq_well]), µl(1))

    p.transfer(pcr_plate.wells(["A1"]), pcr_plate.wells(seq_wells),  µl(5), mix_before=True, mix_vol=µl(10))
    p.transfer(water_tube, pcr_plate.wells(seq_wells), µl(9))

    p.mix(pcr_plate.wells(seq_wells), volume=µl(7.5), repetitions=10)
    p.sangerseq(pcr_plate, pcr_plate.wells(seq_wells[0]).indices(), expid("seq1"))
    p.sangerseq(pcr_plate, pcr_plate.wells(seq_wells[1]).indices(), expid("seq2"))
    return

# ---------------------------------------------------------------
# Generate protocol
#

# Skip Gibson since I already did it
if 'gibson' in options: do_gibson_assembly()
do_transformation()
measure_growth()
if 'sanger' in options: do_sanger_seq()


# ---------------------------------------------------------------
# Output protocol
#
jprotocol = json.dumps(p.as_dict(), indent=2)
!echo '{jprotocol}' | transcriptic analyze

#print("\nProtocol {}\n\n{}".format(experiment_name, jprotocol))
open("protocol_{}.json".format(experiment_name),'w').write(jprotocol)</code></pre></div></div><br/>
<pre>Inventory: IPTG/IPTG/IPTG/IPTG/IPTG/IPTG 832.0:microliter {}
Inventory: sfgfp_puc19_gibson_v3_clone/sfgfp_puc19_gibson_v3_clone/sfgfp_puc19_gibson_v3_clone/sfgfp_puc19_gibson_v3_clone/sfgfp_puc19_gibson_v3_clone 57.0:microliter {}

  
✓ Protocol analyzed
  40 instructions
  8 containers
  Total Cost: $53.20
  Workcell Time: $17.35
  Reagents &amp; Consumables: $35.86</pre><br/>
<h2>Сбор колоний</h2><br/>
Когда колонии растут на ампициллиновой пластине, я могу «собрать» отдельные колонии и посадить их на 96-пробирочный планшет. Для этого в автопротоколе есть специальная команда (<a href="http://autoprotocol-python.readthedocs.org/en/latest/autoprotocol.html#protocol-autopick">autopick</a>).<br/>
<br/>
<div class="spoiler"><b class="spoiler_title">Код</b><div class="spoiler_text"><pre><code class="python">"""Pick colonies from plates and grow in amp media and check for fluorescence.
v2: try again with a new plate (no blue colonies)
v3: repeat with different emission and excitation wavelengths"""

p = Protocol()

options = {}
for k, v in list(options.items()):
    if v is False: del options[k]

experiment_name = "sfgfp_puc19_gibson_pick_v3"

def plate_expid(val):
    """refer to the previous plating experiment's outputs"""
    plate_exp = "sfgfp_puc19_gibson_plates_v4"
    return "{}_{}".format(plate_exp, val)

# -----------------------------------------------------------------------
# Inventory
#
inv = {
    # catalog
    "water"         : "rs17gmh5wafm5p", # catalog; Autoclaved MilliQ H2O; ambient
    "LB Miller"     : "rs17bafcbmyrmh", # catalog; LB Broth Miller; cold_4
    "Amp 100mgml"   : "rs17msfk8ujkca", # catalog; Ampicillin 100mg/ml; cold_20
    "IPTG"          : "ct18a2r5wn6tqz", # inventory; IPTG at 1M (conc semi-documented); cold_20
    # plates from previous experiment, must be changed every new experiment
    plate_expid("amp_6_flat")  : "ct18snmr9avvg9", # inventory; Ampicillin plates with blue-white screening of pUC19
    plate_expid("noAB_6_flat") : "ct18snmr9dxfw2", # inventory; no AB plates with blue-white screening of pUC19
}

# Tubes and plates
lb_amp_tubes = [p.ref("lb_amp_{}".format(i+1), cont_type="micro-2.0", storage="ambient", discard=True).well(0)
                for i in range(4)]
lb_xab_tube  = p.ref("lb_xab", cont_type="micro-2.0", storage="ambient", discard=True).well(0)
growth_plate = p.ref(expid("growth"), cont_type="96-flat",   storage="cold_4",  discard=False)

# My inventory
IPTG_tube = p.ref("IPTG", id=inv["IPTG"], cont_type="micro-1.5", storage="cold_20").well(0)
# ampicillin plate
amp_6_flat = Container(None, p.container_type('6-flat'))
p.refs[plate_expid("amp_6_flat")] = Ref(plate_expid("amp_6_flat"),
                                        {"id":inv[plate_expid("amp_6_flat")], "store": {"where": 'cold_4'}}, amp_6_flat)

# Use a total of 50 wells
abs_wells = ["{}{}".format(row,col) for row in "BCDEF" for col in range(1,11)]
abs_wells_T = ["{}{}".format(row,col) for col in range(1,11) for row in "BCDEF"]
assert abs_wells[:3] == ["B1","B2","B3"] and abs_wells_T[:3] == ["B1","C1","D1"]

def prepare_growth_wells():
    #
    # To LB, add ampicillin at ~1/1000 concentration
    # Mix slowly in case of overflow
    #
    p.provision(inv["LB Miller"], lb_xab_tube, µl(1913))
    for lb_amp_tube in lb_amp_tubes:
        p.provision(inv["Amp 100mgml"], lb_amp_tube, µl(2))
        p.provision(inv["LB Miller"],   lb_amp_tube, µl(1911))
        p.mix(lb_amp_tube, volume=µl(800), repetitions=10)

    #
    # Add IPTG but save on X-Gal
    # http://openwetware.org/images/f/f1/Dh5a_sub.pdf
    # "If you are concerned about obtaining maximal levels of expression, add IPTG to a final concentration of 1 mM."
    # 2ul of IPTG in 2000ul equals 1mM
    #
    p.transfer(IPTG_tube, [lb_xab_tube] + lb_amp_tubes, µl(2), one_tip=True)

    #
    # Distribute LB among wells, row D is control (no ampicillin)
    #
    cols = range(1,11)
    row = "D" # control, no AB
    cwells = ["{}{}".format(row,col) for col in cols]
    assert set(cwells).issubset(set(abs_wells))
    p.distribute(lb_xab_tube,  growth_plate.wells(cwells), µl(190), allow_carryover=True)

    rows = "BCEF"
    for row, lb_amp_tube in zip(rows, lb_amp_tubes):
        cwells = ["{}{}".format(row,col) for col in cols]
        assert set(cwells).issubset(set(abs_wells))
        p.distribute(lb_amp_tube, growth_plate.wells(cwells), µl(190), allow_carryover=True)

    assert all(lb_amp_tube.volume == lb_xab_tube.volume == dead_volume['micro-2.0']
               for lb_amp_tube in lb_amp_tubes)
    return


def measure_growth_wells():
    #
    # Growth: absorbance and fluorescence over 24 hours
    # Absorbance at 600nm: cell growth
    # Absorbance at 615nm: X-gal, in theory
    # Fluorescence at 485nm/510nm: sfGFP
    # or 450nm/508nm (http://www.ncbi.nlm.nih.gov/pmc/articles/PMC2695656/)
    #
    hr = 4
    for t in range(0,24,hr):
        if t > 0:
            p.cover(growth_plate)
            p.incubate(growth_plate, "warm_37", "{}:hour".format(hr), shaking=True)
            p.uncover(growth_plate)

        p.fluorescence(growth_plate, growth_plate.wells(abs_wells).indices(),
                       excitation="485:nanometer", emission="535:nanometer",
                       dataref=expid("fl2_{}".format(t)), flashes=25)
        p.fluorescence(growth_plate, growth_plate.wells(abs_wells).indices(),
                       excitation="450:nanometer", emission="508:nanometer",
                       dataref=expid("fl1_{}".format(t)), flashes=25)
        p.fluorescence(growth_plate, growth_plate.wells(abs_wells).indices(),
                       excitation="395:nanometer", emission="508:nanometer",
                       dataref=expid("fl0_{}".format(t)), flashes=25)
        p.absorbance(growth_plate, growth_plate.wells(abs_wells).indices(),
                     wavelength="600:nanometer",
                     dataref=expid("abs_{}".format(t)), flashes=25)
    return

# ---------------------------------------------------------------
# Protocol steps
#
prepare_growth_wells()
batch = 10
for i in range(5):
    p.autopick(amp_6_flat.well(i), growth_plate.wells(abs_wells_T[i*batch:i*batch+batch]),
               dataref=expid("autopick_{}".format(i)))
    p.image_plate(amp_6_flat, mode="top", dataref=expid("autopicked_{}".format(i)))
measure_growth_wells()

# ---------------------------------------------------------------
# Output protocol
#
jprotocol = json.dumps(p.as_dict(), indent=2)
!echo '{jprotocol}' | transcriptic analyze
open("protocol_{}.json".format(experiment_name),'w').write(jprotocol)</code></pre></div></div><br/>
<pre>✓ Protocol analyzed
  62 instructions
  8 containers
  Total Cost: $66.38
  Workcell Time: $57.59
  Reagents &amp; Consumables: $8.78</pre><br/>
<h2>Результаты: сбор колоний</h2><br/>
Сине–белый экран прекрасно показал, в основном, белые колонии на пластинах с антибиотиком (1-4) и только синие на пластинах без антибиотика (5-6). Это именно то, чего я ожидал, и я был рад это видеть, тем более, что использовал собственные IPTG и X-gal, которые я отправил в Transcriptic.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/getpro/habr/post_images/bc4/d2b/c10/bc4d2bc102d423993907a021598257ef.jpg" data-src="https://habrastorage.org/getpro/habr/post_images/bc4/d2b/c10/bc4d2bc102d423993907a021598257ef.jpg" data-blurred="true"/><br/>
<i><font color="gray">Скрининг методом бело-голубой селекции пластин с ампициллином (1-4) и без антибиотика (5-6)</font></i><br/>
<br/>
Однако робот-сборщик колоний плохо работал с этими бело-синими колониями. Изображение ниже создано путём вычитания последовательных фотографий пластин после каждого раунда выбора пластины и увеличения контраста различий (в <a href="http://www.graphicsmagick.org/">GraphicsMagick</a>). Таким образом, я могу визуализировать, какие колонии были собраны (хотя и не идеально, поскольку собранные колонии не полностью удаляются).<br/>
<br/>
Я также подписал изображение количеством колоний, собранных роботом Transcriptic. Предполагалось, что он соберёт максимум по 10 колоний из первых пяти пластин. Тем не менее, в целом было собрано несколько колоний, и это обычно это синие колонии. Роботу удалось только найти десять колоний на контрольной пластине с только синими колониями. Моя рабочая теория заключается в том, что робот, собирающий колонии, предпочтительно собирает синие колонии, поскольку они более контрастные.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/getpro/habr/post_images/c8f/ee9/b71/c8fee9b710a214fdb7421dbc2d74e1b4.jpg" data-src="https://habrastorage.org/getpro/habr/post_images/c8f/ee9/b71/c8fee9b710a214fdb7421dbc2d74e1b4.jpg" data-blurred="true"/><br/>
<i><font color="gray">Скрининговые пластины для бело-голубой селекции с ампициллином (1-4) и без антибиотика (5-6), с указанием количества собранных колоний</font></i> <br/>
<br/>
Бело–голубой скрининг служил определённой цели. Он показал, что большинство колоний трансформируются правильно. По крайней мере, там происходит инсерция. Однако для лучшего сбора колоний я повторил эксперимент без X-gal.<br/>
<br/>
Только с белыми колониями робот-сборщик успешно собрал по десять колоний из каждой из первых пяти пластин. Можно предположить, что в большинстве собранных колоний есть успешные инсерции.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/getpro/habr/post_images/2cb/6f1/835/2cb6f183502e484f66e1f95ba1b44ed7.jpg" data-src="https://habrastorage.org/getpro/habr/post_images/2cb/6f1/835/2cb6f183502e484f66e1f95ba1b44ed7.jpg" data-blurred="true"/><br/>
<i><font color="gray">Колонии, растущие на пластинах с ампициллином (1-4) и без антибиотика (5-6)</font></i><br/>
<br/>
<h2>Результаты: трансформация с собранным продуктом</h2><br/>
После выращивания 50 отобранных колоний на 96-пробирочном планшете в течение 20 часов я измеряю флуоресценцию, чтобы проверить экспрессию sfGFP. Для измерения флуоресценции и поглощения (и люминесценции, если хотите) Transcriptic использует ридер <a href="http://lifesciences.tecan.com/products/reader_and_washer/microplate_readers/infinite_200_pro">Tecan Infinite</a>.<br/>
<br/>
В теории, в любой колонии с ростом должна быть собранная плазмида, так как для роста ей нужна устойчивость к антибиотикам, и каждая собранная плазмида экспрессирует sfGFP. На самом деле есть много причин, почему это может быть не так, не в последнюю очередь из-за того, что вы можете потерять ген sfGFP из плазмиды без потери устойчивости к ампициллину. Бактерия, которая теряет ген sfGFP, имеет преимущество в отборе перед своими конкурентами, потому что она не тратит лишнюю энергию, а с учётом достаточного количества поколений роста, это обязательно произойдёт.<br/>
<br/>
Я собираю данные поглощения (OD600) и флуоресценции каждые четыре часа в течение 20 часов (около 60 поколений).<br/>
<br/>
<pre><code class="python">for t in [0,4,8,12,16,20]:
    abs_data = pd.read_csv("glow/sfgfp_puc19_gibson_pick_v3_abs_{}.csv".format(t), index_col="Well")
    flr_data = pd.read_csv("glow/sfgfp_puc19_gibson_pick_v3_fl2_{}.csv".format(t), index_col="Well")

    if t == 0:
        new_data = abs_data.join(flr_data)
    else:
        new_data = new_data.join(abs_data, rsuffix='_{}'.format(t))
        new_data = new_data.join(flr_data, rsuffix='_{}'.format(t))
new_data.columns = ["OD 600:nanometer_0", "Fluorescence_0"] + list(new_data.columns[2:])</code></pre><br/>
Размещаем на графике данные 20-го часа и следы предыдущих замеров. На самом деле мне интересны только последние данные, так как именно тогда должен наблюдаться пик флуоресценции.<br/>
<br/>
<pre><code class="python">svg = []
W, H = 800, 500
min_x, max_x = 0, 0.8
min_y, max_y = 0, 50000

def _toxy(x, y):
    return W*(x-min_x)/(max_x-min_x), H-H*(y-min_y)/(max_y-min_y)
def _topt(x, y):
    return ','.join(map(str,_toxy(x,y)))

ab_fls = [[row[0]] + [list(row[1])] for row in new_data.iterrows()]
# axes
svg.append('&lt;g fill="#888" font-size="18" transform="translate(20,0),scale(.95)">')
svg.append('&lt;text x="0" y="{}">OD600 →&lt;/text>'.format(H+20))
svg.append('&lt;text x="0" y="0" transform="rotate(-90),translate(-{},-8)">Fluorescence →&lt;/text>'.format(H))
svg.append('&lt;line x1="0" y1="{}" x2="{}" y2="{}" style="stroke:#888;stroke-width:2" />'.format(H,W,H))
svg.append('&lt;line x1="0" y1="0" x2="0" y2="{}" style="stroke:#888;stroke-width:2" />'.format(H))

# glow filter
svg.append("""&lt;filter id="glow" x="-200%" y="-200%" height="400%" width="400%">
&lt;feColorMatrix type="matrix" values="0 0 0 0   0 255 0 0 0   0 0 0 0 0   0 0 0 0 1 0"/>
&lt;feGaussianBlur stdDeviation="10" result="coloredBlur"/>
&lt;feMerge>&lt;feMergeNode in="coloredBlur"/>&lt;feMergeNode in="SourceGraphic"/>&lt;/feMerge>
&lt;/filter>""")

for n, (well, vals) in enumerate(ab_fls):
    fill = "#444" if not well.startswith("D") else "#aaa"
    gfilter = 'filter="url(#glow)"' if well in ["C3", "D1", "D3"] else ""
    cx, cy = _toxy(*vals[-2:])
    svg.append('''&lt;g id="point{n:d}">&lt;circle {gfilter:s} r="12" cx="{cx:f}" cy="{cy:f}" fill="{fill:s}" />
                  &lt;text x="{cx:f}" y="{cy:f}" font-size="10" text-anchor="middle" fill="#fff"
                   alignment-baseline="middle">{txt:s}&lt;/text>&lt;/g>
               '''.format(n=n, cx=cx, cy=cy, fill=fill, txt=well, gfilter=gfilter))

    pathd = 'M{} '.format(_topt(*vals[:2]))
    pathd += ' '.join("L{}".format(_topt(*vals[i:i+2])) for i in range(2,len(vals),2))
    svg.append('''&lt;path d="{pathd:}" stroke="#ccc" stroke-width=".2"
                   fill="none" id="path{n:d}"/>'''.format(pathd=pathd, n=n))

svg.append("&lt;/g>") # entire chart group
show_svg(''.join(svg), w=W, h=H)</code></pre><br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/03/z3/kk/03z3kkczqokp7nhgplib_q1bhia.png"/><br/>
<i><font color="gray">Флуоресценция и OD600: колонии с ампициллином чёрные, контрольные колонии без ампициллина серые. Зелёным подсвечены колонии, где я подтвердил правильность последовательности белка sfGFP</font></i> <br/>
<br/>
Запускаем <a href="https://developers.transcriptic.com/docs/plasmid-mini-prep">miniprep</a>, чтобы извлечь плазмидную ДНК, затем секвенирование Сэнгера с помощью праймеров М13. К сожалению, по какой-то причине miniprep в настоящее время доступен только через веб-протокол Transcriptic, а не через автопротокол. Я секвенирую три пробирки с самыми высокими показаниями флуоресценции (C1, D1, D3) и три других (B1, B3, E1), выравнивая последовательности по sfGFP с помощью <a href="http://www.drive5.com/muscle/">muscle</a>.<br/>
<br/>
В пробирках C1, D3 и D3 идеальное соответствие моей исходной последовательности sfGFP, в то время как в B1, B3 и E1 грубые мутации или выравнивание просто терпит неудачу.<br/>
<br/>
<h4>Три светящиеся колонии</h4><br/>
Результаты хорошие, хотя некоторые аспекты удивительны. Например, ридер флуоресценции без видимой причины начинает работу с временной отметки 0 с очень высоких значений (40 000 блоков). К 20-му часу он успокоился до более разумного паттерна с чёткой корреляцией между OD600 и флуоресценцией (предполагаю, из-за небольшого перекрытия в спектрах), плюс некоторые выбросы с высокой флуоресценцией. Удивительно, но это может быть один, три или, возможно, 11-15 выбросов.<br/>
<br/>
Некоторые из пробирок с высокими показателями флуоресценции находятся в контрольных пробирках (т. е. без ампициллина, окрашены серым), что удивительно, поскольку в этих пробирках нет давления отбора, поэтому можно ожидать потери плазмиды).<br/>
<br/>
Основываясь на данных флуоресценции и результатах секвенирования, представляется, что только три из 50 колоний производят sfGFP и флуоресцируют. Это не так много, как я ожидал. Однако, поскольку прошло три отдельные стадии роста (на пластине, в пробирке, для miniprep), к этой стадии клетки претерпели около 200 поколений роста, поэтому было довольно много возможностей для возникновения мутаций.<br/>
<br/>
Должны быть способы сделать процесс более эффективным, тем более что я далеко не эксперт по этим протоколам. Тем не менее, мы успешно произвели трансформированные клетки с экспрессией сконструированного GFP, используя только код Python!<br/>
<br/>
<h1>Часть третья: выводы</h1><br/>
<h4>Цена</h4><br/>
В зависимости от того, как измерять, стоимость этого эксперимента составила около $360, не считая денег на отладку:<br/>
<br/>
<ul>
<li><b>$70</b> на синтез ДНК<br/>
</li>
<li><b>$32</b> на PCR и добавление фланкирующих последовательностей к инсерции<br/>
</li>
<li><b>$31</b> на вырезание плазмид<br/>
</li>
<li><b>$32</b> на сборку Гибсона<br/>
</li>
<li><b>$53</b> на трансформацию<br/>
</li>
<li><b>$67</b> на сбор колоний<br/>
</li>
<li><b>$75</b> за 3 miniprep'ов и секвенирование</li>
</ul><br/>
Думаю, что стоимость можно снизить до $250-300 с некоторыми доработками. Например, роботизированный сбор 50 колоний стоит подозрительно дорого и, вероятно, от него можно отказаться.<br/>
<br/>
По моему опыту, эта цена кажется высокой для некоторых (молекулярных биологов) и низкой для других (людей из IT). Поскольку Transcriptic в основном просто взимает плату за реагенты по прейскуранту, основная разница в затратах заключается в труде. Робот и так обходится довольно дёшево в час, и он не прочь встать посреди ночи, чтобы сфотографировать пластину. После того, как протоколы утверждены, трудно представить, что даже аспирант обойдётся дешевле, особенно если учитывать альтернативные издержки.<br/>
<br/>
Для ясности, я говорю только о замене рутинных протоколов. Конечно, разработка передовых протоколов по-прежнему будет осуществляться квалифицированными молекулярными биологами, но многие захватывающие области науки используют скучные рутинные протоколы. До недавнего времени многие лаборатории производили свои собственные олигонуклеотиды, но теперь мало кто беспокоится об этом: это просто не стоит ничьего времени, даже аспирантов, когда IDT отправит их вам в течение нескольких дней.<br/>
<br/>
<h4>Роботизированные лаборатории: плюсы и минусы</h4><br/>
Очевидно, я очень верю в будущее роботизированных лабораторий. Есть некоторые действительно забавные и полезные вещи в проведении экспериментов с роботами, особенно если вы в первую очередь занимаетесь вычислениями и у вас аллергия на латексные перчатки и ручной труд:<br/>
<br/>
<ul>
<li><b>Воспроизводимость!</b> Вероятно, это главное преимущество. Воспроизводимость включает в себя согласованность роботов и возможность публиковать свой протокол в формате autoprotocol, а не неудобной английской прозой.<br/>
</li>
<li><b>Масштабируемость</b>. Вы можете повторить мой эксперимент 100 раз с разными параметрами, без особых запредельных усилий.<br/>
</li>
<li><b>Произвольно сложные протоколы</b>, например, тачдаун PCR. Это может показаться незначительным или даже контрпродуктивным, но если протокол выполняется сотни или тысячи раз разными лабораториями, почему бы немного не оптимизировать его? Или даже использовать статистику/машинное обучение для улучшения протокола с течением времени? Меня сводит с ума, когда встречаются протоколы, которые предполагается использовать десятки тысяч раз, а они рекомендуют выполнять операцию «в течение 2-3 минут». Сколько именно?<br/>
</li>
<li><b>Тонкая настройка</b>. Вы можете повторить эксперимент после изменения только одной незначительной детали. Человеку очень сложно сделать такое, при прочих равных.<br/>
</li>
<li><b>Виртуальность</b>. Запускайте эксперименты и контролируйте результат на расстоянии.<br/>
</li>
<li><b>Выразительность</b>. Можно использовать синтаксис программирования для кодирования повторяющихся шагов или логики ветвления. Например, если вы хотите дозировать от 1 до 96 мкл реагента и (96−x)мкл воды в 96-пробирочный планшет, это можно кратко записать.<br/>
</li>
<li><b>Машиночитаемые данные</b>. Данные с результатами почти всегда возвращаются в формате csv или другом формате, пригодном для машинной обработки.<br/>
</li>
<li><b>Абстракция</b>. В идеале вы можете запустить весь протокол независимо от используемых реагентов или стиля клонирования и что-то заменить в случае необходимости, если оно работает лучше.</li>
</ul><br/>
Конечно, есть и некоторые недостатки, тем более, что инструменты только начали развиваться. Если сравнить с интернетом, то мы в районе 1994 года:<br/>
<br/>
<ul>
<li>Транспортировка образцов к Transcriptic и назад — тяжёлая работа. Я не уверен, как это лучше организовать, но чем больше вы можете сделать в облачной лаборатории, тем меньше нужно транспортировать. Отчасти поэтому синтетическая биология хорошо подходит для облачных лабораторий, скажем, для диагностики с человеческими образцами.<br/>
</li>
<li>Удалённая отладка протоколов сложна и может быть дорогостоящей — особенно попытки различить свои ошибки и баги Transcriptic.<br/>
</li>
<li>Есть много экспериментов, которые вы просто не можете сделать. На момент написания статьи Transcriptic поддерживает только бактериальные эксперименты (без дрожжей, без клеток млекопитающих, хотя они появятся в будущем).<br/>
</li>
<li>Для многих лабораторий может быть дороже использовать облачную лабораторию, чем просто взять аспиранта для выполнения работы (предельные затраты в час: ~$0). Это зависит от того, нужны лаборатории руки аспиранта или его интеллект.<br/>
</li>
<li>Transcriptic ещё не проводит экспериментов в выходные. Их можно понять, но такое бывает неудобно, даже если у вас небольшой проект.</li>
</ul><br/>
<h4>Софт для изготовления белков</h4><br/>
Хотя здесь довольно много кода и довольно много отладки, я думаю, что возможно создать какое-то программное обеспечение, которое принимает на вход последовательность белков, а на выходе создаёт бактерии с экспрессией этого белка.<br/>
<br/>
Чтобы это сработало, должно произойти несколько вещей:<br/>
<br/>
<ul>
<li>Истинная интеграция Twist/IDT/Gen9 с Transcriptic (вероятно, она будет происходить медленно из-за низкого спроса в настоящее время).<br/>
</li>
<li>Очень надёжные версии протоколов, которые я описал выше, чтобы учесть различия в составе последовательности белков, длине, вторичной структуре и т. д.<br/>
</li>
<li>Замена различных проприетарных инструментов (генератор протоколов Гибсона от NEB, оптимизатор кодонов от IDT) на эквиваленты с открытым исходным кодом (например, <a href="http://bioinfo.ut.ee/primer3/">primer3</a>).</li>
</ul><br/>
Во многих приложениях вы также хотите очистить свой белок (через <a href="https://en.wikipedia.org/wiki/Polyhistidine-tag">колонку</a>) или, возможно, просто заставить бактерии <a href="http://2014.igem.org/Team:Michigan">секретировать</a> его. Предположим, что вскоре мы сможем сделать это в облачной лаборатории или что сможем проводить эксперименты in vivo (т. е. внутри бактериальной клетки).<br/>
<br/>
Есть много возможностей для того, чтобы протокол на самом деле работал лучше человека, например: дизайн промоторов и RBS для оптимизации экспрессии, специфичной для вашей последовательности; статистика вероятности успеха эксперимента на основе сопоставимых экспериментов; автоматизированный анализ гелей.<br/>
<br/>
<h4>Зачем всё это?</h4><br/>
После всего этого может быть не совсем ясно, зачем создавать такой белок. Вот некоторые идеи:<br/>
<br/>
<ul>
<li>Сделать <a href="https://nimasensor.com/">датчик</a> для обнаружения чего-то опасного/нездорового/вкусного, как глютен.<br/>
</li>
<li>Сделать <a href="http://www.the-scientist.com/?articles.view/articleNo/26908/title/Synthetic-vaccine-nabs-iGEM-prize/">вакцину</a> с идентификацией пептидов, уникальных для патогена, и <a href="http://prosperosworld.com/problem-solving-technique2012/2012/">хорошенько подумать</a>.<br/>
</li>
<li>Оценить связи белка <i>in vivo</i> с помощью <a href="http://www.nature.com/articles/srep02854">split-GFP</a> или <a href="https://en.wikipedia.org/wiki/Two-hybrid_screening">схожих подходов</a>.<br/>
</li>
<li>Сделать <a href="http://2014.igem.org/Team:Michigan">scFv</a> в качестве датчика для сальмонеллы. Эти scFvs действуют как мини-антитела с <a href="http://www.ncbi.nlm.nih.gov/pubmed/22230329">фолдингом внутри бактерии</a>.<br/>
</li>
<li>Сделать <a href="https://en.wikipedia.org/wiki/Bi-specific_T-cell_engager">BiTE</a> для лечения конкретного вида рака, который вы только что секвенировали (это может быть сложнее, чем кажется).<br/>
</li>
<li>Сделать местную вакцину, которая входит в организм <a href="http://blog.booleanbiotech.com/naked%20DNA.html">через волосяные фолликулы</a> (не рекомендую пробовать это дома).<br/>
</li>
<li>Мутагенизировать свой белок сотней разных способов и посмотреть, что получится. Затем масштабировать до 1000 или 10 000 мутаций? Может, охарактеризовать мутации GFP?</li>
</ul><br/>
Для новых идей того, что возможно при конструировании белков, посмотрите на сотни <a href="http://blog.booleanbiotech.com/static/igem.html">проектов iGEM</a>.<br/>
<br/>
В конце хочу выразить благодарность <a href="https://twitter.com/BenNMiles">Бену Майлзу</a> из Transcriptic за помощь в завершении этого проекта.</div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5BTranscriptic%5D" class="tm-tags-list__link">Transcriptic</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D1%80%D0%BE%D0%B1%D0%BE%D1%82%D0%B8%D0%B7%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5%20%D0%BB%D0%B0%D0%B1%D0%BE%D1%80%D0%B0%D1%82%D0%BE%D1%80%D0%B8%D0%B8%5D" class="tm-tags-list__link">роботизированные лаборатории</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bautoprotocol%5D" class="tm-tags-list__link">autoprotocol</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/hub/python/" class="tm-hubs-list__link">
    Python
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/popular_science/" class="tm-hubs-list__link">
    Научно-популярное
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/biotech/" class="tm-hubs-list__link">
    Биотехнологии
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/DIY/" class="tm-hubs-list__link">
    DIY или Сделай сам
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/futurenow/" class="tm-hubs-list__link">
    Будущее здесь
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 50: ↑50 и ↓0</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 50: ↑50 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+50</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">14K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    96
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/m1rko/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/4ec/bd0/85d/4ecbd085d692835a931d03174ff19539.png" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 1501 голос " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    1229.5
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">0</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><span class="tm-user-card__name tm-user-card__name_variant-article">Анатолий Ализар</span> <a href="/ru/users/m1rko/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @m1rko
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">автор, переводчик, редактор</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/451124/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 20 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <!----> <!----> <!----> <!----> </div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/451124/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/451124/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"451124":{"id":"451124","timePublished":"2019-05-09T13:17:02+00:00","isCorporative":false,"lang":"ru","titleHtml":"Разработка белков в облаке с помощью Python и Transcriptic или Как создать любой белок за $360","leadData":{"textHtml":"Что, если у вас идея для классного, полезного белка, и вы хотите получить его в реальности? Например, хотите создать вакцину против \u003Ci\u003EH. pylori\u003C\u002Fi\u003E (как \u003Ca href=\"http:\u002F\u002F2008.igem.org\u002FTeam:Slovenia\"\u003Eсловенская команда на iGEM 2008\u003C\u002Fa\u003E), создав гибридный белок, который сочетает фрагменты флагеллина \u003Ci\u003EE. coli\u003C\u002Fi\u003E, стимулирующие иммунный ответ с обычным флагеллином \u003Ci\u003EH. pylori\u003C\u002Fi\u003E?\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fe9c\u002Fdd5\u002F691\u002Fe9cdd5691f1bab368bb400a8818b6507.png\"\u003E\u003C\u002Fdiv\u003E\u003Ci\u003E\u003Cfont color=\"gray\"\u003EДизайн гибридного флагеллина вакцины против H. pylori, представленный командой Словении на iGEM 2008\u003C\u002Ffont\u003E\u003C\u002Fi\u003E \u003Cbr\u003E\r\n\u003Cbr\u003E\r\nУдивительно, но мы очень близки к тому, чтобы создать любой белок, какой хотим, не выходя из блокнота Jupyter, благодаря последним разработкам в геномике, синтетической биологии и совсем недавно — в облачных лабораториях.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ этой статье я покажу код Python от идеи белка до его экспрессии в бактериальной клетке, не прикасаясь к пипетке и не разговаривая ни с одним человеком. Общая стоимость составит всего несколько сотен долларов! Используя \u003Ca href=\"http:\u002F\u002Fa16z.com\u002F2015\u002F11\u002F18\u002Fbio-fund\u002F\"\u003Eтерминологию Виджая Панде из A16Z\u003C\u002Fa\u003E, это Биология 2.0.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше →","image":null},"editorVersion":"1.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Brian Naughton","originalUrl":"http:\u002F\u002Fblog.booleanbiotech.com\u002Fgenetic_engineering_pipeline_python.html"}}],"author":{"scoreStats":{"score":1229.5,"votesCount":1501},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"1371978","alias":"m1rko","fullname":"Анатолий Ализар","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F4ec\u002Fbd0\u002F85d\u002F4ecbd085d692835a931d03174ff19539.png","speciality":"автор, переводчик, редактор"},"statistics":{"commentsCount":20,"favoritesCount":96,"readingCount":13676,"score":50,"votesCount":50},"hubs":[{"relatedData":null,"id":"340","alias":"python","type":"collective","title":"Python","titleHtml":"Python","isProfiled":true},{"relatedData":null,"id":"21910","alias":"popular_science","type":"collective","title":"Научно-популярное","titleHtml":"Научно-популярное","isProfiled":false},{"relatedData":null,"id":"21912","alias":"biotech","type":"collective","title":"Биотехнологии","titleHtml":"Биотехнологии","isProfiled":false},{"relatedData":null,"id":"21976","alias":"DIY","type":"collective","title":"DIY или Сделай сам","titleHtml":"DIY или Сделай сам","isProfiled":false},{"relatedData":null,"id":"22014","alias":"futurenow","type":"collective","title":"Будущее здесь","titleHtml":"Будущее здесь","isProfiled":false}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"7","alias":"popsci","title":"Научпоп"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003EЧто, если у вас идея для классного, полезного белка, и вы хотите получить его в реальности? Например, хотите создать вакцину против \u003Ci\u003EH. pylori\u003C\u002Fi\u003E (как \u003Ca href=\"http:\u002F\u002F2008.igem.org\u002FTeam:Slovenia\"\u003Eсловенская команда на iGEM 2008\u003C\u002Fa\u003E), создав гибридный белок, который сочетает фрагменты флагеллина \u003Ci\u003EE. coli\u003C\u002Fi\u003E, стимулирующие иммунный ответ с обычным флагеллином \u003Ci\u003EH. pylori\u003C\u002Fi\u003E?\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fe9c\u002Fdd5\u002F691\u002Fe9cdd5691f1bab368bb400a8818b6507.png\"\u002F\u003E\u003C\u002Fdiv\u003E\u003Ci\u003E\u003Cfont color=\"gray\"\u003EДизайн гибридного флагеллина вакцины против H. pylori, представленный командой Словении на iGEM 2008\u003C\u002Ffont\u003E\u003C\u002Fi\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nУдивительно, но мы очень близки к тому, чтобы создать любой белок, какой хотим, не выходя из блокнота Jupyter, благодаря последним разработкам в геномике, синтетической биологии и совсем недавно — в облачных лабораториях.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ этой статье я покажу код Python от идеи белка до его экспрессии в бактериальной клетке, не прикасаясь к пипетке и не разговаривая ни с одним человеком. Общая стоимость составит всего несколько сотен долларов! Используя \u003Ca href=\"http:\u002F\u002Fa16z.com\u002F2015\u002F11\u002F18\u002Fbio-fund\u002F\"\u003Eтерминологию Виджая Панде из A16Z\u003C\u002Fa\u003E, это Биология 2.0.\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\nКонкретнее, в статье питоновский код облачной лаборатории делает следующее:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Cb\u003EСинтез\u003C\u002Fb\u003E последовательность ДНК, которая кодирует любой белок, который я хочу.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cb\u003EКлонирование\u003C\u002Fb\u003E этой синтетической ДНК в \u003Cb\u003Eвектор\u003C\u002Fb\u003E, который может её экспрессировать.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cb\u003EТрансформация\u003C\u002Fb\u003E бактерии с этим \u003Cb\u003Eвектором\u003C\u002Fb\u003E и подтверждение, что происходит экспрессия.\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\n\u003Ch1\u003EНастройка Python\u003C\u002Fh1\u003E\u003Cbr\u002F\u003E\r\nВо-первых, общие настройки Python, которые нужны для любого блокнота Jupyter. Импортируем некоторые полезные модули Python и создаём некоторые служебные функции, в основном, для визуализации данных.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EКод\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cpre\u003E\u003Ccode class=\"python\"\u003Eimport re\nimport json\nimport logging\nimport requests\nimport itertools\nimport numpy as np\nimport seaborn as sns\nimport pandas as pd\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt\n\nfrom io import StringIO\nfrom pprint import pprint\nfrom Bio.Seq import Seq\nfrom Bio.Alphabet import generic_dna\nfrom IPython.display import display, Image, HTML, SVG\n\ndef uprint(astr): print(astr + \"\\n\" + \"-\"*len(astr))\ndef show_html(astr): return display(HTML('{}'.format(astr)))\ndef show_svg(astr, w=1000, h=1000):\n    SVG_HEAD = '''&lt;?xml version=\"1.0\" standalone=\"no\"?\u003E&lt;!DOCTYPE svg PUBLIC \"-\u002F\u002FW3C\u002F\u002FDTD SVG 1.1\u002F\u002FEN\" \"http:\u002F\u002Fwww.w3.org\u002FGraphics\u002FSVG\u002F1.1\u002FDTD\u002Fsvg11.dtd\"\u003E'''\n    SVG_START = '''&lt;svg viewBox=\"0 0 {w:} {h:}\" version=\"1.1\" xmlns=\"http:\u002F\u002Fwww.w3.org\u002F2000\u002Fsvg\" xmlns:xlink= \"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxlink\"\u003E'''\n    return display(SVG(SVG_HEAD + SVG_START.format(w=w, h=h) + astr + '&lt;\u002Fsvg\u003E'))\n\ndef table_print(rows, header=True):\n    html = [\"&lt;table\u003E\"]\n    html_row = \"&lt;\u002Ftd\u003E&lt;td\u003E\".join(k for k in rows[0])\n    html.append(\"&lt;tr style='font-weight:{}'\u003E&lt;td\u003E{}&lt;\u002Ftd\u003E&lt;\u002Ftr\u003E\".format('bold' if header is True else 'normal', html_row))\n    for row in rows[1:]:\n        html_row = \"&lt;\u002Ftd\u003E&lt;td\u003E\".join(row)\n        html.append(\"&lt;tr style='font-family:monospace;'\u003E&lt;td\u003E{:}&lt;\u002Ftd\u003E&lt;\u002Ftr\u003E\".format(html_row))\n    html.append(\"&lt;\u002Ftable\u003E\")\n    show_html(''.join(html))\n\ndef clean_seq(dna):\n    dna = re.sub(\"\\s\",\"\",dna)\n    assert all(nt in \"ACGTN\" for nt in dna)\n    return Seq(dna, generic_dna)\n\ndef clean_aas(aas):\n    aas = re.sub(\"\\s\",\"\",aas)\n    assert all(aa in \"ACDEFGHIKLMNPQRSTVWY*\" for aa in aas)\n    return aas\n\ndef Images(images, header=None, width=\"100%\"): # to match Image syntax\n    if type(width)==type(1): width = \"{}px\".format(width)\n    html = [\"&lt;table style='width:{}'\u003E&lt;tr\u003E\".format(width)]\n    if header is not None:\n        html += [\"&lt;th\u003E{}&lt;\u002Fth\u003E\".format(h) for h in header] + [\"&lt;\u002Ftr\u003E&lt;tr\u003E\"]\n\n    for image in images:\n        html.append(\"&lt;td\u003E&lt;img src='{}' \u002F\u003E&lt;\u002Ftd\u003E\".format(image))\n    html.append(\"&lt;\u002Ftr\u003E&lt;\u002Ftable\u003E\")\n    show_html(''.join(html))\n\ndef new_section(title, color=\"#66aa33\", padding=\"120px\"):\n    style = \"text-align:center;background:{};padding:{} 10px {} 10px;\".format(color,padding,padding)\n    style += \"color:#ffffff;font-size:2.55em;line-height:1.2em;\"\n    return HTML('&lt;div style=\"{}\"\u003E{}&lt;\u002Fdiv\u003E'.format(style, title))\n\n# Show or hide text\nHTML(\"\"\"\n&lt;style\u003E\n    .section { display:flex;align-items:center;justify-content:center;width:100%; height:400px; background:#6a3;color:#eee;font-size:275%; }\n    .showhide_label { display:block; cursor:pointer; }\n    .showhide { position: absolute; left: -999em; }\n    .showhide + div { display: none; }\n    .showhide:checked + div { display: block; }\n    .shown_or_hidden { font-size:85%; }\n&lt;\u002Fstyle\u003E\n\"\"\")\n\n# Plotting style\nplt.rc(\"axes\", titlesize=20, labelsize=15, linewidth=.25, edgecolor='#444444')\nsns.set_context(\"notebook\", font_scale=1.2, rc={})\n%matplotlib inline\n%config InlineBackend.figure_format = 'retina' # or 'svg'\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Ch1\u003EОблачные лаборатории\u003C\u002Fh1\u003E\u003Cbr\u002F\u003E\r\nКак у AWS или любого вычислительного облака, у облачной лаборатории есть оборудование для молекулярной биологии, а также роботы, которых она сдаёт в аренду через интернет. Вы можете выдавать инструкции своим роботам, нажав несколько кнопок в интерфейсе или написав код, который самостоятельно их программирует. Необязательно писать собственные протоколы, как я сделаю здесь, значительная часть молекулярной биологии — это стандартные рутинные задачи, поэтому обычно лучше полагаться на надёжный чужой протокол, который показал хорошее взаимодействие с роботами.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ последнее время появился целый ряд компаний с облачными лабораториями: \u003Ca href=\"https:\u002F\u002Fwww.transcriptic.com\u002F\"\u003ETranscriptic\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fwla.bionano.autodesk.com\u002F#\u002F\"\u003EAutodesk Wet Lab Accelerator\u003C\u002Fa\u003E (бета, и построена на основе Transcriptic), \u003Ca href=\"https:\u002F\u002Fwww.arcturus.io\u002F\"\u003EArcturus BioCloud\u003C\u002Fa\u003E (бета), \u003Ca href=\"http:\u002F\u002Femeraldcloudlab.com\u002F\"\u003EEmerald Cloud Lab\u003C\u002Fa\u003E (бета), \u003Ca href=\"https:\u002F\u002Fwww.synthego.com\u002F\"\u003ESynthego\u003C\u002Fa\u003E (ещё не запустилась). Есть даже компании, построенные поверх облачных лабораторий, такие как \u003Ca href=\"http:\u002F\u002Fdesktopgenetics.com\u002F\"\u003EDesktop Genetics\u003C\u002Fa\u003E, которая специализируется на CRISPR. Начинают появляться \u003Ca href=\"http:\u002F\u002Fwww.businesswire.com\u002Fnews\u002Fhome\u002F20160216005377\u002Fen\u002FStudy-Shows-Transcriptic%E2%80%99s-Robotic-Cloud-Laboratory-Removes\"\u003Eнаучные статьи\u003C\u002Fa\u003E об использовании облачных лабораторий в реальной науке.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНа момент написания статьи в открытом доступе только Transcriptic, поэтому будем использовать её. Насколько я понимаю, большая часть бизнеса Transcriptic построена на автоматизации общих протоколов, а написание собственных протоколов на Python (как я буду делать в этой статье) менее распространено.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F94e\u002F38f\u002F0a6\u002F94e38f0a6f9ea9af3509a0278242b9b4.jpg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F94e\u002F38f\u002F0a6\u002F94e38f0a6f9ea9af3509a0278242b9b4.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003E«Рабочая ячейка» Transcriptic с холодильниками внизу и различным лабораторным оборудованием на стенде\u003C\u002Ffont\u003E\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЯ выдам роботам Transcriptic инструкции на \u003Ca href=\"http:\u002F\u002Fautoprotocol.org\u002F\"\u003Eавтопротоколе\u003C\u002Fa\u003E. Autoprotocol — это язык на основе JSON для написания протоколов для лабораторных роботов (и людей, как бы). Autoprotocol в основном сделан на \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fautoprotocol\u002Fautoprotocol-python\"\u003Eэтой библиотеке Python\u003C\u002Fa\u003E. Язык был первоначально создан и до сих пор поддерживается Transcriptic, но, как я понимаю, он полностью открыт. Есть хорошая \u003Ca href=\"https:\u002F\u002Fdevelopers.transcriptic.com\u002Fdocs\u002Fhow-to-write-a-new-protocol\"\u003Eдокументация\u003C\u002Fa\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИнтересная идея, что на автопротоколе можно писать инструкции для людей в удалённых лабораториях — скажем, в Китае или Индии — и потенциально получить некоторые преимущества от использования и людей (их суждение), и роботов (отсутствие суждения). Здесь нужно упомянуть \u003Ca href=\"https:\u002F\u002Fwww.protocols.io\u002F\"\u003Eprotocols.io\u003C\u002Fa\u003E, это попытка стандартизировать протоколы для повышения воспроизводимости, но для людей, а не роботов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"json\"\u003E\"instructions\": [\n    {\n      \"to\": [\n        {\n          \"well\": \"water\u002F0\",\n          \"volume\": \"500.0:microliter\"\n        }\n      ],\n      \"op\": \"provision\",\n      \"resource_id\": \"rs17gmh5wafm5p\"\n    },\n    ...\n]\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EПример фрагмента autoprotocol\u003C\u002Ffont\u003E\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch1\u003EНастройки Python для молекулярной биологии\u003C\u002Fh1\u003E\u003Cbr\u002F\u003E\r\nКроме импорта стандартных библиотек, мне понадобятся некоторые специфические молекулярно-биологические утилиты. Этот код в основном для автопротокола и Transcriptic.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ коде часто встречается концепция «мёртвого объёма» (dead volume). Это означает последнюю каплю жидкости, который роботы Transcriptic не могут взять пипеткой из пробирок (потому что они не видят!). Приходится тратить много времени, чтобы убедиться, что в колбах достаточный объём материала.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EКод\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cpre\u003E\u003Ccode class=\"python\"\u003Eimport autoprotocol\nfrom autoprotocol import Unit\nfrom autoprotocol.container import Container\nfrom autoprotocol.protocol import Protocol\nfrom autoprotocol.protocol import Ref # \"Link a ref name (string) to a Container instance.\"\nimport requests\nimport logging\n\n# Transcriptic authorization\norg_name = 'hgbrian'\ntsc_headers = {k:v for k,v in json.load(open(\"auth.json\")).items() if k in [\"X_User_Email\",\"X_User_Token\"]}\n\n# Transcriptic-specific dead volumes\n_dead_volume = [(\"96-pcr\",3), (\"96-flat\",25), (\"96-flat-uv\",25), (\"96-deep\",15),\n                (\"384-pcr\",2), (\"384-flat\",5), (\"384-echo\",15),\n                (\"micro-1.5\",15), (\"micro-2.0\",15)]\ndead_volume = {k:Unit(v,\"microliter\") for k,v in _dead_volume}\n\n\ndef init_inventory_well(well, headers=tsc_headers, org_name=org_name):\n    \"\"\"Initialize well (set volume etc) for Transcriptic\"\"\"\n    def _container_url(container_id):\n        return 'https:\u002F\u002Fsecure.transcriptic.com\u002F{}\u002Fsamples\u002F{}.json'.format(org_name, container_id)\n\n    response = requests.get(_container_url(well.container.id), headers=headers)\n    response.raise_for_status()\n\n    container = response.json()\n    well_data = container['aliquots'][well.index]\n    well.name = \"{}\u002F{}\".format(container[\"label\"], well_data['name']) if well_data['name'] is not None else container[\"label\"]\n    well.properties = well_data['properties']\n    well.volume = Unit(well_data['volume_ul'], 'microliter')\n\n    if 'ERROR' in well.properties:\n        raise ValueError(\"Well {} has ERROR property: {}\".format(well, well.properties[\"ERROR\"]))\n    if well.volume &lt; Unit(20, \"microliter\"):\n        logging.warn(\"Low volume for well {} : {}\".format(well.name, well.volume))\n\n    return True\n\ndef touchdown(fromC, toC, durations, stepsize=2, meltC=98, extC=72):\n    \"\"\"Touchdown PCR protocol generator\"\"\"\n    assert 0 &lt; stepsize &lt; toC &lt; fromC\n    def td(temp, dur): return {\"temperature\":\"{:2g}:celsius\".format(temp), \"duration\":\"{:d}:second\".format(dur)}\n\n    return [{\"cycles\": 1, \"steps\": [td(meltC, durations[0]), td(C, durations[1]), td(extC, durations[2])]}\n            for C in np.arange(fromC, toC-stepsize, -stepsize)]\n\ndef convert_ug_to_pmol(ug_dsDNA, num_nts):\n    \"\"\"Convert ug dsDNA to pmol\"\"\"\n    return float(ug_dsDNA)\u002Fnum_nts * (1e6 \u002F 660.0)\n\ndef expid(val):\n    \"\"\"Generate a unique ID per experiment\"\"\"\n    return \"{}_{}\".format(experiment_name, val)\n\ndef µl(microliters):\n    \"\"\"Unicode function name for creating microliter volumes\"\"\"\n    return Unit(microliters,\"microliter\")\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Ch1\u003EСинтез ДНК и синтетическая биология\u003C\u002Fh1\u003E\u003Cbr\u002F\u003E\r\nНесмотря на связь с современной синтетической биологией, синтез ДНК — довольно старая технология. Мы в течение десятилетий умели делать оликонуклеотиды (то есть последовательности ДНК до 200 оснований). Однако это всегда было дорого, и химия никогда не допускала длинных последовательностей ДНК. В последнее время стало возможным по разумной цене синтезировать целые гены (до тысяч оснований). Это достижение действительно открывает эпоху «синтетической биологии».\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКомпания \u003Ca href=\"http:\u002F\u002Fwww.syntheticgenomics.com\u002F\"\u003ESynthetic Genomics\u003C\u002Fa\u003E Крейга Вентера продвинула синтетическую биологию дальше всего, \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMycoplasma_laboratorium\"\u003Eсинтезировав целый организм\u003C\u002Fa\u003E — более миллиона оснований в длину. По мере увеличения длины ДНК проблемой становится уже не синтез, а сборка (т. е. сшивание вместе синтезированных последовательностей ДНК). При каждой сборке вы можете увеличить длину ДНК в два раза (или больше), поэтому после десятка или около того итераций получается \u003Ca href=\"http:\u002F\u002Fwww.wolframalpha.com\u002Finput\u002F?i=200+*+2%5E12\"\u003Eдовольно длинная молекула\u003C\u002Fa\u003E! Различие между синтезом и сборкой довольно скоро должно стать понятным конечному пользователю.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch1\u003EЗакон Мура?\u003C\u002Fh1\u003E\u003Cbr\u002F\u003E\r\nЦена синтеза ДНК падает довольно быстро, с более $0,30 за основание два года назад до около $0,10 сегодня, но она развивается больше как бактерии, чем процессоры. Напротив, цены на секвенирование ДНК падают быстрее, чем закон Мура. Цель \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Ftwistbioscience\u002Fstatus\u002F590886375572037632\"\u003E$0,02 за основание намечена как точка перегиба\u003C\u002Fa\u003E, где вы можете заменить много трудоёмких манипуляций с ДНК простым синтезом. Например, при такой цене вы можете синтезировать целую плазмиду 3kb за \u003Ca href=\"http:\u002F\u002Fwww.wolframalpha.com\u002Finput\u002F?i=3000+bases+at+2+cents%2Fbase\"\u003E$60\u003C\u002Fa\u003E и пропустить кучу молекулярной биологии. Надеюсь, мы достигнем этого через пару лет.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F373\u002Fb42\u002F050\u002F373b42050b870646857266bb3e07c7ed.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EЦены на синтез ДНК по сравнению с ценами на секвенирование ДНК, цена за 1 основание (Carlson, 2014)\u003C\u002Ffont\u003E\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch1\u003EКомпании по синтезу ДНК\u003C\u002Fh1\u003E\u003Cbr\u002F\u003E\r\nВ области синтеза ДНК есть несколько крупных компаний: IDT является крупнейшим производителем оликонуклеотидов, а также может производить более длинные (до 2kb) «фрагменты генов» (\u003Ca href=\"https:\u002F\u002Fwww.idtdna.com\u002Fpages\u002Fproducts\u002Fgenes\u002Fgblocks-gene-fragments\"\u003EgBlocks\u003C\u002Fa\u003E). \u003Ca href=\"https:\u002F\u002Fwww.gen9bio.com\u002F\"\u003EGen9\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fwww.twistbioscience.com\u002F\"\u003ETwist\u003C\u002Fa\u003E и \u003Ca href=\"https:\u002F\u002Fwww.dna20.com\u002F\"\u003EDNA 2.0\u003C\u002Fa\u003E обычно специализируются на более длинных последовательностях ДНК — это компании по синтезу генов. Есть также некоторые интересные новые компании, такие как \u003Ca href=\"http:\u002F\u002Fcambriangenomics.com\u002F\"\u003ECambrian Genomics\u003C\u002Fa\u003E и \u003Ca href=\"http:\u002F\u002Fwww.genesisdna.com\u002F\"\u003EGenesis DNA\u003C\u002Fa\u003E, которые работают над методами синтеза следующего поколения.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДругие компании, такие как \u003Ca href=\"https:\u002F\u002Famyris.com\u002F\"\u003EAmyris\u003C\u002Fa\u003E, \u003Ca href=\"http:\u002F\u002Fwww.zymergen.com\u002F\"\u003EZymergen\u003C\u002Fa\u003E и \u003Ca href=\"http:\u002F\u002Fginkgobioworks.com\u002F\"\u003EGinkgo Bioworks\u003C\u002Fa\u003E, используют синтезированную этими компаниями ДНК для работы на уровне организма. \u003Ca href=\"http:\u002F\u002Fwww.syntheticgenomics.com\u002F\"\u003ESynthetic Genomics\u003C\u002Fa\u003E тоже делает это, но сама синтезирует ДНК.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНедавно Ginkgo \u003Ca href=\"http:\u002F\u002Fwww.fiercebiotechit.com\u002Fstory\u002Fflush-90m-vc-cash-twist-and-ginkgo-strike-massive-synthetic-dna-deal\u002F2015-11-06\"\u003Eзаключила сделку с Twist\u003C\u002Fa\u003E на изготовление 100 миллионов оснований: самая крупная сделка, что я видел. Это доказывает, что мы живём в будущем, Twist даже рекламировала промокод в Twitter: когда вы покупаете 10 миллионов оснований ДНК (почти весь геном дрожжей!), вы получаете ещё 10 миллионов бесплатно.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fe07\u002Fbfb\u002Fac9\u002Fe07bfbac9c53ddb79634b63efc3fc0e7.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EНишевое \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Ftwistbioscience\u002Fstatus\u002F621765539002740737\"\u003Eпредложение Twist в твиттере\u003C\u002Fa\u003E\u003C\u002Ffont\u003E\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch1\u003EЧасть первая: проектирование эксперимента\u003C\u002Fh1\u003E\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EЗелёный флуоресцентный белок\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nВ этом эксперименте синтезируем последовательность ДНК для простого, \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FGreen_fluorescent_protein\"\u003Eзелёного флуоресцентного белка\u003C\u002Fa\u003E (GFP). Протеин GFP впервые был найден в \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FAequorea_victoria\"\u003Eмедузе\u003C\u002Fa\u003E, которая флуоресцирует под ультрафиолетовым светом. Это чрезвычайно полезный белок, потому что легко обнаружить его экспрессию, просто измеряя флуоресценцию. Существуют варианты GFP, которые производят жёлтый, красный, оранжевый и другие цвета.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИнтересно посмотреть, как различные мутации влияют на цвет белка, и это потенциально интересная проблема машинного обучения. Совсем недавно для этого пришлось бы потратить немало времени в лаборатории, но сейчас я вам покажу, что это (почти) так же просто, как редактирование текстового файла!\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТехнически, мой GFP является суперфолдер-вариантом (sfGFP) с некоторыми мутациями для улучшения качеств.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Ftb\u002Ftm\u002F_v\u002Ftbtm_vcly3elxlwhbcoknhsjpuo.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Ftb\u002Ftm\u002F_v\u002Ftbtm_vcly3elxlwhbcoknhsjpuo.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EВ \u003Ca href=\"https:\u002F\u002Fwww.nature.com\u002Farticles\u002Fnbt1172\"\u003Eсуперфолдер-GFP\u003C\u002Fa\u003E (sfGFP) некоторые мутации придают ему определённые полезные свойства\u003C\u002Ffont\u003E\u003C\u002Fi\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F645\u002F232\u002Fc67\u002F645232c67631f484ed6e8b30f6fa91eb.jpg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F645\u002F232\u002Fc67\u002F645232c67631f484ed6e8b30f6fa91eb.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EСтруктура GFP (визуализируется с помощью \u003Ca href=\"http:\u002F\u002Fdx.doi.org\u002F10.5281\u002Fzenodo.20980\"\u003EPV\u003C\u002Fa\u003E)\u003C\u002Ffont\u003E\u003C\u002Fi\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EСинтез GFP в Twist\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nМне посчастливилось попасть в альфа-программу тестирования Twist, поэтому я использовал их сервис для синтеза ДНК (они любезно разместили мой крошечный заказ — спасибо, Twist!). Это новая компания в нашей области, с новым упрощённым процессом синтеза. Цены у них в районе \u003Ca href=\"https:\u002F\u002Fgroups.google.com\u002Fforum\u002F?fromgroups#!topic\u002Fdiybio\u002FO1Tn1O-l-mQ\"\u003E$0,10 за основание или ниже\u003C\u002Fa\u003E, но они \u003Ca href=\"https:\u002F\u002Fwww.twistbioscience.com\u002F\"\u003Eвсё ещё в бета-версии\u003C\u002Fa\u003E, а альфа-программа, в которой я принимал участие, закрылась. Twist поднял около $150 млн, так что их технология вызывает живой энтузиазм.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЯ отправил свою последовательность ДНК в Twist в виде электронной таблицы Excel (пока нет API, но я предполагаю, что скоро будет), а они отправили синтезированную ДНК прямо на мой ящик в лаборатории Transcriptic (я также использовал для синтеза IDT, но они не отправили ДНК прямо в Transcriptic, что немного портит удовольствие).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОчевидно, этот процесс ещё не стал типичным случаем использования и требует некоторой поддержки, но он сработал, так что весь конвейер остаётся виртуальным. Без этого мне, вероятно, понадобился бы доступ в лабораторию — многие компании не будут отправлять ДНК или реагенты на домашний адрес.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F734\u002F378\u002Fb0b\u002F734378b0b151d2ed64bbd3ebb6edf0f3.jpg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F734\u002F378\u002Fb0b\u002F734378b0b151d2ed64bbd3ebb6edf0f3.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EGFP безвреден, поэтому \u003Ca href=\"http:\u002F\u002Fnews.nationalgeographic.com\u002Fnews\u002F2009\u002F05\u002Fphotogalleries\u002Fglowing-animal-pictures\u002F\"\u003Eподсвечивается любой вид\u003C\u002Fa\u003E\u003C\u002Ffont\u003E\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EПлазмидный вектор\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nЧтобы экспрессировать этот белок в бактериях, гену нужно где-то жить, иначе синтетическая ДНК, кодирующая ген, просто мгновенно деградирует. Как правило, в молекулярной биологии мы используем плазмиду, кусочек круглой ДНК, который живёт вне бактериального генома и экспрессирует белки. Плазмиды — удобный способ для бактерий делиться полезными автономными функциональными модулями, такими как устойчивость к антибиотикам. В клетке могут быть сотни плазмид.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nШироко используемая терминология заключается в том, что плазмида является \u003Cb\u003Eвектором\u003C\u002Fb\u003E, а синтетическая ДНК — инсерцией (вставкой). Итак, здесь мы пытаемся клонировать инсерцию в вектор, а затем трансформировать бактерии с помощью вектора.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F66c\u002F9ae\u002Fd03\u002F66c9aed037ae408c6f642433d9a2a130.jpg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F66c\u002F9ae\u002Fd03\u002F66c9aed037ae408c6f642433d9a2a130.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EБактериальный геном и плазмида (не в масштабе!) (\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FPlasmid\"\u003EВикипедия\u003C\u002Fa\u003E)\u003C\u002Ffont\u003E\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EpUC19\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nЯ выбрал довольно стандартную плазмиду в серии \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FPUC19\"\u003EpUC19\u003C\u002Fa\u003E. Эта плазмида очень часто используется, и поскольку она доступна как часть стандартного инвентаря Transcriptic, нам не нужно ничего им отправлять.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F4f3\u002F576\u002F8f1\u002F4f35768f17d5ff5506f7d1aca0b064a0.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EСтруктура pUC19: основными компонентами являются ген устойчивости к ампициллину, lacZα, MCS\u002Fполилинкер и происхождение репликации (Википедия)\u003C\u002Ffont\u003E\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nУ pUC19 есть приятная функция: поскольку он содержит ген lacZα, на нём можно применить метод \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FBlue%E2%80%93white_screen\"\u003Eбело-голубой селекции\u003C\u002Fa\u003E и посмотреть, в каких колониях успешно прошла инсерция. Нужны два химиката: \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FIsopropyl_%CE%B2-D-1-thiogalactopyranoside\"\u003EIPTG\u003C\u002Fa\u003E и \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FX-gal\"\u003EX-gal\u003C\u002Fa\u003E, и схема работает следующим образом:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EIPTG индуцирует экспрессию lacZα.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EЕсли lacZα деактивирован через ДНК, вставленную в место множественного клонирования (\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMultiple_cloning_site\"\u003EMCS\u002Fполилинкер\u003C\u002Fa\u003E) в lacZα, то плазмида не может осуществлять гидролиз X-gal, и эти колонии будут белыми вместо синих.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EПоэтому успешная инсерция производит белые колонии, а неудачная инсерция производит синие колонии.\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F123\u002Faac\u002Faca\u002F123aacacac400c6f96966d2f2caeb918.jpg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F123\u002Faac\u002Faca\u002F123aacacac400c6f96966d2f2caeb918.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EБело-голубая селекция показывает, где была деактивирована экспрессия lacZα (\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FBlue_white_screen\"\u003EВикипедия\u003C\u002Fa\u003E)\u003C\u002Ffont\u003E\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ca href=\"http:\u002F\u002Fopenwetware.org\u002Fimages\u002Ff\u002Ff1\u002FDh5a_sub.pdf\"\u003EДокументация по openwetware\u003C\u002Fa\u003E говорит:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003EDH5α E. coli не требует IPTG, чтобы вызвать экспрессию от промотора lac, даже если в штамме экспрессируется репрессор Lac. Число копий большинства плазмид превышает число репрессоров в клетках. Если вам нужен максимальный уровень экспрессии, добавьте IPTG к конечной концентрации 1 mM.\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\n\u003Ch1\u003EСинтетические последовательности ДНК\u003C\u002Fh1\u003E\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EПоследовательность ДНК sfGFP\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nЛегко получить последовательность ДНК для sfGFP, взяв \u003Ca href=\"http:\u002F\u002Fwww.ncbi.nlm.nih.gov\u002Fprotein\u002F532528641\"\u003Eпоследовательность белка\u003C\u002Fa\u003E и \u003Ca href=\"https:\u002F\u002Fwww.idtdna.com\u002FCodonOpt\"\u003Eкодируя её кодонами\u003C\u002Fa\u003E, подходящими для организма-хозяина (здесь, \u003Ci\u003EE. coli\u003C\u002Fi\u003E). Это белок среднего размера с 236 аминокислотами, так что при 10 центах за основание синтез ДНК стоит около \u003Ca href=\"http:\u002F\u002Fwww.wolframalpha.com\u002Finput\u002F?i=236+amino+acids+*+3+base+pairs+per+amino+acid+*+10+cents+per+base\"\u003E$70\u003C\u002Fa\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F296\u002F9da\u002Fa41\u002F2969daa417296779220366c36c02a0e5.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EWolfram Alpha, расчёт стоимости синтеза\u003C\u002Ffont\u003E\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПервые 12 оснований нашего sfGFP — это \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FShine-Dalgarno_sequence\"\u003Eпоследовательность Шайна — Дельгарно\u003C\u002Fa\u003E, которую я добавил сам, что теоретически должно увеличить экспрессию (AGGAGGACAGCT, затем ATG (\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FStart_codon\"\u003Eстарт-кодон\u003C\u002Fa\u003E) запускает белок). Согласно вычислительному инструменту, разработанному \u003Ca href=\"https:\u002F\u002Fsalislab.net\u002Fsoftware\u002FResults\"\u003ESalis Lab\u003C\u002Fa\u003E (\u003Ca href=\"http:\u002F\u002Fwww.genscript.com\u002Fgsfiles\u002Ftechfiles\u002FSalis_Genscript.pdf\"\u003Eслайды лекции\u003C\u002Fa\u003E), мы можем ожидать от средней до высокой экспрессии нашего белка (скорость инициации перевода 10 000 «произвольных единиц»).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"python\"\u003EsfGFP_plus_SD = clean_seq(\"\"\"\nAGGAGGACAGCTATGTCGAAAGGAGAAGAACTGTTTACCGGTGTGGTTCCGATTCTGGTAGAACTGGA\nTGGGGACGTGAACGGCCATAAATTTAGCGTCCGTGGTGAGGGTGAAGGGGATGCCACAAATGGCAAAC\nTTACCCTTAAATTCATTTGCACTACCGGCAAGCTGCCGGTCCCTTGGCCGACCTTGGTCACCACACTG\nACGTACGGGGTTCAGTGTTTTTCGCGTTATCCAGATCACATGAAACGCCATGACTTCTTCAAAAGCGC\nCATGCCCGAGGGCTATGTGCAGGAACGTACGATTAGCTTTAAAGATGACGGGACCTACAAAACCCGGG\nCAGAAGTGAAATTCGAGGGTGATACCCTGGTTAATCGCATTGAACTGAAGGGTATTGATTTCAAGGAA\nGATGGTAACATTCTCGGTCACAAATTAGAATACAACTTTAACAGTCATAACGTTTATATCACCGCCGA\nCAAACAGAAAAACGGTATCAAGGCGAATTTCAAAATCCGGCACAACGTGGAGGACGGGAGTGTACAAC\nTGGCCGACCATTACCAGCAGAACACACCGATCGGCGACGGCCCGGTGCTGCTCCCGGATAATCACTAT\nTTAAGCACCCAGTCAGTGCTGAGCAAAGATCCGAACGAAAAACGTGACCATATGGTGCTGCTGGAGTT\nCGTGACCGCCGCGGGCATTACCCATGGAATGGATGAACTGTATAAA\"\"\")\nprint(\"Read in sfGFP plus Shine-Dalgarno: {} bases long\".format(len(sfGFP_plus_SD)))\n\nsfGFP_aas = clean_aas(\"\"\"MSKGEELFTGVVPILVELDGDVNGHKFSVRGEGEGDATNGKLTLKFICTTGKLPVPWPTLVTTLTYG\nVQCFSRYPDHMKRHDFFKSAMPEGYVQERTISFKDDGTYKTRAEVKFEGDTLVNRIELKGIDFKEDGNILGHKLEYNFNSHNVYITADKQKN\nGIKANFKIRHNVEDGSVQLADHYQQNTPIGDGPVLLPDNHYLSTQSVLSKDPNEKRDHMVLLEFVTAAGITHGMDELYK\"\"\")\nassert sfGFP_plus_SD[12:].translate() == sfGFP_aas\nprint(\"Translation matches protein with accession 532528641\")\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Cpre\u003ERead in sfGFP plus Shine-Dalgarno: 726 bases long\nTranslation matches protein with accession 532528641\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EПоследовательность ДНК pUC19\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nСначала я проверяю, что у \u003Ca href=\"https:\u002F\u002Fwww.neb.com\u002F~\u002Fmedia\u002FNebUs\u002FPage%20Images\u002FTools%20and%20Resources\u002FInteractive%20Tools\u002FDNA%20Sequences%20and%20Maps\u002FText%20Documents\u002Fpuc19fsa.txt\"\u003Eпоследовательности pUC19, которую я загрузил из NEB\u003C\u002Fa\u003E, правильная длина и она включает в себя ожидаемый \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FMultiple_cloning_site\"\u003Eполилинкер\u003C\u002Fa\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"python\"\u003EpUC19_fasta = !cat puc19fsa.txt\npUC19_fwd = clean_seq(''.join(pUC19_fasta[1:]))\npUC19_rev = pUC19_fwd.reverse_complement()\nassert all(nt in \"ACGT\" for nt in pUC19_fwd)\nassert len(pUC19_fwd) == 2686\n\npUC19_MCS = clean_seq(\"GAATTCGAGCTCGGTACCCGGGGATCCTCTAGAGTCGACCTGCAGGCATGCAAGCTT\")\nprint(\"Read in pUC19: {} bases long\".format(len(pUC19_fwd)))\nassert pUC19_MCS in pUC19_fwd\nprint(\"Found MCS\u002Fpolylinker\")\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Cpre\u003ERead in pUC19: 2686 bases long\nFound MCS\u002Fpolylinker\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nДелаем некоторые основные QC, чтобы убедиться, что EcoRI и BamHI присутствуют в pUC19 только один раз (следующие ферменты рестрикции имеются в инвентаре Transcriptic по умолчанию: \u003Ci\u003EPstI\u003C\u002Fi\u003E, \u003Ci\u003EPvuII\u003C\u002Fi\u003E, \u003Ci\u003EEcoRI\u003C\u002Fi\u003E, \u003Ci\u003EBamHI\u003C\u002Fi\u003E, \u003Ci\u003EBbsI\u003C\u002Fi\u003E, \u003Ci\u003EBsmBI\u003C\u002Fi\u003E).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"python\"\u003EREs = {\"EcoRI\":\"GAATTC\", \"BamHI\":\"GGATTC\"}\nfor rename, res in REs.items():\n    assert (pUC19_fwd.find(res) == pUC19_fwd.rfind(res) and\n            pUC19_rev.find(res) == pUC19_rev.rfind(res))\n    assert (pUC19_fwd.find(res) == -1 or pUC19_rev.find(res) == -1 or\n            pUC19_fwd.find(res) == len(pUC19_fwd) - pUC19_rev.find(res) - len(res))\nprint(\"Asserted restriction enzyme sites present only once: {}\".format(REs.keys()))\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nТеперь смотрим на последовательность lacZα и проверяем, что нет ничего неожиданного. Например, она должна начинаться с Met и заканчиваться стоп-кодоном. Также легко подтвердить, что это полный 324bp lacZα ORF, загрузив последовательность pUC19 в бесплатный \u003Ca href=\"http:\u002F\u002Fwww.snapgene.com\u002Fproducts\u002Fsnapgene_viewer\u002F\"\u003Eинструмент просмотра snapgene\u003C\u002Fa\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"python\"\u003ElacZ = pUC19_rev[2217:2541]\nprint(\"lacZα sequence:\\t{}\".format(lacZ))\nprint(\"r_MCS sequence:\\t{}\".format(pUC19_MCS.reverse_complement()))\n\nlacZ_p = lacZ.translate()\nassert lacZ_p[0] == \"M\" and not \"*\" in lacZ_p[:-1] and lacZ_p[-1] == \"*\"\nassert pUC19_MCS.reverse_complement() in lacZ\nassert pUC19_MCS.reverse_complement() == pUC19_rev[2234:2291]\nprint(\"Found MCS once in lacZ sequence\")\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Cpre\u003ElacZ sequence:      ATGACCATGATTACGCCAAGCTTGCATGCCTGCAGGTCGACTCTAGAGGATCCCCGGGTACCGAGCTCGAATTCACTGGCCGTCGTTTTACAACGTCGTGACTGGGAAAACCCTGGCGTTACCCAACTTAATCGCCTTGCAGCACATCCCCCTTTCGCCAGCTGGCGTAATAGCGAAGAGGCCCGCACCGATCGCCCTTCCCAACAGTTGCGCAGCCTGAATGGCGAATGGCGCCTGATGCGGTATTTTCTCCTTACGCATCTGTGCGGTATTTCACACCGCATATGGTGCACTCTCAGTACAATCTGCTCTGATGCCGCATAG\nr_MCS sequence:     AAGCTTGCATGCCTGCAGGTCGACTCTAGAGGATCCCCGGGTACCGAGCTCGAATTC\nFound MCS once in lacZ sequence\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Ch1\u003EСборка методом Гибсона\u003C\u002Fh1\u003E\u003Cbr\u002F\u003E\r\nСборка ДНК означает просто сшивание фрагментов. Обычно вы собираете несколько фрагментов ДНК в более длинный сегмент, а затем клонируете его в плазмиду или геном. В этом эксперименте я хочу клонировать один сегмент ДНК в плазмиду pUC19 ниже промотора lac для экспрессии в \u003Ci\u003EE. coli\u003C\u002Fi\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСуществует множество способов клонирования (например, \u003Ca href=\"https:\u002F\u002Fwww.neb.com\u002Fapplications\u002Fcloning-and-synthetic-biology\"\u003ENEB\u003C\u002Fa\u003E, \u003Ca href=\"http:\u002F\u002Fopenwetware.org\u002Fwiki\u002FJanet_B._Matsen:Guide_to_Gibson_Assembly\"\u003Eopenwetware\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fwww.addgene.org\u002Fplasmid-protocols\u002FPCR-cloning\u002F\"\u003Eaddgene\u003C\u002Fa\u003E). Здесь я буду использовать сборку методом Гибсона (\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FGibson_assembly\"\u003Eразработанную Даниэлем Гибсоном\u003C\u002Fa\u003E в Synthetic Genomics в 2009 году), которая не обязательно является самым дешёвым методом, зато простая и гибкая. Нужно только поместить ДНК, которую вы хотите собрать (с соответствующими перекрытиями) в пробирку со смесью Gibson Assembly Master Mix, и она собирается сама!\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F8df\u002F946\u002Fdb5\u002F8df946db53b725f89277be267d2e3ab9.jpg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F8df\u002F946\u002Fdb5\u002F8df946db53b725f89277be267d2e3ab9.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EОбзор сборки Гибсона (\u003Ca href=\"https:\u002F\u002Fwww.neb.com\u002Fproducts\u002Fe2611-gibson-assembly-master-mix\"\u003ENEB\u003C\u002Fa\u003E)\u003C\u002Ffont\u003E\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EИсходный материал\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nНачинаем со 100 нг синтетической ДНК в 10 мкл жидкости. Это равняется 0,21 пикомолей ДНК или концентрации 10 нг\u002Fмкл.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"python\"\u003Epmol_sfgfp = convert_ug_to_pmol(0.1, len(sfGFP_plus_SD))\nprint(\"Insert: 100ng of DNA of length {:4d} equals {:.2f} pmol\".format(len(sfGFP_plus_SD), pmol_sfgfp))\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Cpre\u003EInsert: 100ng of DNA of length  726 equals 0.21 pmol\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nСогласно \u003Ca href=\"https:\u002F\u002Fwww.neb.com\u002Fprotocols\u002F2012\u002F12\u002F11\u002Fgibson-assembly-protocol-e5510\"\u003Eпротоколу сборки NEB\u003C\u002Fa\u003E, это достаточно исходного материала:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003ENEB рекомендует в общей сложности 0,02-0,5 пикомолей фрагментов ДНК, когда в вектор собирается 1 или 2 фрагмента, или 0,2-1,0 пикомолей фрагментов ДНК, когда собираются 4-6 фрагментов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n0.02-0.5 пмолей * X мкл\u003Cbr\u002F\u003E\r\n* Оптимизированная эффективность клонирования составляет 50-100 нг векторов с 2-3-кратным избытком инсерций. Используйте в 5 раз больше инсерций, если размер меньше 200 bps. Общий объём нефильтрованных фрагментов PCR в реакции сборки Гибсона не должен превышать 20%.\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\n\u003Ch3\u003ENEBuilder для сборки Гибсона\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\n\u003Ca href=\"http:\u002F\u002Fnebuilder.neb.com\u002F\"\u003ENEBuilder\u003C\u002Fa\u003E от компании Biolab — это действительно отличный инструмент для создания протокола сборки Гибсона. Он даже генерирует вам всеобъемлющий четырёхстраничный PDF со всей информацией. С помощью этого инструмента разрабатываем протокол для вырезания pUC19 с EcoRI, а затем используем PCR [ПЦР, полимеразная цепная реакция позволяет добиться значительного увеличения малых концентраций определённых фрагментов ДНК в биологическом материале — прим. пер.] для добавления фрагментов соответствующего размера в инсерцию.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F1f5\u002Fd52\u002F171\u002F1f5d52171cb60c8e8b4cb83f24b0c8c8.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch1\u003EЧасть вторая: проведение эксперимента\u003C\u002Fh1\u003E\u003Cbr\u002F\u003E\r\nЭксперимент состоит из четырёх этапов:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EПолимеразная цепная реакция инсерции для добавления материала с фланкирующей последовательностью.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EРезка плазмиды для размещения инсерции.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EСборка методом Гибсона инсерции и плазмиды.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EТрансформация бактерий с помощью собранной плазмиды.\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EШаг 1. PCR инсерции\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nСборка Гибсона зависит от последовательности ДНК, которую вы собираете, имея некоторую перекрывающуюся последовательность (см. выше протокол NEB с подробными инструкциями). Кроме простой амплификации, PCR также позволяет добавлять фланкирующую последовательность ДНК, просто включив дополнительную последовательность в праймеры (также можно клонировать, \u003Ca href=\"http:\u002F\u002Fwww.ncbi.nlm.nih.gov\u002Fpmc\u002Farticles\u002FPMC3121328\u002F\"\u003Eиспользуя только OE-PCR\u003C\u002Fa\u003E).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСинтезируем праймеры в соответствии с протоколом NEB выше. Я попробовал \u003Ca href=\"https:\u002F\u002Fdevelopers.transcriptic.com\u002Fdocs\u002Foligosynthesis-1\"\u003Eпротокол Quickstart\u003C\u002Fa\u003E на сайте Transcriptic, но есть ещё \u003Ca href=\"http:\u002F\u002Fautoprotocol-python.readthedocs.org\u002Fen\u002Flatest\u002Fautoprotocol.html#protocol-oligosynthesize\"\u003Eкоманда автопротокола\u003C\u002Fa\u003E. Transcriptic сама не производит синтез олигонуклеотидов, поэтому после 1-2 дней ожидания эти праймеры волшебным образом появляются в моём инвентаре (обратите внимание, что ген-специфическая часть праймеров ниже указана в верхнем регистре, но это просто косметические вещи).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"python\"\u003Einsert_primers = [\"aaacgacggccagtgTTTATACAGTTCATCCATTCCATG\", \"cgggtaccgagctcgAGGAGGACAGCTATGTCG\"]\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EАнализ праймеров\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nМожно проанализировать свойства этих праймеров с помощью \u003Ca href=\"https:\u002F\u002Fwww.idtdna.com\u002Fcalc\u002Fanalyzer\"\u003EIDT OligoAnalyzer\u003C\u002Fa\u003E. при отладке эксперимента PCR полезно знать температуры плавления и вероятность побочного эффекта \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FPrimer_dimer\"\u003Eprimer dimer\u003C\u002Fa\u003E, хотя протокол NEB почти наверняка выберет праймеры с хорошими свойствами.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003EGene-specific portion of flank (uppercase)\n  Melt temperature: 51C, 53.5C\nFull sequence\n  Melt temperature: 64.5C, 68.5C\n  Hairpin: -.4dG, -5dG\n  Self-dimer: -9dG, -16dG\n  Heterodimer: -6dG\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nЯ прошёл через много итераций PCR, прежде чем получить удовлетворительные результаты, включая эксперименты с несколькими различными марками смесей PCR. Поскольку каждая из этих итераций может занять несколько дней (в зависимости от длины очереди в лабораторию), стоит заранее потратить время на отладку: это экономит много времени в долгосрочной перспективе. По мере увеличения мощности облачной лаборатории эта проблема должна стать менее острой. Тем не менее, вряд ли ваш первый протокол будет успешным — здесь слишком много переменных.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EКод\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cpre\u003E\u003Ccode class=\"python\"\u003E\"\"\" PCR overlap extension of sfGFP according to NEB protocol.\nv5: Use 3\u002F10ths as much primer as the v4 protocol.\nv6: more complex touchdown pcr procedure. The Q5 temperature was probably too hot\nv7: more time at low temperature to allow gene-specific part to anneal\nv8: correct dNTP concentration, real touchdown\n\"\"\"\n\np = Protocol()\n\n# ---------------------------------------------------\n# Set up experiment\n#\nexperiment_name = \"sfgfp_pcroe_v8\"\ntemplate_length = 740\n\n_options = {'dilute_primers' : False, # if working stock has not been made\n            'dilute_template': False, # if working stock has not been made\n            'dilute_dNTP'    : False, # if working stock has not been made\n            'run_gel'        : True,  # run a gel to see the plasmid size\n            'run_absorbance' : False, # check absorbance at 260\u002F280\u002F320\n            'run_sanger'     : False} # sanger sequence the new sequence\noptions = {k for k,v in _options.items() if v is True}\n\n# ---------------------------------------------------\n# Inventory and provisioning\n# https:\u002F\u002Fdevelopers.transcriptic.com\u002Fv1.0\u002Fdocs\u002Fcontainers\n#\n# 'sfgfp2':              'ct17yx8h77tkme', # inventory; sfGFP tube #2, micro-1.5, cold_20\n# 'sfgfp_puc19_primer1': 'ct17z9542mrcfv', # inventory; micro-2.0, cold_4\n# 'sfgfp_puc19_primer2': 'ct17z9542m5ntb', # inventory; micro-2.0, cold_4\n# 'sfgfp_idt_1ngul':     'ct184nnd3rbxfr', # inventory; micro-1.5, cold_4, (ERROR: no template)\n#\ninv = {\n    'Q5 Polymerase':                     'rs16pcce8rdytv', # catalog; Q5 High-Fidelity DNA Polymerase\n    'Q5 Buffer':                         'rs16pcce8rmke3', # catalog; Q5 Reaction Buffer\n    'dNTP Mixture':                      'rs16pcb542c5rd', # catalog; dNTP Mixture (25mM?)\n    'water':                             'rs17gmh5wafm5p', # catalog; Autoclaved MilliQ H2O\n    'sfgfp_pcroe_v5_puc19_primer1_10uM': 'ct186cj5cqzjmr', # inventory; micro-1.5, cold_4\n    'sfgfp_pcroe_v5_puc19_primer2_10uM': 'ct186cj5cq536x', # inventory; micro-1.5, cold_4\n    'sfgfp1':                            'ct17yx8h759dk4', # inventory; sfGFP tube #1, micro-1.5, cold_20\n}\n\n\n# Existing inventory\ntemplate_tube = p.ref(\"sfgfp1\", id=inv['sfgfp1'], cont_type=\"micro-1.5\", storage=\"cold_4\").well(0)\ndilute_primer_tubes = [p.ref('sfgfp_pcroe_v5_puc19_primer1_10uM', id=inv['sfgfp_pcroe_v5_puc19_primer1_10uM'], cont_type=\"micro-1.5\", storage=\"cold_4\").well(0),\n                       p.ref('sfgfp_pcroe_v5_puc19_primer2_10uM', id=inv['sfgfp_pcroe_v5_puc19_primer2_10uM'], cont_type=\"micro-1.5\", storage=\"cold_4\").well(0)]\n\n# New inventory resulting from this experiment\ndilute_template_tube = p.ref(\"sfgfp1_0.25ngul\",  cont_type=\"micro-1.5\", storage=\"cold_4\").well(0)\ndNTP_10uM_tube       = p.ref(\"dNTP_10uM\",        cont_type=\"micro-1.5\", storage=\"cold_4\").well(0)\nsfgfp_pcroe_out_tube = p.ref(expid(\"amplified\"), cont_type=\"micro-1.5\", storage=\"cold_4\").well(0)\n\n# Temporary tubes for use, then discarded\nmastermix_tube = p.ref(\"mastermix\", cont_type=\"micro-1.5\", storage=\"cold_4\",  discard=True).well(0)\nwater_tube =     p.ref(\"water\",     cont_type=\"micro-1.5\", storage=\"ambient\", discard=True).well(0)\npcr_plate =      p.ref(\"pcr_plate\", cont_type=\"96-pcr\",    storage=\"cold_4\",  discard=True)\nif 'run_absorbance' in options:\n    abs_plate = p.ref(\"abs_plate\", cont_type=\"96-flat\", storage=\"cold_4\", discard=True)\n\n# Initialize all existing inventory\nall_inventory_wells = [template_tube] + dilute_primer_tubes\nfor well in all_inventory_wells:\n    init_inventory_well(well)\n    print(well.name, well.volume, well.properties)\n\n\n# -----------------------------------------------------\n# Provision water once, for general use\n#\np.provision(inv[\"water\"], water_tube, µl(500))\n\n# -----------------------------------------------------\n# Dilute primers 1\u002F10 (100uM-\u003E10uM) and keep at 4C\n#\nif 'dilute_primers' in options:\n    for primer_num in (0,1):\n        p.transfer(water_tube, dilute_primer_tubes[primer_num], µl(90))\n        p.transfer(primer_tubes[primer_num], dilute_primer_tubes[primer_num], µl(10), mix_before=True, mix_vol=µl(50))\n        p.mix(dilute_primer_tubes[primer_num], volume=µl(50), repetitions=10)\n\n\n# -----------------------------------------------------\n# Dilute template 1\u002F10 (10ng\u002Ful-\u003E1ng\u002Ful) and keep at 4C\n# OR\n# Dilute template 1\u002F40 (10ng\u002Ful-\u003E0.25ng\u002Ful) and keep at 4C\n#\nif 'dilute_template' in options:\n    p.transfer(water_tube, dilute_template_tube, µl(195))\n    p.mix(dilute_template_tube, volume=µl(100), repetitions=10)\n\n# Dilute dNTP to exactly 10uM\nif 'dilute_DNTP' in options:\n    p.transfer(water_tube,           dNTP_10uM_tube, µl(6))\n    p.provision(inv[\"dNTP Mixture\"], dNTP_10uM_tube, µl(4))\n\n\n# -----------------------------------------------------\n# Q5 PCR protocol\n# www.neb.com\u002Fprotocols\u002F2013\u002F12\u002F13\u002Fpcr-using-q5-high-fidelity-dna-polymerase-m0491\n#\n# 25ul reaction\n# -------------\n# Q5 reaction buffer      5    µl\n# Q5 polymerase           0.25 µl\n# 10mM dNTP               0.5  µl -- 1µl = 4x12.5mM\n# 10uM primer 1           1.25 µl\n# 10uM primer 2           1.25 µl\n# 1pg-1ng Template        1    µl -- 0.5 or 1ng\u002Ful concentration\n# -------------------------------\n# Sum                     9.25 µl\n#\n#\n\n# Mastermix tube will have 96ul of stuff, leaving space for 4x1ul aliquots of template\np.transfer(water_tube,             mastermix_tube, µl(64))\np.provision(inv[\"Q5 Buffer\"],      mastermix_tube, µl(20))\np.provision(inv['Q5 Polymerase'],  mastermix_tube, µl(1))\np.transfer(dNTP_10uM_tube,         mastermix_tube, µl(1), mix_before=True, mix_vol=µl(2))\np.transfer(dilute_primer_tubes[0], mastermix_tube, µl(5), mix_before=True, mix_vol=µl(10))\np.transfer(dilute_primer_tubes[1], mastermix_tube, µl(5), mix_before=True, mix_vol=µl(10))\np.mix(mastermix_tube, volume=\"48:microliter\", repetitions=10)\n\n# Transfer mastermix to pcr_plate without template\np.transfer(mastermix_tube, pcr_plate.wells([\"A1\",\"B1\",\"C1\"]), µl(24))\np.transfer(mastermix_tube, pcr_plate.wells([\"A2\"]),           µl(24)) # acknowledged dead volume problems\np.mix(pcr_plate.wells([\"A1\",\"B1\",\"C1\",\"A2\"]), volume=µl(12), repetitions=10)\n\n# Finally add template\np.transfer(template_tube,  pcr_plate.wells([\"A1\",\"B1\",\"C1\"]), µl(1))\np.mix(pcr_plate.wells([\"A1\",\"B1\",\"C1\"]), volume=µl(12.5), repetitions=10)\n\n# ---------------------------------------------------------\n# Thermocycle with Q5 and hot start\n# 61.1 annealing temperature is recommended by NEB protocol\n# p.seal is enforced by transcriptic\n#\nextension_time = int(max(2, np.ceil(template_length * (11.0\u002F1000))))\nassert 0 &lt; extension_time &lt; 60, \"extension time should be reasonable for PCR\"\n\ncycles = [{\"cycles\":  1, \"steps\": [{\"temperature\": \"98:celsius\", \"duration\": \"30:second\"}]}] + \\\n         touchdown(70, 61, [8, 25, extension_time], stepsize=0.5) + \\\n         [{\"cycles\": 16, \"steps\": [{\"temperature\": \"98:celsius\", \"duration\": \"8:second\"},\n                                   {\"temperature\": \"61.1:celsius\", \"duration\": \"25:second\"},\n                                   {\"temperature\": \"72:celsius\", \"duration\": \"{:d}:second\".format(extension_time)}]},\n          {\"cycles\":  1, \"steps\": [{\"temperature\": \"72:celsius\", \"duration\": \"2:minute\"}]}]\np.seal(pcr_plate)\np.thermocycle(pcr_plate, cycles, volume=µl(25))\n\n# --------------------------------------------------------\n# Run a gel to hopefully see a 740bp fragment\n#\nif 'run_gel' in options:\n    p.unseal(pcr_plate)\n    p.mix(pcr_plate.wells([\"A1\",\"B1\",\"C1\",\"A2\"]), volume=µl(12.5), repetitions=10)\n    p.transfer(pcr_plate.wells([\"A1\",\"B1\",\"C1\",\"A2\"]), pcr_plate.wells([\"D1\",\"E1\",\"F1\",\"D2\"]),\n               [µl(2), µl(4), µl(8), µl(8)])\n    p.transfer(water_tube, pcr_plate.wells([\"D1\",\"E1\",\"F1\",\"D2\"]),\n               [µl(18),µl(16),µl(12),µl(12)], mix_after=True, mix_vol=µl(10))\n    p.gel_separate(pcr_plate.wells([\"D1\",\"E1\",\"F1\",\"D2\"]),\n                   µl(20), \"agarose(10,2%)\", \"ladder1\", \"10:minute\", expid(\"gel\"))\n\n#---------------------------------------------------------\n# Absorbance dilution series. Take 1ul out of the 25ul pcr plate wells\n#\nif 'run_absorbance' in options:\n    p.unseal(pcr_plate)\n    abs_wells = [\"A1\",\"B1\",\"C1\",\"A2\",\"B2\",\"C2\",\"A3\",\"B3\",\"C3\"]\n\n    p.transfer(water_tube, abs_plate.wells(abs_wells[0:6]), µl(10))\n    p.transfer(water_tube, abs_plate.wells(abs_wells[6:9]), µl(9))\n\n    p.transfer(pcr_plate.wells([\"A1\",\"B1\",\"C1\"]), abs_plate.wells([\"A1\",\"B1\",\"C1\"]), µl(1), mix_after=True, mix_vol=µl(5))\n    p.transfer(abs_plate.wells([\"A1\",\"B1\",\"C1\"]), abs_plate.wells([\"A2\",\"B2\",\"C2\"]), µl(1), mix_after=True, mix_vol=µl(5))\n    p.transfer(abs_plate.wells([\"A2\",\"B2\",\"C2\"]), abs_plate.wells([\"A3\",\"B3\",\"C3\"]), µl(1), mix_after=True, mix_vol=µl(5))\n    for wavelength in [260, 280, 320]:\n        p.absorbance(abs_plate, abs_plate.wells(abs_wells),\n                     \"{}:nanometer\".format(wavelength), exp_id(\"abs_{}\".format(wavelength)), flashes=25)\n\n# -----------------------------------------------------------------------------\n# Sanger sequencing: https:\u002F\u002Fdevelopers.transcriptic.com\u002Fdocs\u002Fsanger-sequencing\n# \"Each reaction should have a total volume of 15 µl and we recommend the following composition of DNA and primer:\n#  PCR product (40 ng), primer (1 µl of a 10 µM stock)\"\n#\n#  By comparing to the gel ladder concentration (175ng\u002Flane), it looks like 5ul of PCR product has approximately 30ng of DNA\n#\nif 'run_sanger' in options:\n    p.unseal(pcr_plate)\n    seq_wells = [\"G1\",\"G2\"]\n    for primer_num, seq_well in [(0, seq_wells[0]),(1, seq_wells[1])]:\n        p.transfer(dilute_primer_tubes[primer_num], pcr_plate.wells([seq_well]),\n                   µl(1), mix_before=True, mix_vol=µl(50))\n        p.transfer(pcr_plate.wells([\"A1\"]), pcr_plate.wells([seq_well]),\n                   µl(5), mix_before=True, mix_vol=µl(10))\n        p.transfer(water_tube, pcr_plate.wells([seq_well]), µl(9))\n\n    p.mix(pcr_plate.wells(seq_wells), volume=µl(7.5), repetitions=10)\n    p.sangerseq(pcr_plate, pcr_plate.wells(seq_wells[0]).indices(), expid(\"seq1\"))\n    p.sangerseq(pcr_plate, pcr_plate.wells(seq_wells[1]).indices(), expid(\"seq2\"))\n\n# -------------------------------------------------------------------------\n# Then consolidate to one tube. Leave at least 3ul dead volume in each tube\n#\nremaining_volumes = [well.volume - dead_volume['96-pcr'] for well in pcr_plate.wells([\"A1\",\"B1\",\"C1\"])]\nprint(\"Consolidated volume\", sum(remaining_volumes, µl(0)))\np.consolidate(pcr_plate.wells([\"A1\",\"B1\",\"C1\"]), sfgfp_pcroe_out_tube, remaining_volumes, allow_carryover=True)\n\nuprint(\"\\nProtocol 1. Amplify the insert (oligos previously synthesized)\")\njprotocol = json.dumps(p.as_dict(), indent=2)\n!echo '{jprotocol}' | transcriptic analyze\nopen(\"protocol_{}.json\".format(experiment_name),'w').write(jprotocol)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Cpre\u003EWARNING:root:Low volume for well sfGFP 1 \u002FsfGFP 1  : 2.0:microliter\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Cpre\u003EsfGFP 1 \u002FsfGFP 1  2.0:microliter {'dilution': '0.25ng\u002Ful'}\nsfgfp_pcroe_v5_puc19_primer1_10uM 75.0:microliter {}\nsfgfp_pcroe_v5_puc19_primer2_10uM 75.0:microliter {}\nConsolidated volume 52.0:microliter\n\nProtocol 1. Amplify the insert (oligos previously synthesized)\n---------------------------------------------------------------\n\n  \n✓ Protocol analyzed\n  11 instructions\n  8 containers\n  Total Cost: $32.18\n  Workcell Time: $4.32\n  Reagents &amp; Consumables: $27.86\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Ch1\u003EРезультаты: PCR инсерции\u003C\u002Fh1\u003E\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EАнализ результатов в геле\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nВ геле можно оценить правильный \u003Cb\u003Eразмер\u003C\u002Fb\u003E продукта после увеличения концентрации (положение полоски в геле) и правильное \u003Cb\u003Eколичество\u003C\u002Fb\u003E (темнота полоски). В геле есть лестница, соответствующая различным длинам и количествам ДНК, которые можно использовать для сравнения.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНа гелевой фотографии ниже полосы D1, E1, F1 содержат соответственно 2 мкл, 4 мкл и 8 мкл амплифицированного продукта. Я могу оценить количество ДНК в каждой полосе по сравнению с ДНК в лестнице (50 нг ДНК на полосу в лестнице). Думаю, что результаты выглядят очень чистыми.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЯ попытался использовать для анализа изображения и оценки концентрации \u003Ca href=\"http:\u002F\u002Fwww.frogdance.dundee.ac.uk\u002FFrogDance_Software.html\"\u003EGelEval\u003C\u002Fa\u003E, и вполне успешно, хотя я не уверен, что это намного точнее, чем более наивный метод. Однако небольшие изменения в расположении и размере полос привели к большим изменениям в оценке количества ДНК. Моя лучшая оценка количества ДНК в моём амплифицированном продукте с использованием GelEval составляет 40 нг\u002Fмкл.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕсли предположить, что мы \u003Ca href=\"http:\u002F\u002Fforums.biotechniques.com\u002Fviewtopic.php?f=2&amp;t=9105\"\u003Eограничены количеством праймера в смеси\u003C\u002Fa\u003E, а не количеством dNTP или фермента, то, поскольку у меня есть 12,5 пмоль каждого праймера, это означает теоретический максимум 6 мкг ДНК 740bp в 25 мкл. Поскольку моя оценка общего количества ДНК с использованием GelEval составляет 40 нг x 25 мкл (1 мкг или 2 пмоля), эти результаты очень разумны и близки к тому, что я должен ожидать в идеальных условиях.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F74a\u002Ff5d\u002F284\u002F74af5d28463dbbd2279353a4651087f6.jpg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F74a\u002Ff5d\u002F284\u002F74af5d28463dbbd2279353a4651087f6.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EГель-электрофорез EcoRI-среза pUC19, различные концентрации (D1, E1, F1), плюс контроль (D2)\u003C\u002Ffont\u003E\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EДиагностика результатов PCR\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nНедавно Transcriptic начала предоставлять интересные и полезные диагностические данные от своих роботов. На момент написания статьи они недоступны для загрузки, поэтому пока у меня есть только изображение температур во время термоциклирования.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДанные выглядят хорошо, без неожиданных пиков или впадин. В общей сложности 35 циклов PCR, но некоторые из этих циклов проводятся при очень высокой температуре в рамках \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FTouchdown_polymerase_chain_reaction\"\u003Eтачдауна PCR\u003C\u002Fa\u003E. В моих предыдущих попытках амплифицировать этот сегмент — которых было несколько! — возникали проблемы с гибридизацией праймеров, поэтому здесь PCR довольно много времени работает на высоких температурах, что должно повысить точность.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F8dc\u002F9eb\u002F1b8\u002F8dc9eb1b85c382df68cc064583512707.jpg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F8dc\u002F9eb\u002F1b8\u002F8dc9eb1b85c382df68cc064583512707.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EТермоциклическая диагностика для тачдауна PCR: температуры блока, образца и крышки в течение 35 циклов и 42 минут\u003C\u002Ffont\u003E\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EШаг 2. Резка плазмиды\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nЧтобы вставить нашу ДНК sfGFP в pUC19, сначала нужно разрезать плазмиду. Следуя протоколу NEB, я делаю это с помощью фермента рестрикции \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FEcoRI\"\u003EEcoRI\u003C\u002Fa\u003E. В стандартном инвентаре Transcriptic есть реагенты, которые мне нужны: это \u003Ca href=\"https:\u002F\u002Fwww.neb.com\u002Fproducts\u002Fr3101-ecori-hf\"\u003ENEB EcoRI и 10x CutSmart буфер\u003C\u002Fa\u003E, а также плазмида \u003Ca href=\"https:\u002F\u002Fwww.neb.com\u002Fproducts\u002Fn3041-puc19-vector\"\u003ENEB pUC19\u003C\u002Fa\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля информации, ниже цены из их инвентаря. На самом деле плачу только часть цены, так как Transcriptic берёт оплату за фактически потреблённое количество:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E   Item         ID       Amount      Concentration    Price\n------------  ------ ------------- -----------------  ------\nCutSmart 10x  B7204S       5 ml         10 X          $19.00\nEcoRI         R3101L  50,000 units  20,000 units\u002Fml  $225.00\npUC19         N3041L     250 µg      1,000 µg\u002Fml     $268.00\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nЯ максимально следовал протоколу NEB:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003EПеред использованием буфер должен быть полностью разморожен. Разбавьте запас 10X с dH2O до конечной концентрации 1X. Сначала добавьте воду, затем буфер, раствор ДНК и, наконец, фермент. Типичная реакция 50 мкл должна содержать 5 мкл 10x NEBuffer с остальной частью объёма из раствора ДНК, фермента и dH2O.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОдна единица определяется как количество фермента, необходимое для освоения 1 мкг λ ДНК в течение 1 часа при 37°C в общем объёме реакции 50 мкл. В целом, мы рекомендуем 5-10 единиц фермента на мкг ДНК и 10-20 единиц геномной ДНК в 1-часовом процессе.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля освоения 1 мкг субстрата рекомендуется реакционный объём 50 мкл.\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EКод\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cpre\u003E\u003Ccode class=\"python\"\u003E\"\"\"Protocol for cutting pUC19 with EcoRI.\"\"\"\np = Protocol()\n\nexperiment_name = \"puc19_ecori_v3\"\n\noptions = {}\n\ninv = {\n    'water':    \"rs17gmh5wafm5p\",   # catalog; Autoclaved MilliQ H2O; ambient\n    \"pUC19\":    \"rs17tcqmncjfsh\",   # catalog; pUC19; cold_20\n    \"EcoRI\":    \"rs17ta8xftpdk6\",   # catalog; EcoRI-HF; cold_20\n    \"CutSmart\": \"rs17ta93g3y85t\",   # catalog; CutSmart Buffer 10x; cold_20\n    \"ecori_p10x\": \"ct187v4ea85k2h\", # inventory; EcoRI diluted 10x\n}\n\n# Tubes and plates I use then discard\nre_tube    = p.ref(\"re_tube\",    cont_type=\"micro-1.5\", storage=\"cold_4\", discard=True).well(0)\nwater_tube = p.ref(\"water_tube\", cont_type=\"micro-1.5\", storage=\"cold_4\", discard=True).well(0)\npcr_plate  = p.ref(\"pcr_plate\",  cont_type=\"96-pcr\",    storage=\"cold_4\", discard=True)\n\n# The result of the experiment, a pUC19 cut by EcoRI, goes in this tube for storage\npuc19_cut_tube  = p.ref(expid(\"puc19_cut\"), cont_type=\"micro-1.5\", storage=\"cold_20\").well(0)\n\n# -------------------------------------------------------------\n# Provisioning and diluting.\n# Diluted EcoRI can be used more than once\n#\np.provision(inv[\"water\"], water_tube, µl(500))\n\nif 'dilute_ecori' in options:\n    ecori_p10x_tube = p.ref(\"ecori_p10x\", cont_type=\"micro-1.5\", storage=\"cold_20\").well(0)\n    p.transfer(water_tube,    ecori_p10x_tube, µl(45))\n    p.provision(inv[\"EcoRI\"], ecori_p10x_tube, µl(5))\nelse:\n    # All \"inventory\" (stuff I own at transcriptic) must be initialized\n    ecori_p10x_tube = p.ref(\"ecori_p10x\", id=inv[\"ecori_p10x\"], cont_type=\"micro-1.5\", storage=\"cold_20\").well(0)\n    init_inventory_well(ecori_p10x_tube)\n\n# -------------------------------------------------------------\n# Restriction enzyme cutting pUC19\n#\n# 50ul total reaction volume for cutting 1ug of DNA:\n# 5ul CutSmart 10x\n# 1ul pUC19 (1ug of DNA)\n# 1ul EcoRI (or 10ul diluted EcoRI, 20 units, \u003E10 units per ug DNA)\n#\np.transfer(water_tube,       re_tube, µl(117))\np.provision(inv[\"CutSmart\"], re_tube, µl(15))\np.provision(inv[\"pUC19\"],    re_tube, µl(3))\np.mix(re_tube, volume=µl(60), repetitions=10)\nassert re_tube.volume == µl(120) + dead_volume[\"micro-1.5\"]\n\nprint(\"Volumes: re_tube:{} water_tube:{} EcoRI:{}\".format(re_tube.volume, water_tube.volume, ecori_p10x_tube.volume))\n\np.distribute(re_tube,         pcr_plate.wells([\"A1\",\"B1\",\"A2\"]), µl(40))\np.distribute(water_tube,      pcr_plate.wells([\"A2\"]),           µl(10))\np.distribute(ecori_p10x_tube, pcr_plate.wells([\"A1\",\"B1\"]),      µl(10))\nassert all(well.volume == µl(50) for well in pcr_plate.wells([\"A1\",\"B1\",\"A2\"]))\n\np.mix(pcr_plate.wells([\"A1\",\"B1\",\"A2\"]), volume=µl(25), repetitions=10)\n\n# Incubation to induce cut, then heat inactivation of EcoRI\np.seal(pcr_plate)\np.incubate(pcr_plate, \"warm_37\", \"60:minute\", shaking=False)\np.thermocycle(pcr_plate, [{\"cycles\":  1, \"steps\": [{\"temperature\": \"65:celsius\", \"duration\": \"21:minute\"}]}], volume=µl(50))\n\n# --------------------------------------------------------------\n# Gel electrophoresis, to ensure the cutting worked\n#\np.unseal(pcr_plate)\np.mix(pcr_plate.wells([\"A1\",\"B1\",\"A2\"]), volume=µl(25), repetitions=5)\np.transfer(pcr_plate.wells([\"A1\",\"B1\",\"A2\"]), pcr_plate.wells([\"D1\",\"E1\",\"D2\"]), µl(8))\np.transfer(water_tube, pcr_plate.wells([\"D1\",\"E1\",\"D2\"]), µl(15), mix_after=True, mix_vol=µl(10))\nassert all(well.volume == µl(20) + dead_volume[\"96-pcr\"] for well in pcr_plate.wells([\"D1\",\"E1\",\"D2\"]))\n\np.gel_separate(pcr_plate.wells([\"D1\",\"E1\",\"D2\"]), µl(20), \"agarose(10,2%)\", \"ladder2\", \"15:minute\", expid(\"gel\"))\n\n\n# ----------------------------------------------------------------------------\n# Then consolidate all cut plasmid to one tube (puc19_cut_tube).\n#\nremaining_volumes = [well.volume - dead_volume['96-pcr'] for well in pcr_plate.wells([\"A1\",\"B1\"])]\nprint(\"Consolidated volume: {}\".format(sum(remaining_volumes, µl(0))))\np.consolidate(pcr_plate.wells([\"A1\",\"B1\"]), puc19_cut_tube, remaining_volumes, allow_carryover=True)\n\nassert all(tube.volume \u003E= dead_volume['micro-1.5'] for tube in [water_tube, re_tube, puc19_cut_tube, ecori_p10x_tube])\n\n# ---------------------------------------------------------------\n# Test protocol\n#\njprotocol = json.dumps(p.as_dict(), indent=2)\n!echo '{jprotocol}' | transcriptic analyze\n#print(\"Protocol {}\\n\\n{}\".format(experiment_name, jprotocol))\nopen(\"protocol_{}.json\".format(experiment_name),'w').write(jprotocol)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Cpre\u003EVolumes: re_tube:135.0:microliter water_tube:383.0:microliter EcoRI:30.0:microliter\nConsolidated volume: 78.0:microliter\n\n  \n✓ Protocol analyzed\n  12 instructions\n  5 containers\n  Total Cost: $30.72\n  Workcell Time: $3.38\n  Reagents &amp; Consumables: $27.34\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EРезультаты: резка плазмиды\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nЯ провёл этот эксперимент дважды в немного разных условиях и с гелями разного размера, но результаты почти идентичны. Оба геля мне нравятся.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПервоначально я не выделял достаточно места для \u003Ca href=\"https:\u002F\u002Fdevelopers.transcriptic.com\u002Fdocs\u002Fcontainers\"\u003E«мёртвого» объёма\u003C\u002Fa\u003E (в пробирках 1,5 мл мёртвый объём 15 мкл!). Думаю, это объясняет разницу между D1 и E1 (эти две полосы должны быть идентичными). Проблему мёртвого объёма легко решить, создав надлежащий рабочий запаса разбавленной EcoRI в начале протокола.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНесмотря на эту ошибку, в обоих гелях полосы D1 и E1 сильные полосы в правильном положении 2,6kb. На полосе D2 неразрезанная плазмида: как и положено, она не видна в одном геле и едва видна в другом.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДве гелевые фотографии выглядят довольно по-разному. Частично это объясняется тем, что данный шаг Transcriptic пока не автоматизировала.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F8f8\u002Fb9c\u002Fe3c\u002F8f8b9ce3cc42de99099976a3c60a9ada.jpg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F8f8\u002Fb9c\u002Fe3c\u002F8f8b9ce3cc42de99099976a3c60a9ada.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EДва геля, показывающие разрезанную pUC19 (2,6kb) на полосах D1 и E1, а неразрезанную pUC19 на D2\u003C\u002Ffont\u003E\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EШаг 3. Сборка методом Гибсона\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nСамый простой способ проверить, работает ли моя сборка методом Гибсона — собрать инсерцию и плазмиду, затем использовать стандартные \u003Ca href=\"https:\u002F\u002Fwww.neb.com\u002Ffaqs\u002F2011\u002F08\u002F16\u002Fwhat-primers-should-i-use-to-sequence-an-insert-puc19-pneb193-litmus\"\u003Eпраймеры M13\u003C\u002Fa\u003E (которые фланкируют инсерцию) для амплификации части плазмиды и вставленной ДНК и запустить \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FReal-time_polymerase_chain_reaction\"\u003EqPCR\u003C\u002Fa\u003E и \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FGel_electrophoresis\"\u003Eгель\u003C\u002Fa\u003E, чтобы убедиться, что амплификация сработала. Вы также можете запустить реакцию секвенирования, чтобы подтвердить, что всё инсерцировано как ожидалось, но я решил оставить это на потом.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕсли сборка Гибсона не сработает, то амплификация M13 не сработает, потому что плазмида была разрезана между двумя последовательностями M13.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EКод\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cpre\u003E\u003Ccode class=\"python\"\u003E\"\"\"Debugging transformation protocol: Gibson assembly followed by qPCR and a gel\nv2: include v3 Gibson assembly\"\"\"\n\np = Protocol()\noptions = {}\n\nexperiment_name = \"debug_sfgfp_puc19_gibson_seq_v2\"\n\ninv = {\n    \"water\"                       : \"rs17gmh5wafm5p\", # catalog; Autoclaved MilliQ H2O; ambient\n    \"M13_F\"                       : \"rs17tcpqwqcaxe\", # catalog; M13 Forward (-41); cold_20 (1ul = 100pmol)\n    \"M13_R\"                       : \"rs17tcph6e2qzh\", # catalog; M13 Reverse (-48); cold_20 (1ul = 100pmol)\n    \"SensiFAST_SYBR_No-ROX\"       : \"rs17knkh7526ha\", # catalog; SensiFAST SYBR for qPCR\n    \"sfgfp_puc19_gibson_v1_clone\" : \"ct187rzdq9kd7q\", # inventory; assembled sfGFP; cold_4\n    \"sfgfp_puc19_gibson_v3_clone\" : \"ct188ejywa8jcv\", # inventory; assembled sfGFP; cold_4\n}\n\n# ---------------------------------------------------------------\n# First get my sfGFP pUC19 clones, assembled with Gibson assembly\n#\nclone_plate1 = p.ref(\"sfgfp_puc19_gibson_v1_clone\", id=inv[\"sfgfp_puc19_gibson_v1_clone\"],\n                     cont_type=\"96-pcr\", storage=\"cold_4\", discard=False)\nclone_plate2 = p.ref(\"sfgfp_puc19_gibson_v3_clone\", id=inv[\"sfgfp_puc19_gibson_v3_clone\"],\n                     cont_type=\"96-pcr\", storage=\"cold_4\", discard=False)\n\nwater_tube = p.ref(\"water\", cont_type=\"micro-1.5\", storage=\"cold_4\", discard=True).well(0)\nmaster_tube = p.ref(\"master\", cont_type=\"micro-1.5\", storage=\"cold_4\", discard=True).well(0)\nprimer_tube = p.ref(\"primer\", cont_type=\"micro-1.5\", storage=\"cold_4\", discard=True).well(0)\n\npcr_plate = p.ref(expid(\"pcr_plate\"), cont_type=\"96-pcr\", storage=\"cold_4\", discard=False)\n\ninit_inventory_well(clone_plate1.well(\"A1\"))\ninit_inventory_well(clone_plate2.well(\"A1\"))\n\nseq_wells = [\"B2\",\"B4\",\"B6\", # clone_plate1\n             \"D2\",\"D4\",\"D6\", # clone_plate2\n             \"F2\",\"F4\"] # control\n\n# clone_plate2 was diluted 4X (20ul-\u003E80ul), according to NEB instructions\nassert clone_plate1.well(\"A1\").volume == µl(18), clone_plate1.well(\"A1\").volume\nassert clone_plate2.well(\"A1\").volume == µl(78), clone_plate2.well(\"A1\").volume\n\n# --------------------------------------------------------------\n# Provisioning\n#\np.provision(inv[\"water\"], water_tube, µl(500))\n\n# primers, diluted 2X, discarded at the end\np.provision(inv[\"M13_F\"], primer_tube, µl(13))\np.provision(inv[\"M13_R\"], primer_tube, µl(13))\np.transfer(water_tube, primer_tube, µl(26), mix_after=True, mix_vol=µl(20), repetitions=10)\n\n# -------------------------------------------------------------------\n# PCR Master mix -- 10ul SYBR mix, plus 1ul each undiluted primer DNA (100pmol)\n# Also add 15ul of dead volume\n#\np.provision(inv['SensiFAST_SYBR_No-ROX'], master_tube, µl(11+len(seq_wells)*10))\np.transfer(primer_tube, master_tube, µl(4+len(seq_wells)*4))\np.mix(master_tube, volume=µl(63), repetitions=10)\nassert master_tube.volume == µl(127) # 15ul dead volume\n\np.distribute(master_tube, pcr_plate.wells(seq_wells), µl(14), allow_carryover=True)\np.distribute(water_tube, pcr_plate.wells(seq_wells),\n             [µl(ul) for ul in [5,4,2, 4,2,0, 6,6]],\n             allow_carryover=True)\n\n# Template -- starting with some small, unknown amount of DNA produced by Gibson\np.transfer(clone_plate1.well(\"A1\"), pcr_plate.wells(seq_wells[0:3]), [µl(1),µl(2),µl(4)], one_tip=True)\np.transfer(clone_plate2.well(\"A1\"), pcr_plate.wells(seq_wells[3:6]), [µl(2),µl(4),µl(6)], one_tip=True)\n\nassert all(pcr_plate.well(w).volume == µl(20) for w in seq_wells)\nassert clone_plate1.well(\"A1\").volume == µl(11)\nassert clone_plate2.well(\"A1\").volume == µl(66)\n\n# --------------------------------------------------------------\n# qPCR\n# standard melting curve parameters\n#\np.seal(pcr_plate)\np.thermocycle(pcr_plate, [{\"cycles\":  1, \"steps\": [{\"temperature\": \"95:celsius\",\"duration\": \"2:minute\"}]},\n                          {\"cycles\": 40, \"steps\": [{\"temperature\": \"95:celsius\",\"duration\": \"5:second\"},\n                                                   {\"temperature\": \"60:celsius\",\"duration\": \"20:second\"},\n                                                   {\"temperature\": \"72:celsius\",\"duration\": \"15:second\", \"read\": True}]}],\n    volume=µl(20), # volume is optional\n    dataref=expid(\"qpcr\"),\n    dyes={\"SYBR\": seq_wells}, # dye must be specified (tells transcriptic what aborbance to use?)\n    melting_start=\"65:celsius\", melting_end=\"95:celsius\", melting_increment=\"0.5:celsius\", melting_rate=\"5:second\")\n\n\n# --------------------------------------------------------------\n# Gel -- 20ul required\n# Dilute such that I have 11ul for sequencing\n#\np.unseal(pcr_plate)\np.distribute(water_tube, pcr_plate.wells(seq_wells), µl(11))\np.gel_separate(pcr_plate.wells(seq_wells), µl(20), \"agarose(8,0.8%)\", \"ladder1\", \"10:minute\", expid(\"gel\"))\n\n# This appears to be a bug in Transcriptic. The actual volume should be 11ul\n# but it is not updating after running a gel with 20ul.\n# Primer tube should be equal to dead volume, or it's a waste\nassert all(pcr_plate.well(w).volume==µl(31) for w in seq_wells)\nassert primer_tube.volume == µl(16) == dead_volume['micro-1.5'] + µl(1)\nassert water_tube.volume \u003E µl(25)\n\n# ---------------------------------------------------------------\n# Test and run protocol\n#\njprotocol = json.dumps(p.as_dict(), indent=2)\n!echo '{jprotocol}' | transcriptic analyze\nopen(\"protocol_{}.json\".format(experiment_name),'w').write(jprotocol)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Cpre\u003EWARNING:root:Low volume for well sfgfp_puc19_gibson_v1_clone\u002Fsfgfp_puc19_gibson_v1_clone : 11.0:microliter\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E✓ Protocol analyzed\n  11 instructions\n  6 containers\n  Total Cost: $32.09\n  Workcell Time: $6.98\n  Reagents &amp; Consumables: $25.11\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EРезультаты: qPCR для сборки Гибсона\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nЯ могу получить доступ к данным qPCR в формате JSON через Transcriptic API. Эта функция не очень хорошо \u003Ca href=\"https:\u002F\u002Fdevelopers.transcriptic.com\u002Fdocs\u002Fget-specific-data\"\u003Eдокументирована\u003C\u002Fa\u003E, но может быть чрезвычайно полезной. API даже дают вам доступ к некоторым диагностическим данным от роботов, что может помочь в отладке.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВо-первых, запрашиваем данные о запуске:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"python\"\u003Eproject_id, run_id = \"p16x6gna8f5e9\", \"r18mj3cz3fku7\"\napi_url = \"https:\u002F\u002Fsecure.transcriptic.com\u002Fhgbrian\u002F{}\u002Fruns\u002F{}\u002Fdata.json\".format(project_id, run_id)\ndata_response = requests.get(api_url, headers=tsc_headers)\ndata = data_response.json()\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nЗатем указываем этот id, чтобы получить данные «постобработки» qPCR:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"python\"\u003Eqpcr_id = data['debug_sfgfp_puc19_gibson_seq_v1_qpcr']['id']\npp_api_url = \"https:\u002F\u002Fsecure.transcriptic.com\u002Fdata\u002F{}.json?key=postprocessed_data\".format(qpcr_id)\ndata_response = requests.get(pp_api_url, headers=tsc_headers)\npp_data = data_response.json()\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nВот значения Ct (порог цикла) для каждой пробирки. Ct — это просто точка, в которой флуоресценция превышает определённое значение. Она приблизительно говорит, сколько в данный момент там есть ДНК (и, следовательно, приблизительно, с чего мы начали).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"python\"\u003E# Simple util to convert wellnum to wellname\nn_w = {str(wellnum):'ABCDEFGH'[wellnum\u002F\u002F12]+str(1+wellnum%12) for wellnum in range(96)}\nw_n = {v: k for k, v in n_w.items()}\n\nct_vals = {n_w[k]:v for k,v in pp_data[\"amp0\"][\"SYBR\"][\"cts\"].items()}\nct_df = pd.DataFrame(ct_vals, index=[\"Ct\"]).T\nct_df[\"well\"] = ct_df.index\nf, ax = plt.subplots(figsize=(16,6))\n_ = sns.barplot(y=\"well\", x=\"Ct\", data=ct_df)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F32f\u002Fa42\u002Fde3\u002F32fa42de3ad35392ac0bbf7ae6f595b3.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКак видим, амплификация раньше всего происходит в пробирках D2\u002F4\u002F6 (где ДНК из моей сборки Гибсона «v3»), затем B2\u002F4\u002F6 (сборка Гибсона «v1»). Различия между v1 и v3 в основном заключаются в том, что ДНК v3 разбавлена 4X в соответствии с протоколом NEB, но оба варианта должны работать. Существует некоторая амплификация после цикла 30 в контрольных пробирках (F2, F4), не имеющих ДНК-матрицы, но это не редкость, так как они включают в себя много праймерной ДНК.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЯ также могу построить кривую амплификации qPCR, чтобы посмотреть динамику амплификации.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"python\"\u003Ef, ax = plt.subplots(figsize=(16,6))\nax.set_color_cycle(['#fb6a4a', '#de2d26', '#a50f15', '#74c476', '#31a354', '#006d2c', '#08519c', '#6baed6'])\namp0 = pp_data['amp0']['SYBR']['baseline_subtracted']\n_ = [plt.plot(amp0[w_n[well]], label=well) for well in ['B2', 'B4', 'B6', 'D2', 'D4', 'D6', 'F2', 'F4']]\n_ = ax.set_ylim(0,)\n_ = plt.title(\"qPCR (reds=Gibson v1, greens=Gibson v3, blues=control)\")\n_ = plt.legend(bbox_to_anchor=(1, .75), bbox_transform=plt.gcf().transFigure)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F88e\u002Fd2a\u002Fa19\u002F88ed2aa19537b77b3214e6b36f55fdde.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ целом, результаты qPCR выглядят великолепно, с хорошей амплификацией обеих версий моей сборки Гибсона и без реальной амплификации в контрольной группе. Поскольку сборка v3 показала немного лучший результат, чем v1, теперь будем использовать её.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EРезультаты: сборка Гибсона в геле\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nГель также очень чистый, показывает сильные полосы чуть ниже 1kb в полосах B2, B4, B6, D2, D4, D6: именно такой размер мы ожидаем (инсерция составляет около 740bp, а праймеры M13 — около 40bp вверх и вниз). Вторая полоса соответствует праймерам. Можно быть уверенным в этом, так как полосы F2 и F4 содержат только праймерную ДНК.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fcf7\u002F509\u002F629\u002Fcf750962951b700c8a9333ea1d747a94.jpg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fcf7\u002F509\u002F629\u002Fcf750962951b700c8a9333ea1d747a94.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EЭлектрофорез в полиакриламидном геле: с сборка Гибсона v3 показывает более сильные полосы (D2, D4, D6), в соответствии с приведенными выше данными qPCR\u003C\u002Ffont\u003E\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EШаг 4. Трансформация\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\n\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FTransformation_(genetics)\"\u003EТрансформация\u003C\u002Fa\u003E — это процесс изменения организма путём добавления ДНК. В этом эксперименте мы \u003Cb\u003Eтрансформируем\u003C\u002Fb\u003E \u003Ci\u003EE. coli\u003C\u002Fi\u003E с помощью sfGFP-экспрессирующей плазмиды pUC19.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИспользуем простой в работе штамм \u003Ca href=\"http:\u002F\u002Fwww.zymoresearch.com\u002Fe-coli\u002Fchemically-competent-cells\u002Fstrain-zymo5alpha\"\u003EZymo DH5α Mix&amp;Go\u003C\u002Fa\u003E и \u003Ca href=\"http:\u002F\u002Fwww.zymoresearch.com\u002Fdownloads\u002Fdl\u002Ffile\u002Fid\u002F173\u002Ft3015i.pdf\"\u003Eрекомендуемый протокол\u003C\u002Fa\u003E. Этот штамм — часть стандартного инвентаря Transcriptic. В общем, трансформации могут быть сложными, поскольку компетентные ячейки довольно хрупки, поэтому чем проще и надёжнее протокол, тем лучше. В обычных лабораториях молекулярной биологии эти компетентные клетки, вероятно, были бы слишком дороги для общего использования.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F951\u002F9a6\u002Fa57\u002F9519a6a578f11d26c3c9a2ddda039539.jpg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F951\u002F9a6\u002Fa57\u002F9519a6a578f11d26c3c9a2ddda039539.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EКлетки Zymo Mix &amp; Go с простым протоколом\u003C\u002Ffont\u003E\u003C\u002Fi\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch4\u003EПроблема с роботами\u003C\u002Fh4\u003E\u003Cbr\u002F\u003E\r\nЭтот протокол — хороший пример, насколько трудна адаптация человеческих протоколов для использования роботами и как она может неожиданно потерпеть неудачу. Протоколы иногда на удивление расплывчаты («раскачать пробирку из стороны в сторону»), опираясь на общий контекст молекулярных биологов, или они могут внезапно запросить продвинутую обработку изображения («убедитесь, что осадок размешан»). Люди не возражают против таких задач, но роботам нужны более чёткие инструкции.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ этой трансформации проявились интересные проблемы с таймингом. Протокол трансформации советует, чтобы клетки не оставались при комнатной температуре более нескольких секунд а планшет с пробирками предварительно нагреть до 37°C. Теоретически, вы хотели бы начать предварительное нагревание, чтобы оно закончилось одновременно с трансформацией, но неясно, как роботы Transcriptic справятся с этой ситуацией — насколько мне известно, нет способа точно синхронизировать шаги протокола. Отсутствие точного контроля над временем, похоже, будет общей проблемой с роботизированными протоколами из-за сравнительной негибкости роботизированной руки, конфликтов планирования и т. д. Нам придётся соответствующим образом скорректировать протоколы.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОбычно есть разумные решения: иногда вам просто нужно использовать разные реагенты (например, более выносливые клетки, такие как Mix&amp;Go выше); иногда вы просто закладываете действия с запасом (например, встряхнуть десять раз вместо трёх); иногда нужно придумать для роботов специальные трюки (например, использовать машину PCR для теплового удара).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКонечно, большим преимуществом является то, что, как только протокол сработал однажды, можно в целом полагаться на него снова и снова. Вы даже можете количественно оценить, насколько надёжен протокол, и со временем улучшить его!\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EТестовая трансформация\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nПрежде чем начать трансформацию с полностью собранной плазмидой, я провожу простой эксперимент, чтобы убедиться, что трансформация с использованием обычного pUC19 (т. е. без сборки Гибсона и без инсерции ДНК sfGFP) работает. pUC19 содержит ген устойчивости к ампициллину, поэтому успешная трансформация должна позволить бактериям расти на пластинах, содержащих этот антибиотик.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЯ переношу бактерии прямо на планшет («6-flat» в терминологии Transcriptic), где либо есть ампициллин, либо нет. Я ожидаю, что трансформированные бактерии содержат ген устойчивости к ампициллину и, следовательно, будут расти. Нетрансформированные бактерии не должны расти.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EКод\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cpre\u003E\u003Ccode class=\"python\"\u003E\"\"\"Simple transformation protocol: transformation with unaltered pUC19\"\"\"\n\np = Protocol()\n\nexperiment_name = \"debug_sfgfp_puc19_gibson_v1\"\n\ninv = {\n    \"water\"       : \"rs17gmh5wafm5p\", # catalog; Autoclaved MilliQ H2O; ambient\n    \"DH5a\"        : \"rs16pbj944fnny\", # catalog; Zymo DH5α; cold_80\n    \"LB Miller\"   : \"rs17bafcbmyrmh\", # catalog; LB Broth Miller; cold_4\n    \"Amp 100mgml\" : \"rs17msfk8ujkca\", # catalog; Ampicillin 100mg\u002Fml; cold_20\n    \"pUC19\"       : \"rs17tcqmncjfsh\", # catalog; pUC19; cold_20\n}\n\n# Catalog\ntransform_plate = p.ref(\"transform_plate\", cont_type=\"96-pcr\", storage=\"ambient\", discard=True)\ntransform_tube  = transform_plate.well(0)\n\n\n# ------------------------------------------------------------------------------------\n# Plating transformed bacteria according to Tali's protocol (requires different code!)\n# http:\u002F\u002Flearn.transcriptic.com\u002Fblog\u002F2015\u002F9\u002F9\u002Fprovisioning-commercial-reagents\n# Add 1-5ul plasmid and pre-warm culture plates to 37C before starting.\n#\n\n#\n# Extra inventory for plating\n#\ninv[\"lb-broth-100ug-ml-amp_6-flat\"] = \"ki17sbb845ssx9\" # (kit, not normal ref) from blogpost\ninv[\"noAB-amp_6-flat\"] = \"ki17reefwqq3sq\" # kit id\ninv[\"LB Miller\"] = \"rs17bafcbmyrmh\"\n\n#\n# Ampicillin and no ampicillin plates\n#\namp_6_flat = Container(None, p.container_type('6-flat'))\np.refs[\"amp_6_flat\"] = Ref('amp_6_flat',\n                           {\"reserve\": inv['lb-broth-100ug-ml-amp_6-flat'], \"store\": {\"where\": 'cold_4'}}, amp_6_flat)\nnoAB_6_flat = Container(None, p.container_type('6-flat'))\np.refs[\"noAB_6_flat\"] = Ref('noAB_6_flat',\n                            {\"reserve\": inv['noAB-amp_6-flat'], \"store\": {\"where\": 'cold_4'}}, noAB_6_flat)\n\n#\n# Provision competent bacteria\n#\np.provision(inv[\"DH5a\"], transform_tube,  µl(50))\np.provision(inv[\"pUC19\"], transform_tube, µl(2))\n\n#\n# Heatshock the bacteria to transform using a PCR machine\n#\np.seal(transform_plate)\np.thermocycle(transform_plate,\n    [{\"cycles\":  1, \"steps\": [{\"temperature\":  \"4:celsius\", \"duration\":  \"5:minute\"}]},\n     {\"cycles\":  1, \"steps\": [{\"temperature\": \"37:celsius\", \"duration\": \"30:minute\"}]}],\n    volume=µl(50))\np.unseal(transform_plate)\n\n#\n# Then dilute bacteria and spread onto 6-flat plates\n# Put more on ampicillin plates for more opportunities to get a colony\n#\np.provision(inv[\"LB Miller\"], transform_tube, µl(355))\np.mix(transform_tube, µl(150), repetitions=5)\nfor i in range(6):\n    p.spread(transform_tube, amp_6_flat.well(i), µl(55))\n    p.spread(transform_tube, noAB_6_flat.well(i), µl(10))\n\nassert transform_tube.volume \u003E= µl(15), transform_tube.volume\n\n#\n# Incubate and image 6-flat plates over 18 hours\n#\nfor flat_name, flat in [(\"amp_6_flat\", amp_6_flat), (\"noAB_6_flat\", noAB_6_flat)]:\n    for timepoint in [6,12,18]:\n        p.cover(flat)\n        p.incubate(flat, \"warm_37\", \"6:hour\")\n        p.uncover(flat)\n        p.image_plate(flat, mode=\"top\", dataref=expid(\"{}_t{}\".format(flat_name, timepoint)))\n\n# ---------------------------------------------------------------\n# Analyze protocol\n#\njprotocol = json.dumps(p.as_dict(), indent=2)\n!echo '{jprotocol}' | transcriptic analyze\n\n#print(\"Protocol {}\\n\\n{}\".format(experiment_name, protocol))\nopen(\"protocol_{}.json\".format(experiment_name),'w').write(jprotocol)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E✓ Protocol analyzed\n  43 instructions\n  3 containers\n  $45.43\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EРезультаты: тестовая трансформация\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nНа следующих фотографиях мы видим, что без антибиотика (пластины слева) на всех шести пластинах наблюдается рост, хотя сильно в разной степени, что вызывает беспокойство. Похоже, роботы Transcriptic не особо справляются с равномерным распределением, что требует некоторой ловкости.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ присутствии антибиотика (пластины справа) тоже есть рост, хотя он снова непоследователен. Первые две пластины с антибиотиками выглядят странно, с большим ростом, что, вероятно, является результатом добавления 55 мкл на эти пластины по сравнению с 10 мкл на пластинах без антибиотиков. На третьей пластине несколько колоний и по существу такое я ожидал увидеть на всех пластинах. На последних трёх пластинах должен быть некоторый рост, но его не происходит. Единственное моё объяснение этим странным результатам в том, что я недостаточно смешал клетки и среду, поэтому почти все клетки попали в первые две пластины.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n(Нужно было ещё сделать положительный контроль на ампициллин с неизменённой бактерией, но я уже сделал это в предыдущем эксперименте, так что я знаю, что стоковый ампициллин должен убить этот штамм \u003Ci\u003EE. coli\u003C\u002Fi\u003E. Рост гораздо слабее на пластинах с ампициллином, хотя там гораздо больше бактерий, как и предполагалось).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ целом, трансформация сработала достаточно хорошо, чтобы продолжить, хотя есть некоторые изъяны.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F296\u002Fc9b\u002F7e2\u002F296c9b7e28b653015159907b8a2bb59e.jpg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F296\u002Fc9b\u002F7e2\u002F296c9b7e28b653015159907b8a2bb59e.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EПластины клеток, трансформированных pUC19, через 18 часов: без антибиотика (слева) и с антибиотиком (справа)\u003C\u002Ffont\u003E\u003C\u002Fi\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EТрансформация продукта после сборки\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nПоскольку сборка Гибсона и простая трансформация pUC19, похоже, работают, теперь можно попробовать трансформацию с полностью собранной плазмидой, экспрессирующей sfGFP.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПомимо собранной инсерции, я также добавлю на пластины немного IPTG и X-gal, чтобы увидеть успешное преобразование методом \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FBlue_white_screen\"\u003Eбело-голубой селекции\u003C\u002Fa\u003E. Эта дополнительная информация полезна, так как если пройдёт трансформация с обычным pUC19, который не содержит sfGFP, он всё равно даст устойчивость к антибиотикам.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch4\u003EПоглощение и флуоресценция\u003C\u002Fh4\u003E\u003Cbr\u002F\u003E\r\nСогласно этой \u003Ca href=\"http:\u002F\u002Fwww.biotek.com\u002Fassets\u002Ftech_resources\u002FFilter%20Combinations.pdf\"\u003Eтаблице\u003C\u002Fa\u003E, sfGFP лучше всего светится на длинах волны возбуждения 485 нм \u002F 510 нм. Я обнаружил, что в Transcriptic лучше работает 485\u002F535. Предполагаю, потому что 485 и 510 слишком похожи. Я измеряю рост бактерий на 600 нм (\u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FOD600\"\u003EOD600\u003C\u002Fa\u003E).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F6ab\u002F0d3\u002F453\u002F6ab0d345359a5b1d15f8f6341f1bee08.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EРазнообразие GFP (\u003Ca href=\"http:\u002F\u002Fwww.biotek.com\u002Fassets\u002Ftech_resources\u002FFilter%20Combinations.pdf\"\u003Ebiotek\u003C\u002Fa\u003E)\u003C\u002Ffont\u003E\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch4\u003EIPTG и X-gal\u003C\u002Fh4\u003E\u003Cbr\u002F\u003E\r\nМой IPTG находится в концентрации 1M и должен разбавляться 1:1000. В свою очередь, X-gal в концентрации 20 мг\u002Fмл тоже следует разбавлять 1:1000 (20 мг\u002Fмкл). Следовательно, на 2000µl LB я добавляю по 2 мкл каждого.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСогласно одному \u003Ca href=\"http:\u002F\u002Fwww.bios.niu.edu\u002Fjohns\u002Frecdna\u002Fblue_white.htm\"\u003Eпротоколу\u003C\u002Fa\u003E нужно сначала взять 40 мкл X-gal в концентрации 20 мг\u002Fмл и 40 мкл IPTG концентрации 0,1 mM (или 4 мкл IPTG на 1M), и выдержать 30 минут. Эта процедура у меня не сработала, поэтому я просто смешал IPTG, X-gal и соответствующие клетки и использовал напрямую эту смесь.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EКод\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cpre\u003E\u003Ccode class=\"python\"\u003E\"\"\"Full Gibson assembly and transformation protocol for sfGFP and pUC19\nv1: Spread IPTG and X-gal onto plates, then spread cells\nv2: Mix IPTG, X-gal and cells; spread the mixture\nv3: exclude X-gal so I can do colony picking better\nv4: repeat v3 to try other excitation\u002Femission wavelengths\"\"\"\n\np = Protocol()\n\noptions = {\n    \"gibson\"          : False,    # do a new gibson assembly\n    \"sanger\"          : False,    # sanger sequence product\n    \"control_pUC19\"   : True,     # unassembled pUC19\n    \"XGal\"            : False     # excluding X-gal should make the colony picking easier\n}\nfor k, v in list(options.items()):\n    if v is False: del options[k]\n\nexperiment_name = \"sfgfp_puc19_gibson_plates_v4\"\n\n# -----------------------------------------------------------------------\n# Inventory\n#\ninv = {\n    # catalog\n    \"water\"       : \"rs17gmh5wafm5p\", # catalog; Autoclaved MilliQ H2O; ambient\n    \"DH5a\"        : \"rs16pbj944fnny\", # catalog; Zymo DH5α; cold_80\n    \"Gibson Mix\"  : \"rs16pfatkggmk5\", # catalog; Gibson Mix (2X); cold_20\n    \"LB Miller\"   : \"rs17bafcbmyrmh\", # catalog; LB Broth Miller; cold_4\n    \"Amp 100mgml\" : \"rs17msfk8ujkca\", # catalog; Ampicillin 100mg\u002Fml; cold_20\n    \"pUC19\"       : \"rs17tcqmncjfsh\", # catalog; pUC19; cold_20\n    # my inventory\n    \"puc19_cut_v2\": \"ct187v4ea7vvca\", # inventory; pUC19 cut with EcoRI; cold_20\n    \"IPTG\"        : \"ct18a2r5wn6tqz\", # inventory; IPTG at 1M (conc semi-documented); cold_20\n    \"XGal\"        : \"ct18a2r5wp5hcv\", # inventory; XGal at 0.1M (conc not documented); cold_20\n    \"sfgfp_pcroe_v8_amplified\"    : \"ct1874zqh22pab\", # inventory; sfGFP amplified to 40ng\u002Ful; cold_4\n    \"sfgfp_puc19_gibson_v3_clone\" : \"ct188ejywa8jcv\", # inventory; assembled sfGFP; cold_4\n    # kits (must be used differently)\n    \"lb-broth-100ug-ml-amp_6-flat\" : \"ki17sbb845ssx9\", # catalog; ampicillin plates\n    \"noAB-amp_6-flat\" : \"ki17reefwqq3sq\" # catalog; no antibiotic plates\n}\n\n#\n# Catalog (all to be discarded afterward)\n#\nwater_tube       = p.ref(\"water\",     cont_type=\"micro-1.5\", storage=\"ambient\", discard=True).well(0)\ntransform_plate  = p.ref(\"trn_plate\", cont_type=\"96-pcr\",    storage=\"ambient\", discard=True)\ntransform_tube   = transform_plate.well(39) # experiment\ntransform_tube_L = p.ref(\"trn_tubeL\", cont_type=\"micro-1.5\", storage=\"ambient\", discard=True).well(0)\ntransctrl_tube   = transform_plate.well(56) # control\ntransctrl_tube_L = p.ref(\"trc_tubeL\", cont_type=\"micro-1.5\", storage=\"ambient\", discard=True).well(0)\n\n#\n# Plating according to Tali's protocol\n# http:\u002F\u002Flearn.transcriptic.com\u002Fblog\u002F2015\u002F9\u002F9\u002Fprovisioning-commercial-reagents\n#\namp_6_flat = Container(None, p.container_type('6-flat'))\np.refs[expid(\"amp_6_flat\")] = Ref(expid(\"amp_6_flat\"),\n                                  {\"reserve\": inv['lb-broth-100ug-ml-amp_6-flat'], \"store\": {\"where\": 'cold_4'}}, amp_6_flat)\nnoAB_6_flat = Container(None, p.container_type('6-flat'))\np.refs[expid(\"noAB_6_flat\")] = Ref(expid(\"noAB_6_flat\"),\n                                   {\"reserve\": inv['noAB-amp_6-flat'], \"store\": {\"where\": 'cold_4'}}, noAB_6_flat)\n\n#\n# My inventory: EcoRI-cut pUC19, oePCR'd sfGFP, Gibson-assembled pUC19, IPTG and X-Gal\n#\nif \"gibson\" in options:\n    puc19_cut_tube = p.ref(\"puc19_ecori_v2_puc19_cut\", id=inv[\"puc19_cut_v2\"],\n                           cont_type=\"micro-1.5\", storage=\"cold_20\").well(0)\n    sfgfp_pcroe_amp_tube = p.ref(\"sfgfp_pcroe_v8_amplified\", id=inv[\"sfgfp_pcroe_v8_amplified\"],\n                                 cont_type=\"micro-1.5\", storage=\"cold_4\").well(0)\n    clone_plate = p.ref(expid(\"clone\"), cont_type=\"96-pcr\", storage=\"cold_4\", discard=False)\nelse:\n    clone_plate = p.ref(\"sfgfp_puc19_gibson_v3_clone\", id=inv[\"sfgfp_puc19_gibson_v3_clone\"],\n                         cont_type=\"96-pcr\", storage=\"cold_4\", discard=False)\n\nIPTG_tube = p.ref(\"IPTG\", id=inv[\"IPTG\"], cont_type=\"micro-1.5\", storage=\"cold_20\").well(0)\nif \"XGal\" in options: XGal_tube = p.ref(\"XGal\", id=inv[\"XGal\"], cont_type=\"micro-1.5\", storage=\"cold_20\").well(0)\n\n#\n# Initialize inventory\n#\nif \"gibson\" in options:\n    all_inventory_wells = [puc19_cut_tube, sfgfp_pcroe_amp_tube, IPTG_tube]\n    assert puc19_cut_tube.volume == µl(66), puc19_cut_tube.volume\n    assert sfgfp_pcroe_amp_tube.volume == µl(36), sfgfp_pcroe_amp_tube.volume\nelse:\n    all_inventory_wells = [IPTG_tube, clone_plate.well(0)]\n\nif \"XGal\" in options: all_inventory_wells.append(XGal_tube)\n\nfor well in all_inventory_wells:\n    init_inventory_well(well)\n    print(\"Inventory: {} {} {}\".format(well.name, well.volume, well.properties))\n\n\n#\n# Provisioning. Water is used all over the protocol. Provision an excess since it's cheap\n#\np.provision(inv[\"water\"], water_tube, µl(500))\n\n\n# -----------------------------------------------------------------------------\n# Cloning\u002Fassembly (see NEBuilder protocol above)\n#\n# \"Optimized efficiency is 50–100 ng of vectors with 2 fold excess of inserts.\"\n# pUC19 is 20ng\u002Ful (78ul total).\n# sfGFP is ~40ng\u002Ful (48ul total)\n# Therefore 4ul of each gives 80ng and 160ng of vector and insert respectively\n#\n\ndef do_gibson_assembly():\n    #\n    # Combine all the Gibson reagents in one tube and thermocycle\n    #\n    p.provision(inv[\"Gibson Mix\"],   clone_plate.well(0), µl(10))\n    p.transfer(water_tube,           clone_plate.well(0), µl(2))\n    p.transfer(puc19_cut_tube,       clone_plate.well(0), µl(4))\n    p.transfer(sfgfp_pcroe_amp_tube, clone_plate.well(0), µl(4),\n               mix_after=True, mix_vol=µl(10), repetitions=10)\n\n    p.seal(clone_plate)\n    p.thermocycle(clone_plate,\n                  [{\"cycles\":  1, \"steps\": [{\"temperature\": \"50:celsius\", \"duration\": \"16:minute\"}]}],\n                  volume=µl(50))\n\n    #\n    # Dilute assembled plasmid 4X according to the NEB Gibson assembly protocol (20ul-\u003E80ul)\n    #\n    p.unseal(clone_plate)\n    p.transfer(water_tube, clone_plate.well(0), µl(60), mix_after=True, mix_vol=µl(40), repetitions=5)\n    return\n\n\n# --------------------------------------------------------------------------------------------------\n# Transformation\n# \"Transform NEB 5-alpha Competent E. coli cells with 2 μl of the\n#  assembled product, following the appropriate transformation protocol.\"\n#\n# Mix &amp; Go http:\u002F\u002Fwww.zymoresearch.com\u002Fdownloads\u002Fdl\u002Ffile\u002Fid\u002F173\u002Ft3015i.pdf\n# \"[After mixing] Immediately place on ice and incubate for 2-5 minutes\"\n# \"The highest transformation efficiencies can be obtained by incubating Mix &amp; Go cells with DNA on\n#  ice for 2-5 minutes (60 minutes maximum) prior to plating.\"\n# \"It is recommended that culture plates be pre-warmed to \u003E20°C (preferably 37°C) prior to plating.\"\n# \"Avoid exposing the cells to room temperature for more than a few seconds at a time.\"\n#\n# \"If competent cells are purchased from other manufacture, dilute assembled products 4-fold\n#  with H2O prior transformation. This can be achieved by mixing 5 μl of assembled products with\n#  15 μl of H2O. Add 2 μl of the diluted assembled product to competent cells.\"\n#\n\ndef _do_transformation():\n    #\n    # Combine plasmid and competent bacteria in a pcr_plate and shock\n    #\n    p.provision(inv[\"DH5a\"], transform_tube,  µl(50))\n    p.transfer(clone_plate.well(0), transform_tube, µl(3), dispense_speed=\"10:microliter\u002Fsecond\")\n    assert clone_plate.well(0).volume == µl(54), clone_plate.well(0).volume\n\n    if 'control_pUC19' in options:\n        p.provision(inv[\"DH5a\"], transctrl_tube,  µl(50))\n        p.provision(inv[\"pUC19\"], transctrl_tube, µl(1))\n\n    #\n    # Heatshock the bacteria to transform using a PCR machine\n    #\n    p.seal(transform_plate)\n    p.thermocycle(transform_plate,\n        [{\"cycles\":  1, \"steps\": [{\"temperature\":  \"4:celsius\", \"duration\": \"5:minute\"}]},\n         {\"cycles\":  1, \"steps\": [{\"temperature\": \"37:celsius\", \"duration\": \"30:minute\"}]}],\n        volume=µl(50))\n    return\n\n\ndef _transfer_transformed_to_plates():\n    assert transform_tube.volume == µl(53), transform_tube.volume\n    p.unseal(transform_plate)\n\n    num_ab_plates = 4 # antibiotic places\n\n    #\n    # Transfer bacteria to a bigger tube for diluting\n    # Then spread onto 6-flat plates\n    # Generally you would spread 50-100ul of diluted bacteria\n    # Put more on ampicillin plates for more opportunities to get a colony\n    # I use a dilution series since it's unclear how much to plate\n    #\n    p.provision(inv[\"LB Miller\"], transform_tube_L, µl(429))\n\n    #\n    # Add all IPTG and XGal to the master tube\n    # 4ul (1M) IPTG on each plate; 40ul XGal on each plate\n    #\n    p.transfer(IPTG_tube, transform_tube_L, µl(4*num_ab_plates))\n    if 'XGal' in options:\n        p.transfer(XGal_tube, transform_tube_L, µl(40*num_ab_plates))\n\n    #\n    # Add the transformed cells and mix (use new mix op in case of different pipette)\n    #\n    p.transfer(transform_tube, transform_tube_L, µl(50))\n    p.mix(transform_tube_L, volume=transform_tube_L.volume\u002F2, repetitions=10)\n\n    assert transform_tube.volume == dead_volume['96-pcr'] == µl(3), transform_tube.volume\n    assert transform_tube_L.volume == µl(495), transform_tube_L.volume\n\n    #\n    # Spread an average of 60ul on each plate == 480ul total\n    #\n    for i in range(num_ab_plates):\n        p.spread(transform_tube_L, amp_6_flat.well(i), µl(51+i*6))\n        p.spread(transform_tube_L, noAB_6_flat.well(i), µl(51+i*6))\n\n    assert transform_tube_L.volume == dead_volume[\"micro-1.5\"], transform_tube_L.volume\n\n    #\n    # Controls: include 2 ordinary pUC19-transformed plates as a control\n    #\n    if 'control_pUC19' in options:\n        num_ctrl = 2\n        assert num_ab_plates + num_ctrl &lt;= 6\n\n        p.provision(inv[\"LB Miller\"], transctrl_tube_L, µl(184)+dead_volume[\"micro-1.5\"])\n        p.transfer(IPTG_tube,         transctrl_tube_L, µl(4*num_ctrl))\n        if \"XGal\" in options: p.transfer(XGal_tube, transctrl_tube_L, µl(40*num_ctrl))\n        p.transfer(transctrl_tube,    transctrl_tube_L, µl(48))\n        p.mix(transctrl_tube_L, volume=transctrl_tube_L.volume\u002F2, repetitions=10)\n\n        for i in range(num_ctrl):\n            p.spread(transctrl_tube_L, amp_6_flat.well(num_ab_plates+i), µl(55+i*10))\n            p.spread(transctrl_tube_L, noAB_6_flat.well(num_ab_plates+i), µl(55+i*10))\n\n        assert transctrl_tube_L.volume == dead_volume[\"micro-1.5\"], transctrl_tube_L.volume\n        assert IPTG_tube.volume == µl(808), IPTG_tube.volume\n        if \"XGal\" in options: assert XGal_tube.volume == µl(516), XGal_tube.volume\n\n    return\n\n\ndef do_transformation():\n    _do_transformation()\n    _transfer_transformed_to_plates()\n\n\n# ------------------------------------------------------\n# Measure growth in plates (photograph)\n#\n\ndef measure_growth():\n    #\n    # Incubate and photograph 6-flat plates over 18 hours\n    # to see blue or white colonies\n    #\n    for flat_name, flat in [(expid(\"amp_6_flat\"), amp_6_flat), (expid(\"noAB_6_flat\"), noAB_6_flat)]:\n        for timepoint in [9,18]:\n            p.cover(flat)\n            p.incubate(flat, \"warm_37\", \"9:hour\")\n            p.uncover(flat)\n            p.image_plate(flat, mode=\"top\", dataref=expid(\"{}_t{}\".format(flat_name, timepoint)))\n    return\n\n\n# ---------------------------------------------------------------\n# Sanger sequencing, TURNED OFF\n# Sequence to make sure assembly worked\n# 500ng plasmid, 1 µl of a 10 µM stock primer\n# \"M13_F\"       : \"rs17tcpqwqcaxe\", # catalog; M13 Forward (-41); cold_20 (1ul = 100pmol)\n# \"M13_R\"       : \"rs17tcph6e2qzh\", # catalog; M13 Reverse (-48); cold_20 (1ul = 100pmol)\n#\ndef do_sanger_seq():\n    seq_primers = [inv[\"M13_F\"], inv[\"M13_R\"]]\n    seq_wells = [\"G1\",\"G2\"]\n    p.unseal(pcr_plate)\n    for primer_num, seq_well in [(0, seq_wells[0]),(1, seq_wells[1])]:\n        p.provision(seq_primers[primer_num], pcr_plate.wells([seq_well]), µl(1))\n\n    p.transfer(pcr_plate.wells([\"A1\"]), pcr_plate.wells(seq_wells),  µl(5), mix_before=True, mix_vol=µl(10))\n    p.transfer(water_tube, pcr_plate.wells(seq_wells), µl(9))\n\n    p.mix(pcr_plate.wells(seq_wells), volume=µl(7.5), repetitions=10)\n    p.sangerseq(pcr_plate, pcr_plate.wells(seq_wells[0]).indices(), expid(\"seq1\"))\n    p.sangerseq(pcr_plate, pcr_plate.wells(seq_wells[1]).indices(), expid(\"seq2\"))\n    return\n\n# ---------------------------------------------------------------\n# Generate protocol\n#\n\n# Skip Gibson since I already did it\nif 'gibson' in options: do_gibson_assembly()\ndo_transformation()\nmeasure_growth()\nif 'sanger' in options: do_sanger_seq()\n\n\n# ---------------------------------------------------------------\n# Output protocol\n#\njprotocol = json.dumps(p.as_dict(), indent=2)\n!echo '{jprotocol}' | transcriptic analyze\n\n#print(\"\\nProtocol {}\\n\\n{}\".format(experiment_name, jprotocol))\nopen(\"protocol_{}.json\".format(experiment_name),'w').write(jprotocol)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Cpre\u003EInventory: IPTG\u002FIPTG\u002FIPTG\u002FIPTG\u002FIPTG\u002FIPTG 832.0:microliter {}\nInventory: sfgfp_puc19_gibson_v3_clone\u002Fsfgfp_puc19_gibson_v3_clone\u002Fsfgfp_puc19_gibson_v3_clone\u002Fsfgfp_puc19_gibson_v3_clone\u002Fsfgfp_puc19_gibson_v3_clone 57.0:microliter {}\n\n  \n✓ Protocol analyzed\n  40 instructions\n  8 containers\n  Total Cost: $53.20\n  Workcell Time: $17.35\n  Reagents &amp; Consumables: $35.86\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EСбор колоний\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nКогда колонии растут на ампициллиновой пластине, я могу «собрать» отдельные колонии и посадить их на 96-пробирочный планшет. Для этого в автопротоколе есть специальная команда (\u003Ca href=\"http:\u002F\u002Fautoprotocol-python.readthedocs.org\u002Fen\u002Flatest\u002Fautoprotocol.html#protocol-autopick\"\u003Eautopick\u003C\u002Fa\u003E).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EКод\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cpre\u003E\u003Ccode class=\"python\"\u003E\"\"\"Pick colonies from plates and grow in amp media and check for fluorescence.\nv2: try again with a new plate (no blue colonies)\nv3: repeat with different emission and excitation wavelengths\"\"\"\n\np = Protocol()\n\noptions = {}\nfor k, v in list(options.items()):\n    if v is False: del options[k]\n\nexperiment_name = \"sfgfp_puc19_gibson_pick_v3\"\n\ndef plate_expid(val):\n    \"\"\"refer to the previous plating experiment's outputs\"\"\"\n    plate_exp = \"sfgfp_puc19_gibson_plates_v4\"\n    return \"{}_{}\".format(plate_exp, val)\n\n# -----------------------------------------------------------------------\n# Inventory\n#\ninv = {\n    # catalog\n    \"water\"         : \"rs17gmh5wafm5p\", # catalog; Autoclaved MilliQ H2O; ambient\n    \"LB Miller\"     : \"rs17bafcbmyrmh\", # catalog; LB Broth Miller; cold_4\n    \"Amp 100mgml\"   : \"rs17msfk8ujkca\", # catalog; Ampicillin 100mg\u002Fml; cold_20\n    \"IPTG\"          : \"ct18a2r5wn6tqz\", # inventory; IPTG at 1M (conc semi-documented); cold_20\n    # plates from previous experiment, must be changed every new experiment\n    plate_expid(\"amp_6_flat\")  : \"ct18snmr9avvg9\", # inventory; Ampicillin plates with blue-white screening of pUC19\n    plate_expid(\"noAB_6_flat\") : \"ct18snmr9dxfw2\", # inventory; no AB plates with blue-white screening of pUC19\n}\n\n# Tubes and plates\nlb_amp_tubes = [p.ref(\"lb_amp_{}\".format(i+1), cont_type=\"micro-2.0\", storage=\"ambient\", discard=True).well(0)\n                for i in range(4)]\nlb_xab_tube  = p.ref(\"lb_xab\", cont_type=\"micro-2.0\", storage=\"ambient\", discard=True).well(0)\ngrowth_plate = p.ref(expid(\"growth\"), cont_type=\"96-flat\",   storage=\"cold_4\",  discard=False)\n\n# My inventory\nIPTG_tube = p.ref(\"IPTG\", id=inv[\"IPTG\"], cont_type=\"micro-1.5\", storage=\"cold_20\").well(0)\n# ampicillin plate\namp_6_flat = Container(None, p.container_type('6-flat'))\np.refs[plate_expid(\"amp_6_flat\")] = Ref(plate_expid(\"amp_6_flat\"),\n                                        {\"id\":inv[plate_expid(\"amp_6_flat\")], \"store\": {\"where\": 'cold_4'}}, amp_6_flat)\n\n# Use a total of 50 wells\nabs_wells = [\"{}{}\".format(row,col) for row in \"BCDEF\" for col in range(1,11)]\nabs_wells_T = [\"{}{}\".format(row,col) for col in range(1,11) for row in \"BCDEF\"]\nassert abs_wells[:3] == [\"B1\",\"B2\",\"B3\"] and abs_wells_T[:3] == [\"B1\",\"C1\",\"D1\"]\n\ndef prepare_growth_wells():\n    #\n    # To LB, add ampicillin at ~1\u002F1000 concentration\n    # Mix slowly in case of overflow\n    #\n    p.provision(inv[\"LB Miller\"], lb_xab_tube, µl(1913))\n    for lb_amp_tube in lb_amp_tubes:\n        p.provision(inv[\"Amp 100mgml\"], lb_amp_tube, µl(2))\n        p.provision(inv[\"LB Miller\"],   lb_amp_tube, µl(1911))\n        p.mix(lb_amp_tube, volume=µl(800), repetitions=10)\n\n    #\n    # Add IPTG but save on X-Gal\n    # http:\u002F\u002Fopenwetware.org\u002Fimages\u002Ff\u002Ff1\u002FDh5a_sub.pdf\n    # \"If you are concerned about obtaining maximal levels of expression, add IPTG to a final concentration of 1 mM.\"\n    # 2ul of IPTG in 2000ul equals 1mM\n    #\n    p.transfer(IPTG_tube, [lb_xab_tube] + lb_amp_tubes, µl(2), one_tip=True)\n\n    #\n    # Distribute LB among wells, row D is control (no ampicillin)\n    #\n    cols = range(1,11)\n    row = \"D\" # control, no AB\n    cwells = [\"{}{}\".format(row,col) for col in cols]\n    assert set(cwells).issubset(set(abs_wells))\n    p.distribute(lb_xab_tube,  growth_plate.wells(cwells), µl(190), allow_carryover=True)\n\n    rows = \"BCEF\"\n    for row, lb_amp_tube in zip(rows, lb_amp_tubes):\n        cwells = [\"{}{}\".format(row,col) for col in cols]\n        assert set(cwells).issubset(set(abs_wells))\n        p.distribute(lb_amp_tube, growth_plate.wells(cwells), µl(190), allow_carryover=True)\n\n    assert all(lb_amp_tube.volume == lb_xab_tube.volume == dead_volume['micro-2.0']\n               for lb_amp_tube in lb_amp_tubes)\n    return\n\n\ndef measure_growth_wells():\n    #\n    # Growth: absorbance and fluorescence over 24 hours\n    # Absorbance at 600nm: cell growth\n    # Absorbance at 615nm: X-gal, in theory\n    # Fluorescence at 485nm\u002F510nm: sfGFP\n    # or 450nm\u002F508nm (http:\u002F\u002Fwww.ncbi.nlm.nih.gov\u002Fpmc\u002Farticles\u002FPMC2695656\u002F)\n    #\n    hr = 4\n    for t in range(0,24,hr):\n        if t \u003E 0:\n            p.cover(growth_plate)\n            p.incubate(growth_plate, \"warm_37\", \"{}:hour\".format(hr), shaking=True)\n            p.uncover(growth_plate)\n\n        p.fluorescence(growth_plate, growth_plate.wells(abs_wells).indices(),\n                       excitation=\"485:nanometer\", emission=\"535:nanometer\",\n                       dataref=expid(\"fl2_{}\".format(t)), flashes=25)\n        p.fluorescence(growth_plate, growth_plate.wells(abs_wells).indices(),\n                       excitation=\"450:nanometer\", emission=\"508:nanometer\",\n                       dataref=expid(\"fl1_{}\".format(t)), flashes=25)\n        p.fluorescence(growth_plate, growth_plate.wells(abs_wells).indices(),\n                       excitation=\"395:nanometer\", emission=\"508:nanometer\",\n                       dataref=expid(\"fl0_{}\".format(t)), flashes=25)\n        p.absorbance(growth_plate, growth_plate.wells(abs_wells).indices(),\n                     wavelength=\"600:nanometer\",\n                     dataref=expid(\"abs_{}\".format(t)), flashes=25)\n    return\n\n# ---------------------------------------------------------------\n# Protocol steps\n#\nprepare_growth_wells()\nbatch = 10\nfor i in range(5):\n    p.autopick(amp_6_flat.well(i), growth_plate.wells(abs_wells_T[i*batch:i*batch+batch]),\n               dataref=expid(\"autopick_{}\".format(i)))\n    p.image_plate(amp_6_flat, mode=\"top\", dataref=expid(\"autopicked_{}\".format(i)))\nmeasure_growth_wells()\n\n# ---------------------------------------------------------------\n# Output protocol\n#\njprotocol = json.dumps(p.as_dict(), indent=2)\n!echo '{jprotocol}' | transcriptic analyze\nopen(\"protocol_{}.json\".format(experiment_name),'w').write(jprotocol)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E✓ Protocol analyzed\n  62 instructions\n  8 containers\n  Total Cost: $66.38\n  Workcell Time: $57.59\n  Reagents &amp; Consumables: $8.78\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EРезультаты: сбор колоний\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nСине–белый экран прекрасно показал, в основном, белые колонии на пластинах с антибиотиком (1-4) и только синие на пластинах без антибиотика (5-6). Это именно то, чего я ожидал, и я был рад это видеть, тем более, что использовал собственные IPTG и X-gal, которые я отправил в Transcriptic.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fbc4\u002Fd2b\u002Fc10\u002Fbc4d2bc102d423993907a021598257ef.jpg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fbc4\u002Fd2b\u002Fc10\u002Fbc4d2bc102d423993907a021598257ef.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EСкрининг методом бело-голубой селекции пластин с ампициллином (1-4) и без антибиотика (5-6)\u003C\u002Ffont\u003E\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОднако робот-сборщик колоний плохо работал с этими бело-синими колониями. Изображение ниже создано путём вычитания последовательных фотографий пластин после каждого раунда выбора пластины и увеличения контраста различий (в \u003Ca href=\"http:\u002F\u002Fwww.graphicsmagick.org\u002F\"\u003EGraphicsMagick\u003C\u002Fa\u003E). Таким образом, я могу визуализировать, какие колонии были собраны (хотя и не идеально, поскольку собранные колонии не полностью удаляются).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЯ также подписал изображение количеством колоний, собранных роботом Transcriptic. Предполагалось, что он соберёт максимум по 10 колоний из первых пяти пластин. Тем не менее, в целом было собрано несколько колоний, и это обычно это синие колонии. Роботу удалось только найти десять колоний на контрольной пластине с только синими колониями. Моя рабочая теория заключается в том, что робот, собирающий колонии, предпочтительно собирает синие колонии, поскольку они более контрастные.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fc8f\u002Fee9\u002Fb71\u002Fc8fee9b710a214fdb7421dbc2d74e1b4.jpg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002Fc8f\u002Fee9\u002Fb71\u002Fc8fee9b710a214fdb7421dbc2d74e1b4.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EСкрининговые пластины для бело-голубой селекции с ампициллином (1-4) и без антибиотика (5-6), с указанием количества собранных колоний\u003C\u002Ffont\u003E\u003C\u002Fi\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nБело–голубой скрининг служил определённой цели. Он показал, что большинство колоний трансформируются правильно. По крайней мере, там происходит инсерция. Однако для лучшего сбора колоний я повторил эксперимент без X-gal.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТолько с белыми колониями робот-сборщик успешно собрал по десять колоний из каждой из первых пяти пластин. Можно предположить, что в большинстве собранных колоний есть успешные инсерции.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F2cb\u002F6f1\u002F835\u002F2cb6f183502e484f66e1f95ba1b44ed7.jpg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fpost_images\u002F2cb\u002F6f1\u002F835\u002F2cb6f183502e484f66e1f95ba1b44ed7.jpg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EКолонии, растущие на пластинах с ампициллином (1-4) и без антибиотика (5-6)\u003C\u002Ffont\u003E\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003EРезультаты: трансформация с собранным продуктом\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nПосле выращивания 50 отобранных колоний на 96-пробирочном планшете в течение 20 часов я измеряю флуоресценцию, чтобы проверить экспрессию sfGFP. Для измерения флуоресценции и поглощения (и люминесценции, если хотите) Transcriptic использует ридер \u003Ca href=\"http:\u002F\u002Flifesciences.tecan.com\u002Fproducts\u002Freader_and_washer\u002Fmicroplate_readers\u002Finfinite_200_pro\"\u003ETecan Infinite\u003C\u002Fa\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ теории, в любой колонии с ростом должна быть собранная плазмида, так как для роста ей нужна устойчивость к антибиотикам, и каждая собранная плазмида экспрессирует sfGFP. На самом деле есть много причин, почему это может быть не так, не в последнюю очередь из-за того, что вы можете потерять ген sfGFP из плазмиды без потери устойчивости к ампициллину. Бактерия, которая теряет ген sfGFP, имеет преимущество в отборе перед своими конкурентами, потому что она не тратит лишнюю энергию, а с учётом достаточного количества поколений роста, это обязательно произойдёт.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЯ собираю данные поглощения (OD600) и флуоресценции каждые четыре часа в течение 20 часов (около 60 поколений).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"python\"\u003Efor t in [0,4,8,12,16,20]:\n    abs_data = pd.read_csv(\"glow\u002Fsfgfp_puc19_gibson_pick_v3_abs_{}.csv\".format(t), index_col=\"Well\")\n    flr_data = pd.read_csv(\"glow\u002Fsfgfp_puc19_gibson_pick_v3_fl2_{}.csv\".format(t), index_col=\"Well\")\n\n    if t == 0:\n        new_data = abs_data.join(flr_data)\n    else:\n        new_data = new_data.join(abs_data, rsuffix='_{}'.format(t))\n        new_data = new_data.join(flr_data, rsuffix='_{}'.format(t))\nnew_data.columns = [\"OD 600:nanometer_0\", \"Fluorescence_0\"] + list(new_data.columns[2:])\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nРазмещаем на графике данные 20-го часа и следы предыдущих замеров. На самом деле мне интересны только последние данные, так как именно тогда должен наблюдаться пик флуоресценции.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"python\"\u003Esvg = []\nW, H = 800, 500\nmin_x, max_x = 0, 0.8\nmin_y, max_y = 0, 50000\n\ndef _toxy(x, y):\n    return W*(x-min_x)\u002F(max_x-min_x), H-H*(y-min_y)\u002F(max_y-min_y)\ndef _topt(x, y):\n    return ','.join(map(str,_toxy(x,y)))\n\nab_fls = [[row[0]] + [list(row[1])] for row in new_data.iterrows()]\n# axes\nsvg.append('&lt;g fill=\"#888\" font-size=\"18\" transform=\"translate(20,0),scale(.95)\"\u003E')\nsvg.append('&lt;text x=\"0\" y=\"{}\"\u003EOD600 →&lt;\u002Ftext\u003E'.format(H+20))\nsvg.append('&lt;text x=\"0\" y=\"0\" transform=\"rotate(-90),translate(-{},-8)\"\u003EFluorescence →&lt;\u002Ftext\u003E'.format(H))\nsvg.append('&lt;line x1=\"0\" y1=\"{}\" x2=\"{}\" y2=\"{}\" style=\"stroke:#888;stroke-width:2\" \u002F\u003E'.format(H,W,H))\nsvg.append('&lt;line x1=\"0\" y1=\"0\" x2=\"0\" y2=\"{}\" style=\"stroke:#888;stroke-width:2\" \u002F\u003E'.format(H))\n\n# glow filter\nsvg.append(\"\"\"&lt;filter id=\"glow\" x=\"-200%\" y=\"-200%\" height=\"400%\" width=\"400%\"\u003E\n&lt;feColorMatrix type=\"matrix\" values=\"0 0 0 0   0 255 0 0 0   0 0 0 0 0   0 0 0 0 1 0\"\u002F\u003E\n&lt;feGaussianBlur stdDeviation=\"10\" result=\"coloredBlur\"\u002F\u003E\n&lt;feMerge\u003E&lt;feMergeNode in=\"coloredBlur\"\u002F\u003E&lt;feMergeNode in=\"SourceGraphic\"\u002F\u003E&lt;\u002FfeMerge\u003E\n&lt;\u002Ffilter\u003E\"\"\")\n\nfor n, (well, vals) in enumerate(ab_fls):\n    fill = \"#444\" if not well.startswith(\"D\") else \"#aaa\"\n    gfilter = 'filter=\"url(#glow)\"' if well in [\"C3\", \"D1\", \"D3\"] else \"\"\n    cx, cy = _toxy(*vals[-2:])\n    svg.append('''&lt;g id=\"point{n:d}\"\u003E&lt;circle {gfilter:s} r=\"12\" cx=\"{cx:f}\" cy=\"{cy:f}\" fill=\"{fill:s}\" \u002F\u003E\n                  &lt;text x=\"{cx:f}\" y=\"{cy:f}\" font-size=\"10\" text-anchor=\"middle\" fill=\"#fff\"\n                   alignment-baseline=\"middle\"\u003E{txt:s}&lt;\u002Ftext\u003E&lt;\u002Fg\u003E\n               '''.format(n=n, cx=cx, cy=cy, fill=fill, txt=well, gfilter=gfilter))\n\n    pathd = 'M{} '.format(_topt(*vals[:2]))\n    pathd += ' '.join(\"L{}\".format(_topt(*vals[i:i+2])) for i in range(2,len(vals),2))\n    svg.append('''&lt;path d=\"{pathd:}\" stroke=\"#ccc\" stroke-width=\".2\"\n                   fill=\"none\" id=\"path{n:d}\"\u002F\u003E'''.format(pathd=pathd, n=n))\n\nsvg.append(\"&lt;\u002Fg\u003E\") # entire chart group\nshow_svg(''.join(svg), w=W, h=H)\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F03\u002Fz3\u002Fkk\u002F03z3kkczqokp7nhgplib_q1bhia.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003E\u003Cfont color=\"gray\"\u003EФлуоресценция и OD600: колонии с ампициллином чёрные, контрольные колонии без ампициллина серые. Зелёным подсвечены колонии, где я подтвердил правильность последовательности белка sfGFP\u003C\u002Ffont\u003E\u003C\u002Fi\u003E \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЗапускаем \u003Ca href=\"https:\u002F\u002Fdevelopers.transcriptic.com\u002Fdocs\u002Fplasmid-mini-prep\"\u003Eminiprep\u003C\u002Fa\u003E, чтобы извлечь плазмидную ДНК, затем секвенирование Сэнгера с помощью праймеров М13. К сожалению, по какой-то причине miniprep в настоящее время доступен только через веб-протокол Transcriptic, а не через автопротокол. Я секвенирую три пробирки с самыми высокими показаниями флуоресценции (C1, D1, D3) и три других (B1, B3, E1), выравнивая последовательности по sfGFP с помощью \u003Ca href=\"http:\u002F\u002Fwww.drive5.com\u002Fmuscle\u002F\"\u003Emuscle\u003C\u002Fa\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ пробирках C1, D3 и D3 идеальное соответствие моей исходной последовательности sfGFP, в то время как в B1, B3 и E1 грубые мутации или выравнивание просто терпит неудачу.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch4\u003EТри светящиеся колонии\u003C\u002Fh4\u003E\u003Cbr\u002F\u003E\r\nРезультаты хорошие, хотя некоторые аспекты удивительны. Например, ридер флуоресценции без видимой причины начинает работу с временной отметки 0 с очень высоких значений (40 000 блоков). К 20-му часу он успокоился до более разумного паттерна с чёткой корреляцией между OD600 и флуоресценцией (предполагаю, из-за небольшого перекрытия в спектрах), плюс некоторые выбросы с высокой флуоресценцией. Удивительно, но это может быть один, три или, возможно, 11-15 выбросов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНекоторые из пробирок с высокими показателями флуоресценции находятся в контрольных пробирках (т. е. без ампициллина, окрашены серым), что удивительно, поскольку в этих пробирках нет давления отбора, поэтому можно ожидать потери плазмиды).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОсновываясь на данных флуоресценции и результатах секвенирования, представляется, что только три из 50 колоний производят sfGFP и флуоресцируют. Это не так много, как я ожидал. Однако, поскольку прошло три отдельные стадии роста (на пластине, в пробирке, для miniprep), к этой стадии клетки претерпели около 200 поколений роста, поэтому было довольно много возможностей для возникновения мутаций.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДолжны быть способы сделать процесс более эффективным, тем более что я далеко не эксперт по этим протоколам. Тем не менее, мы успешно произвели трансформированные клетки с экспрессией сконструированного GFP, используя только код Python!\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch1\u003EЧасть третья: выводы\u003C\u002Fh1\u003E\u003Cbr\u002F\u003E\r\n\u003Ch4\u003EЦена\u003C\u002Fh4\u003E\u003Cbr\u002F\u003E\r\nВ зависимости от того, как измерять, стоимость этого эксперимента составила около $360, не считая денег на отладку:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Cb\u003E$70\u003C\u002Fb\u003E на синтез ДНК\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cb\u003E$32\u003C\u002Fb\u003E на PCR и добавление фланкирующих последовательностей к инсерции\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cb\u003E$31\u003C\u002Fb\u003E на вырезание плазмид\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cb\u003E$32\u003C\u002Fb\u003E на сборку Гибсона\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cb\u003E$53\u003C\u002Fb\u003E на трансформацию\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cb\u003E$67\u003C\u002Fb\u003E на сбор колоний\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cb\u003E$75\u003C\u002Fb\u003E за 3 miniprep'ов и секвенирование\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\nДумаю, что стоимость можно снизить до $250-300 с некоторыми доработками. Например, роботизированный сбор 50 колоний стоит подозрительно дорого и, вероятно, от него можно отказаться.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПо моему опыту, эта цена кажется высокой для некоторых (молекулярных биологов) и низкой для других (людей из IT). Поскольку Transcriptic в основном просто взимает плату за реагенты по прейскуранту, основная разница в затратах заключается в труде. Робот и так обходится довольно дёшево в час, и он не прочь встать посреди ночи, чтобы сфотографировать пластину. После того, как протоколы утверждены, трудно представить, что даже аспирант обойдётся дешевле, особенно если учитывать альтернативные издержки.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля ясности, я говорю только о замене рутинных протоколов. Конечно, разработка передовых протоколов по-прежнему будет осуществляться квалифицированными молекулярными биологами, но многие захватывающие области науки используют скучные рутинные протоколы. До недавнего времени многие лаборатории производили свои собственные олигонуклеотиды, но теперь мало кто беспокоится об этом: это просто не стоит ничьего времени, даже аспирантов, когда IDT отправит их вам в течение нескольких дней.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch4\u003EРоботизированные лаборатории: плюсы и минусы\u003C\u002Fh4\u003E\u003Cbr\u002F\u003E\r\nОчевидно, я очень верю в будущее роботизированных лабораторий. Есть некоторые действительно забавные и полезные вещи в проведении экспериментов с роботами, особенно если вы в первую очередь занимаетесь вычислениями и у вас аллергия на латексные перчатки и ручной труд:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E\u003Cb\u003EВоспроизводимость!\u003C\u002Fb\u003E Вероятно, это главное преимущество. Воспроизводимость включает в себя согласованность роботов и возможность публиковать свой протокол в формате autoprotocol, а не неудобной английской прозой.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cb\u003EМасштабируемость\u003C\u002Fb\u003E. Вы можете повторить мой эксперимент 100 раз с разными параметрами, без особых запредельных усилий.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cb\u003EПроизвольно сложные протоколы\u003C\u002Fb\u003E, например, тачдаун PCR. Это может показаться незначительным или даже контрпродуктивным, но если протокол выполняется сотни или тысячи раз разными лабораториями, почему бы немного не оптимизировать его? Или даже использовать статистику\u002Fмашинное обучение для улучшения протокола с течением времени? Меня сводит с ума, когда встречаются протоколы, которые предполагается использовать десятки тысяч раз, а они рекомендуют выполнять операцию «в течение 2-3 минут». Сколько именно?\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cb\u003EТонкая настройка\u003C\u002Fb\u003E. Вы можете повторить эксперимент после изменения только одной незначительной детали. Человеку очень сложно сделать такое, при прочих равных.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cb\u003EВиртуальность\u003C\u002Fb\u003E. Запускайте эксперименты и контролируйте результат на расстоянии.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cb\u003EВыразительность\u003C\u002Fb\u003E. Можно использовать синтаксис программирования для кодирования повторяющихся шагов или логики ветвления. Например, если вы хотите дозировать от 1 до 96 мкл реагента и (96−x)мкл воды в 96-пробирочный планшет, это можно кратко записать.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cb\u003EМашиночитаемые данные\u003C\u002Fb\u003E. Данные с результатами почти всегда возвращаются в формате csv или другом формате, пригодном для машинной обработки.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cb\u003EАбстракция\u003C\u002Fb\u003E. В идеале вы можете запустить весь протокол независимо от используемых реагентов или стиля клонирования и что-то заменить в случае необходимости, если оно работает лучше.\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\nКонечно, есть и некоторые недостатки, тем более, что инструменты только начали развиваться. Если сравнить с интернетом, то мы в районе 1994 года:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EТранспортировка образцов к Transcriptic и назад — тяжёлая работа. Я не уверен, как это лучше организовать, но чем больше вы можете сделать в облачной лаборатории, тем меньше нужно транспортировать. Отчасти поэтому синтетическая биология хорошо подходит для облачных лабораторий, скажем, для диагностики с человеческими образцами.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EУдалённая отладка протоколов сложна и может быть дорогостоящей — особенно попытки различить свои ошибки и баги Transcriptic.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EЕсть много экспериментов, которые вы просто не можете сделать. На момент написания статьи Transcriptic поддерживает только бактериальные эксперименты (без дрожжей, без клеток млекопитающих, хотя они появятся в будущем).\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EДля многих лабораторий может быть дороже использовать облачную лабораторию, чем просто взять аспиранта для выполнения работы (предельные затраты в час: ~$0). Это зависит от того, нужны лаборатории руки аспиранта или его интеллект.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003ETranscriptic ещё не проводит экспериментов в выходные. Их можно понять, но такое бывает неудобно, даже если у вас небольшой проект.\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\n\u003Ch4\u003EСофт для изготовления белков\u003C\u002Fh4\u003E\u003Cbr\u002F\u003E\r\nХотя здесь довольно много кода и довольно много отладки, я думаю, что возможно создать какое-то программное обеспечение, которое принимает на вход последовательность белков, а на выходе создаёт бактерии с экспрессией этого белка.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЧтобы это сработало, должно произойти несколько вещей:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EИстинная интеграция Twist\u002FIDT\u002FGen9 с Transcriptic (вероятно, она будет происходить медленно из-за низкого спроса в настоящее время).\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EОчень надёжные версии протоколов, которые я описал выше, чтобы учесть различия в составе последовательности белков, длине, вторичной структуре и т. д.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EЗамена различных проприетарных инструментов (генератор протоколов Гибсона от NEB, оптимизатор кодонов от IDT) на эквиваленты с открытым исходным кодом (например, \u003Ca href=\"http:\u002F\u002Fbioinfo.ut.ee\u002Fprimer3\u002F\"\u003Eprimer3\u003C\u002Fa\u003E).\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\nВо многих приложениях вы также хотите очистить свой белок (через \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FPolyhistidine-tag\"\u003Eколонку\u003C\u002Fa\u003E) или, возможно, просто заставить бактерии \u003Ca href=\"http:\u002F\u002F2014.igem.org\u002FTeam:Michigan\"\u003Eсекретировать\u003C\u002Fa\u003E его. Предположим, что вскоре мы сможем сделать это в облачной лаборатории или что сможем проводить эксперименты in vivo (т. е. внутри бактериальной клетки).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕсть много возможностей для того, чтобы протокол на самом деле работал лучше человека, например: дизайн промоторов и RBS для оптимизации экспрессии, специфичной для вашей последовательности; статистика вероятности успеха эксперимента на основе сопоставимых экспериментов; автоматизированный анализ гелей.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch4\u003EЗачем всё это?\u003C\u002Fh4\u003E\u003Cbr\u002F\u003E\r\nПосле всего этого может быть не совсем ясно, зачем создавать такой белок. Вот некоторые идеи:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003EСделать \u003Ca href=\"https:\u002F\u002Fnimasensor.com\u002F\"\u003Eдатчик\u003C\u002Fa\u003E для обнаружения чего-то опасного\u002Fнездорового\u002Fвкусного, как глютен.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EСделать \u003Ca href=\"http:\u002F\u002Fwww.the-scientist.com\u002F?articles.view\u002FarticleNo\u002F26908\u002Ftitle\u002FSynthetic-vaccine-nabs-iGEM-prize\u002F\"\u003Eвакцину\u003C\u002Fa\u003E с идентификацией пептидов, уникальных для патогена, и \u003Ca href=\"http:\u002F\u002Fprosperosworld.com\u002Fproblem-solving-technique2012\u002F2012\u002F\"\u003Eхорошенько подумать\u003C\u002Fa\u003E.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EОценить связи белка \u003Ci\u003Ein vivo\u003C\u002Fi\u003E с помощью \u003Ca href=\"http:\u002F\u002Fwww.nature.com\u002Farticles\u002Fsrep02854\"\u003Esplit-GFP\u003C\u002Fa\u003E или \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FTwo-hybrid_screening\"\u003Eсхожих подходов\u003C\u002Fa\u003E.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EСделать \u003Ca href=\"http:\u002F\u002F2014.igem.org\u002FTeam:Michigan\"\u003EscFv\u003C\u002Fa\u003E в качестве датчика для сальмонеллы. Эти scFvs действуют как мини-антитела с \u003Ca href=\"http:\u002F\u002Fwww.ncbi.nlm.nih.gov\u002Fpubmed\u002F22230329\"\u003Eфолдингом внутри бактерии\u003C\u002Fa\u003E.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EСделать \u003Ca href=\"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FBi-specific_T-cell_engager\"\u003EBiTE\u003C\u002Fa\u003E для лечения конкретного вида рака, который вы только что секвенировали (это может быть сложнее, чем кажется).\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EСделать местную вакцину, которая входит в организм \u003Ca href=\"http:\u002F\u002Fblog.booleanbiotech.com\u002Fnaked%20DNA.html\"\u003Eчерез волосяные фолликулы\u003C\u002Fa\u003E (не рекомендую пробовать это дома).\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003EМутагенизировать свой белок сотней разных способов и посмотреть, что получится. Затем масштабировать до 1000 или 10 000 мутаций? Может, охарактеризовать мутации GFP?\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\nДля новых идей того, что возможно при конструировании белков, посмотрите на сотни \u003Ca href=\"http:\u002F\u002Fblog.booleanbiotech.com\u002Fstatic\u002Figem.html\"\u003Eпроектов iGEM\u003C\u002Fa\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ конце хочу выразить благодарность \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002FBenNMiles\"\u003EБену Майлзу\u003C\u002Fa\u003E из Transcriptic за помощь в завершении этого проекта.\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"Transcriptic"},{"titleHtml":"роботизированные лаборатории"},{"titleHtml":"autoprotocol"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F451124\u002F054f588a60a4197a2b6852ff06a08c13\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F451124\u002F054f588a60a4197a2b6852ff06a08c13\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F451124\\\u002F\"},\"headline\":\"Разработка белков в облаке с помощью Python и Transcriptic или Как создать любой белок за $360\",\"datePublished\":\"2019-05-09T16:17:02+03:00\",\"dateModified\":\"2019-05-10T19:31:52+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Анатолий Ализар\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Что, если у вас идея для классного, полезного белка, и вы хотите получить его в реальности? Например, хотите создать вакцину против H.&nbsp;pylori (как словенская ком...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F451124\\\u002F#post-content-body\",\"about\":[\"h_python\",\"h_popular_science\",\"h_biotech\",\"h_DIY\",\"h_futurenow\",\"f_develop\",\"f_popsci\"],\"image\":[\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002Fe9c\\\u002Fdd5\\\u002F691\\\u002Fe9cdd5691f1bab368bb400a8818b6507.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F94e\\\u002F38f\\\u002F0a6\\\u002F94e38f0a6f9ea9af3509a0278242b9b4.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F373\\\u002Fb42\\\u002F050\\\u002F373b42050b870646857266bb3e07c7ed.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002Fe07\\\u002Fbfb\\\u002Fac9\\\u002Fe07bfbac9c53ddb79634b63efc3fc0e7.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Ftb\\\u002Ftm\\\u002F_v\\\u002Ftbtm_vcly3elxlwhbcoknhsjpuo.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F645\\\u002F232\\\u002Fc67\\\u002F645232c67631f484ed6e8b30f6fa91eb.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F734\\\u002F378\\\u002Fb0b\\\u002F734378b0b151d2ed64bbd3ebb6edf0f3.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F66c\\\u002F9ae\\\u002Fd03\\\u002F66c9aed037ae408c6f642433d9a2a130.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F4f3\\\u002F576\\\u002F8f1\\\u002F4f35768f17d5ff5506f7d1aca0b064a0.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F123\\\u002Faac\\\u002Faca\\\u002F123aacacac400c6f96966d2f2caeb918.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F296\\\u002F9da\\\u002Fa41\\\u002F2969daa417296779220366c36c02a0e5.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F8df\\\u002F946\\\u002Fdb5\\\u002F8df946db53b725f89277be267d2e3ab9.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F1f5\\\u002Fd52\\\u002F171\\\u002F1f5d52171cb60c8e8b4cb83f24b0c8c8.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F74a\\\u002Ff5d\\\u002F284\\\u002F74af5d28463dbbd2279353a4651087f6.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F8dc\\\u002F9eb\\\u002F1b8\\\u002F8dc9eb1b85c382df68cc064583512707.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F8f8\\\u002Fb9c\\\u002Fe3c\\\u002F8f8b9ce3cc42de99099976a3c60a9ada.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F32f\\\u002Fa42\\\u002Fde3\\\u002F32fa42de3ad35392ac0bbf7ae6f595b3.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F88e\\\u002Fd2a\\\u002Fa19\\\u002F88ed2aa19537b77b3214e6b36f55fdde.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002Fcf7\\\u002F509\\\u002F629\\\u002Fcf750962951b700c8a9333ea1d747a94.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F951\\\u002F9a6\\\u002Fa57\\\u002F9519a6a578f11d26c3c9a2ddda039539.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F296\\\u002Fc9b\\\u002F7e2\\\u002F296c9b7e28b653015159907b8a2bb59e.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F6ab\\\u002F0d3\\\u002F453\\\u002F6ab0d345359a5b1d15f8f6341f1bee08.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002Fbc4\\\u002Fd2b\\\u002Fc10\\\u002Fbc4d2bc102d423993907a021598257ef.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002Fc8f\\\u002Fee9\\\u002Fb71\\\u002Fc8fee9b710a214fdb7421dbc2d74e1b4.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fpost_images\\\u002F2cb\\\u002F6f1\\\u002F835\\\u002F2cb6f183502e484f66e1f95ba1b44ed7.jpg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002F03\\\u002Fz3\\\u002Fkk\\\u002F03z3kkczqokp7nhgplib_q1bhia.png\"]}","metaDescription":"Что, если у вас идея для классного, полезного белка, и вы хотите получить его в реальности? Например, хотите создать вакцину против H. pylori (как словенская команда на iGEM 2008), создав гибридный...","mainImageUrl":null,"amp":false},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":"python,popular_science,biotech,DIY,futurenow"},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
