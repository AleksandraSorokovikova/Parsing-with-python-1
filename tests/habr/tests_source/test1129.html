<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>UDB. Что же это такое? Часть 8. Адресация UDB / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/452606\/"},"headline":"UDB. Что же это такое? Часть 8. Адресация UDB","datePublished":"2019-05-28T10:12:07+03:00","dateModified":"2019-07-30T12:04:22+03:00","author":{"@type":"Person","name":"Павел Локтев"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Мы завершаем нашу эпопею с переводом фирменной документации Cypress об UDB. Последний выпуск &ndash; про адресацию UDB &ndash; перед вами.   Общее содержание цикла &laquo;UDB. Ч...","url":"https:\/\/habr.com\/ru\/post\/452606\/#post-content-body","about":["h_controllers","f_develop"],"image":["https:\/\/habrastorage.org\/webt\/iz\/qy\/4u\/izqy4uelehcwdfo4bflhrrpyhze.jpeg","https:\/\/habrastorage.org\/webt\/_z\/2v\/qv\/_z2vqvuepoda43mnwkw-nstkpdg.png","https:\/\/habrastorage.org\/webt\/po\/he\/g4\/poheg44zz-voo5ggnlvf-mzpec0.png","https:\/\/habrastorage.org\/webt\/yi\/4w\/ld\/yi4wldidlm_2efrjsxv7_rjfn6o.png","https:\/\/habrastorage.org\/webt\/zn\/wi\/um\/znwiumy4r3nysfoca4ozzv_9swu.png","https:\/\/habrastorage.org\/webt\/qv\/7y\/9t\/qv7y9t4dpuqxrq0yzmrbjprga1q.png","https:\/\/habrastorage.org\/webt\/gz\/sp\/wi\/gzspwipjsd6w69zzfagcra7qyua.png"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="UDB. Что же это такое? Часть 8. Адресация UDB" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="UDB. Что же это такое? Часть 8. Адресация UDB" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="UDB. Что же это такое? Часть 8. Адресация UDB" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Мы завершаем нашу эпопею с переводом фирменной документации Cypress об UDB. Последний выпуск – про адресацию UDB – перед вами. 

Общее содержание цикла «UDB. Что же это такое?»
 Часть 1...." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Мы завершаем нашу эпопею с переводом фирменной документации Cypress об UDB. Последний выпуск – про адресацию UDB – перед вами. 

Общее содержание цикла «UDB. Что же это такое?»
 Часть 1...." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Мы завершаем нашу эпопею с переводом фирменной документации Cypress об UDB. Последний выпуск – про адресацию UDB – перед вами. 

Общее содержание цикла «UDB. Что же это такое?»
 Часть 1...." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Мы завершаем нашу эпопею с переводом фирменной документации Cypress об UDB. Последний выпуск – про адресацию UDB – перед вами. 

Общее содержание цикла «UDB. Что же это такое?»
 Часть 1...." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Мы завершаем нашу эпопею с переводом фирменной документации Cypress об UDB. Последний выпуск – про адресацию UDB – перед вами. 

Общее содержание цикла «UDB. Что же это такое?»
 Часть 1...." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/452606/885c34fce3fbff9342180e636b96fc10/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/452606/885c34fce3fbff9342180e636b96fc10/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/452606/885c34fce3fbff9342180e636b96fc10/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/452606/885c34fce3fbff9342180e636b96fc10/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/452606/885c34fce3fbff9342180e636b96fc10/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="452606" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2019-05-28T07:12:07.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/452606/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/452606/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/452606/885c34fce3fbff9342180e636b96fc10/" data-vmid="image:href"><link data-vue-meta="ssr" rel="amphtml" href="https://habr.com/ru/amp/post/452606/">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/EasyLy/" title="EasyLy" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/r/w32/getpro/habr/avatars/2eb/39b/24c/2eb39b24c4a68d43ad0b0015c5c56aa2.png" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/EasyLy/" class="tm-user-info__username">
      EasyLy
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2019-05-28T07:12:07.000Z" title="2019-05-28, 10:12">28  мая  2019 в 10:12</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>UDB. Что же это такое? Часть 8. Адресация UDB</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/controllers/" class="tm-article-snippet__hubs-item-link"><span>Программирование микроконтроллеров</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <div class="tm-article-snippet__labels"><div class="tm-article-snippet__label"><span>
        Перевод
      </span></div></div> <!----> <!----></div></div> <div class="tm-article-presenter__origin"><a href="http://www.cypress.com/file/123561/download" target="_blank" class="tm-article-presenter__origin-link">
                Автор оригинала:
                <span>
                  Cypress
                </span></a></div> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml"><img src="https://habrastorage.org/r/w780q1/webt/iz/qy/4u/izqy4uelehcwdfo4bflhrrpyhze.jpeg" data-src="https://habrastorage.org/webt/iz/qy/4u/izqy4uelehcwdfo4bflhrrpyhze.jpeg" data-blurred="true"/><br/>
<br/>
Мы завершаем нашу эпопею с переводом фирменной документации Cypress об UDB. Последний выпуск – про адресацию UDB – перед вами. <br/>
<a name="habracut"></a><br/>
Общее содержание цикла «UDB. Что же это такое?»<br/>
<a href="https://habr.com/post/432764/"> Часть 1. Введение. PLD.</a><br/>
<a href="https://habr.com/post/433018/"> Часть 2. Datapath.</a><br/>
<a href="https://habr.com/ru/post/434706/"> Часть 3. Datapath FIFO.</a><br/>
<a href="https://habr.com/ru/post/437096/"> Часть 4. Datapath ALU.</a><br/>
<a href="https://habr.com/ru/post/438818/"> Часть 5. Datapath. Полезные мелочи.</a><br/>
<a href="https://habr.com/ru/post/443380/"> Часть 6. Модуль управления и статуса.</a><br/>
<a href="https://habr.com/ru/post/449108/"> Часть 7. Модуль управления тактированием и сбросом</a><br/>
Часть 8. Адресация UDB. (Текущая статья)<br/>
<br/>
<h2>21.3.5 Адресация UDB (UDB Addressing)</h2><br/>
В паре UDB есть три уникальных адресных пространства:<br/>
<br/>
<ul>
<li>8-битные рабочие регистры – контроллер шины, который имеет доступ только к 8 битам данных за один цикл шины может использовать это адресное пространство для чтения или записи любых рабочих регистров UDB. К ним относятся регистры, с которыми взаимодействуют CPU и DMA во время обычной работы.</li>
<li>16-битные рабочие регистры – 16-битный контроллер шины, например DMA или PSoC 5LP Cortex-M3 могут получать доступ к 16 битам за один цикл шины для обеспечения передачи данных функций, которым требуется 16 бит или больше. Несмотря на то, что это адресное пространство привязано не к той области, к которой привязано 8-битное пространство, оно имеет доступ к тем же регистрам, только к паре одновременно.</li>
<li>8- или 16-битные регистры конфигурации – эти регистры конфигурируют UDB для выполнения функции. После конфигурации регистры обычно устанавливаются в статичное состояние во время работы UDB. Эти регистры сохраняют свое состояние после спящего режима.<br/>
</li>
</ul><br/>
<b><i>Примечание переводчика</i></b><br/>
<i>Как-то всё сложно сформулировано. По-моему, для первых двух пунктов проще ввести понятие методов адресации с различной разрядностью рабочего регистра. Через 8-разрядный и через 16-разрядный рабочие регистры соответственно. Если вы запутались при чтении этих пунктов, попробуйте рассмотреть текст именно в таком ключе. Разные окна в адресном пространстве ЦП, предоставляющие адресацию одного и того же через рабочие регистры разной разрядности. Вот и всё.</i><br/>
<br/>
<h3>21.3.5.1 Адресное пространство рабочего регистра (Working Register Address Space)</h3><br/>
Рабочие регистры используются во время нормальной работы и включают в себя аккумуляторы, регистры данных, FIFO, регистры управления и статуса, регистр наложения маски и регистр вспомогательного управления.<br/>
<br/>
Рисунок 21-43 показывает карту регистров одного UDB. <br/>
<br/>
Справа на рисунке 21-43 находится 16-битный адрес, который всегда чётный. В этом случае номер UDB имеет размерность 5 бит, а не 4, из-за четного расположения адресов. Старшие 4 бита по-прежнему задают номер регистра.<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/_z/2v/qv/_z2vqvuepoda43mnwkw-nstkpdg.png"/> <br/>
<i>Рисунок 21-43. Рабочие регистры UDB.</i><br/>
<br/>
<b>Доступ к 8-битному рабочему регистру (8-Bit Working Register Access)</b><br/>
В этом режиме доступ ко всем регистрам UDB осуществляется через адреса, выравненные по границе байта. В режиме доступа к 8-битным регистрам, как показано на рисунке 21-44, все байты данных, записанные в UDB, выравненные с младшим байтом шины 16-битного UDB.<br/>
<br/>
В этом режиме доступ в любой момент времени можно получать только к одному байту.<br/>
 <br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/po/he/g4/poheg44zz-voo5ggnlvf-mzpec0.png"/><br/>
<i>Рисунок 21-44. Доступ к 8-битному рабочему регистру.</i><br/>
<br/>
<b>Адресное пространство 16-битного рабочего регистра (16-Bit Working Register Address Space)</b><br/>
16-битное адресное пространство, разработанное для эффективного доступа DMA и предоставления программного доступа CPU в процессорах, которые это поддерживают, например, Cortex-M3 в PSoC 5LP. Существует два режима доступа к 16-битным регистрам: режим «по умолчанию» (default) и режим «конкатенации» (concat). Как показано на рисунке 21-45, в режиме по умолчанию обращается к указанному регистру в UDB ‘i’ через младший байт и к тому же регистру в UDB ‘i+1’ через старший байт. Это делает обработку 16-битных данных эффективной в соседних UDB (по порядку адресов), сконфигурированных как 16-битные функции.<br/>
 <br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/yi/4w/ld/yi4wldidlm_2efrjsxv7_rjfn6o.png"/><br/>
<i>Рисунок 21-45. Доступ к 16-битным рабочим регистрам в режиме по умолчанию.</i><br/>
<br/>
В режиме конкатенации, регистры одного UDB объединяются для формирования 16-битных регистров, как показано на рисунке 21-46. В этом режиме 16-битная шина данных массива UDB должна получить доступ к паре регистров в UDB в формате, показанном на рисунке. Например, при обращении к регистру A0 реально произойдёт доступ к A0 через младший байт и к A1 — через старший.<br/>
 <br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/zn/wi/um/znwiumy4r3nysfoca4ozzv_9swu.png"/><br/>
<i>Рисунок 21-46. Доступ к 16-битному рабочему регистру в режиме конкатенации</i><br/>
<br/>
Использование DMA ограничено разрядностью 16-битного рабочего регистра. Его недостаточно при работе с функциями больше 16 бит. Это вызвано адресными наложениями, как показано в <br/>
таблице 21-25.<br/>
<br/>
Таблицы 21-25. Оптимизированное адресное пространство для 16-битных функций UDB.<br/>
<div class="scrollable-table"><table>
<tr>
<th>Адрес</th>
<th>Старший байт записывается в</th>
<th>Младший байт записывается в</th>
</tr>
<tr>
<td>0</td>
<td>UDB1</td>
<td>UDB0</td>
</tr>
<tr>
<td>2</td>
<td>UDB2</td>
<td>UDB1</td>
</tr>
<tr>
<td>4</td>
<td>UDB3</td>
<td>UDB2</td>
</tr>
</table></div><br/>
Когда DMA передает 16 бит на адрес 0, младший и старший байты записываются в UDB0 и UDB1, соответственно. В следующей 16-битной передаче DMA на адрес 2 значение в UDB1 перезаписывается младшим байтом этой передачи.<br/>
<br/>
Чтобы предотвратить проблемы, связанные с такой организацией памяти, рекомендуется для функций, разрядность которых более 16 бит, запускать процесс DMA для области с 8-битными рабочими регистрами.<br/>
<br/>
<h3>21.3.5.2 Адресное пространство регистра конфигурации (Configuration Register Address)</h3><br/>
Конфигурация выполняется на уровне пар UDB. Пара UDB состоит из двух UDB и связанного с ними трассировочного канала, как показано на рисунке 21-47.<br/>
 <br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/qv/7y/9t/qv7y9t4dpuqxrq0yzmrbjprga1q.png"/><br/>
Рисунок 21-47. Адресная схема конфигурации пары UDB.<br/>
<br/>
<h3>21.3.5.3 Адресное пространство конфигурации UDB (UDB Configuration Address Space)</h3><br/>
Рисунок 21-48 показывает адресную схему конфигурации конкретной UDB. Как можно заметить, данное пространство конфигурации дублируется на обоих UDB в паре. Всего зарезервировано 128 байт (7 бит адресов) для каждой конфигурации UDB, которые разделены на 16-битные отрезки. Стоит заметить, что 16-битный доступ к нечетным границам не поддерживается. Чтение всегда возвращает 16 бит в конфигурационном пространстве, а ненужный байт можно игнорировать.<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/gz/sp/wi/gzspwipjsd6w69zzfagcra7qyua.png"/> <br/>
Рисунок 21-48. Адресное пространство конфигурации UDB.<br/>
<br/>
<h3>21.3.5.4 Адресное пространство конфигурации трассировки (Routing Configuration Address Space)</h3><br/>
Конфигурация трассировки UDB состоит из встраиваемых бит ОЗУ для управления состоянием переключателями шлюзов, сегментацией и входными/выходными буферами. <br/>
<br/>
<h2>21.3.6 Когерентность доступа системной шины (System Bus Access Coherency)</h2><br/>
Регистры UDB имеют двойной режим доступа:<br/>
<br/>
<ul>
<li>доступ к системной шине, при котором CPU или DMA читает или записывает в регистр UDB;</li>
<li>внутренний доступ UDB, при котором функция UDB обновляет или использует содержимое регистра</li>
</ul>.<br/>
<h3>21.3.6.1 Одновременный доступ к системной шине (Simultaneous System Bus Access)</h3><br/>
Таблица ниже содержит список возможных событий одновременного доступа и требуемое поведение.<br/>
<br/>
Таблица 21-26. Одновременный доступ к системной шине.<br/>
<div class="scrollable-table"><table>
<tr>
<td><b>Регистр</b></td>
<td><b>Запись из UDB<br/>
Запись из шины</b></td>
<td><b>Запись из UDB<br/>
Чтение из шины</b></td>
<td><b>Чтение из UDB<br/>
Запись из шины</b></td>
<td><b>Чтение из UDB<br/>
Чтение из шины</b></td>
</tr>
<tr>
<td>Ax</td>
<td rowspan="2">Неопределенный результат</td>
<td rowspan="2">Недоступно напрямую<sup>а,b</sup></td>
<td rowspan="2">UDB считывает предыдущее значение</td>
<td rowspan="2">Шина и UDB считывают текущее значение</td>
</tr>
<tr>
<td>Dx</td>
</tr>
<tr>
<td>Fx</td>
<td>Не поддерживается (UDB и шина должны иметь разнонаправленный доступ)</td>
<td colspan="2">Если используются флаги статуса FIFO, одновременное чтение/запись</td>
<td>Не поддерживается (UDB и шины должны иметь разнонаправленный доступ)</td>
</tr>
<tr>
<td>ST</td>
<td>Недоступно, шина не записывает</td>
<td>Шина считывает предыдущее значение</td>
<td colspan="2">Недоступно, UDB не считывает</td>
</tr>
<tr>
<td>CTL</td>
<td colspan="2">Недоступно, UDB не записывает</td>
<td rowspan="5">UDB считывает предыдущее значение</td>
<td rowspan="6">Шина и UDB считывают текущее значение</td>
</tr>
<tr>
<td>CNT</td>
<td>Неопределенный результат</td>
<td>Недоступно напрямую<sup>с</sup></td>
</tr>
<tr>
<td>ACTL</td>
<td colspan="2" rowspan="3">Недоступно, UDB не записывает</td>
</tr>
<tr>
<td>MSK</td>
</tr>
<tr>
<td>PER</td>
</tr>
<tr>
<td>MC (RO)</td>
<td>Недоступно, шина не записывает</td>
<td>Недоступно напрямую<sup>d</sup></td>
<td>Недоступно, шина не записывает</td>
</tr>
</table></div><br/>
а. Регистры Ax можно безопасно считывать при помощи функции программного захвата FIFO.<br/>
b. В регистры Dx FIFO могут только динамически записывать. При этом режиме прямое чтение регистров Dx недоступно.<br/>
c. Регистр CNT можно безопасно считывать, только когда он отключен. Альтернативой для динамического чтения значения CNT является трассировка выхода на регистр SC (в прозрачном режиме).<br/>
d. Биты регистра MC могут быть трассированы на входы регистра статуса (в прозрачном режиме) для безопасного чтения.<br/>
<br/>
<h3>21.3.6.2 Когерентный доступ к аккумулятору (Атомарные операции чтения и записи) (Coherent Accumulator Access (Atomic Reads and Writes))</h3><br/>
Аккумуляторы UDB являются первичной целью обработки данных. Следовательно, чтение этих регистров напрямую во время обычной работы дает неопределенный результат, как показано в таблице выше. Однако присутствует встроенная поддержка атомарных чтений в виде программного захвата, реализованного на связанных в цепочку блоках. В такой модели использования, чтение последнего значащего аккумулятора переносит данные со всех блоков, связанных в цепочку на связанные с ними FIFO. Атомарная запись в FIFO может быть реализована программно. Отдельные операции записи могут быть выполнены на входе FIFO, а затем сигнал статуса FIFO, в который была выполнена последняя запись, может быть проброшен на все связанные блоки, в то время как данные FIFO будут переданы на регистры Dx или Ax.<br/>
<br/>
<h3><i>Послесловие от переводчика</i></h3><br/>
<i>Этот цикл переводов был сделан как ответ на комментарий к <a href="https://habr.com/ru/post/429882/">статье</a>, где было предложено сначала кратко рассказать, что такое UDB. Теперь видно, что для краткого ответа надо было бы процитировать хотя бы половину из приведённых здесь материалов, иначе ответ всё равно получился бы неполным. Но теперь все материалы переведены и собраны. Задача выполнена.<br/>
 <br/>
Пока шла работа, мы также обратили внимание ещё на один интересный блок PSoC, который слабо известен кому-либо, но таит в себе огромную мощь. Это DFB, Digital Filter Block. Правда, бросаться в перевод боязно. Из перевода про UDB видно, что одной документации ох как не хватает, нужна практика. Беда в том, что готовых примеров по UDB пусть мало, но они есть. Найти что-то путное из примеров по DFB пока не удалось (сама фирма Cypress сделала цифровой фильтр в виде чёрного ящика, он работает, но как — пока не ясно). Перевод без примеров не будет иметь смысла. Поэтому, пользуясь случаем, обращаем внимание читателей на этот блок. Возможно, кто-то в комментариях даст ссылки на хорошие примеры. Если удастся с этим блоком разобраться, можно будет сделать цикл переводов и практических статей и по нему. А пока у нас всё.</i></div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5BPSoC%5D" class="tm-tags-list__link">PSoC</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%BC%D0%B8%D0%BA%D1%80%D0%BE%D0%BA%D0%BE%D0%BD%D1%82%D1%80%D0%BE%D0%BB%D0%BB%D0%B5%D1%80%D1%8B%5D" class="tm-tags-list__link">микроконтроллеры</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5BUDB%5D" class="tm-tags-list__link">UDB</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/hub/controllers/" class="tm-hubs-list__link">
    Программирование микроконтроллеров
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 6: ↑6 и ↓0</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 6: ↑6 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+6</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">1.4K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    29
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/EasyLy/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/2eb/39b/24c/2eb39b24c4a68d43ad0b0015c5c56aa2.png" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 150 голосов " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    126
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">3</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><span class="tm-user-card__name tm-user-card__name_variant-article">Павел Локтев</span> <a href="/ru/users/EasyLy/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @EasyLy
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">Системное ПО, инструменты для разработчиков</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/452606/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментировать 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <!----> <!----> <!----> <!----> </div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/452606/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/452606/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"452606":{"id":"452606","timePublished":"2019-05-28T07:12:07+00:00","isCorporative":false,"lang":"ru","titleHtml":"UDB. Что же это такое? Часть 8. Адресация UDB","leadData":{"textHtml":"\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fiz\u002Fqy\u002F4u\u002Fizqy4uelehcwdfo4bflhrrpyhze.jpeg\"\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nМы завершаем нашу эпопею с переводом фирменной документации Cypress об UDB. Последний выпуск – про адресацию UDB – перед вами. \u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше →","image":null},"editorVersion":"1.0","postType":"article","postLabels":[{"type":"translation","data":{"originalAuthorName":"Cypress","originalUrl":"http:\u002F\u002Fwww.cypress.com\u002Ffile\u002F123561\u002Fdownload"}}],"author":{"scoreStats":{"score":126,"votesCount":150},"rating":3,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"1145546","alias":"EasyLy","fullname":"Павел Локтев","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F2eb\u002F39b\u002F24c\u002F2eb39b24c4a68d43ad0b0015c5c56aa2.png","speciality":"Системное ПО, инструменты для разработчиков"},"statistics":{"commentsCount":0,"favoritesCount":29,"readingCount":1422,"score":6,"votesCount":6},"hubs":[{"relatedData":null,"id":"19737","alias":"controllers","type":"collective","title":"Программирование микроконтроллеров","titleHtml":"Программирование микроконтроллеров","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fiz\u002Fqy\u002F4u\u002Fizqy4uelehcwdfo4bflhrrpyhze.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fiz\u002Fqy\u002F4u\u002Fizqy4uelehcwdfo4bflhrrpyhze.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМы завершаем нашу эпопею с переводом фирменной документации Cypress об UDB. Последний выпуск – про адресацию UDB – перед вами. \u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\nОбщее содержание цикла «UDB. Что же это такое?»\u003Cbr\u002F\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fpost\u002F432764\u002F\"\u003E Часть 1. Введение. PLD.\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fpost\u002F433018\u002F\"\u003E Часть 2. Datapath.\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F434706\u002F\"\u003E Часть 3. Datapath FIFO.\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F437096\u002F\"\u003E Часть 4. Datapath ALU.\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F438818\u002F\"\u003E Часть 5. Datapath. Полезные мелочи.\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F443380\u002F\"\u003E Часть 6. Модуль управления и статуса.\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F449108\u002F\"\u003E Часть 7. Модуль управления тактированием и сбросом\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\nЧасть 8. Адресация UDB. (Текущая статья)\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003E21.3.5 Адресация UDB (UDB Addressing)\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nВ паре UDB есть три уникальных адресных пространства:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003E8-битные рабочие регистры – контроллер шины, который имеет доступ только к 8 битам данных за один цикл шины может использовать это адресное пространство для чтения или записи любых рабочих регистров UDB. К ним относятся регистры, с которыми взаимодействуют CPU и DMA во время обычной работы.\u003C\u002Fli\u003E\r\n\u003Cli\u003E16-битные рабочие регистры – 16-битный контроллер шины, например DMA или PSoC 5LP Cortex-M3 могут получать доступ к 16 битам за один цикл шины для обеспечения передачи данных функций, которым требуется 16 бит или больше. Несмотря на то, что это адресное пространство привязано не к той области, к которой привязано 8-битное пространство, оно имеет доступ к тем же регистрам, только к паре одновременно.\u003C\u002Fli\u003E\r\n\u003Cli\u003E8- или 16-битные регистры конфигурации – эти регистры конфигурируют UDB для выполнения функции. После конфигурации регистры обычно устанавливаются в статичное состояние во время работы UDB. Эти регистры сохраняют свое состояние после спящего режима.\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E\u003Cbr\u002F\u003E\r\n\u003Cb\u003E\u003Ci\u003EПримечание переводчика\u003C\u002Fi\u003E\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003EКак-то всё сложно сформулировано. По-моему, для первых двух пунктов проще ввести понятие методов адресации с различной разрядностью рабочего регистра. Через 8-разрядный и через 16-разрядный рабочие регистры соответственно. Если вы запутались при чтении этих пунктов, попробуйте рассмотреть текст именно в таком ключе. Разные окна в адресном пространстве ЦП, предоставляющие адресацию одного и того же через рабочие регистры разной разрядности. Вот и всё.\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003E21.3.5.1 Адресное пространство рабочего регистра (Working Register Address Space)\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nРабочие регистры используются во время нормальной работы и включают в себя аккумуляторы, регистры данных, FIFO, регистры управления и статуса, регистр наложения маски и регистр вспомогательного управления.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРисунок 21-43 показывает карту регистров одного UDB. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСправа на рисунке 21-43 находится 16-битный адрес, который всегда чётный. В этом случае номер UDB имеет размерность 5 бит, а не 4, из-за четного расположения адресов. Старшие 4 бита по-прежнему задают номер регистра.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F_z\u002F2v\u002Fqv\u002F_z2vqvuepoda43mnwkw-nstkpdg.png\"\u002F\u003E \u003Cbr\u002F\u003E\r\n\u003Ci\u003EРисунок 21-43. Рабочие регистры UDB.\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EДоступ к 8-битному рабочему регистру (8-Bit Working Register Access)\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\nВ этом режиме доступ ко всем регистрам UDB осуществляется через адреса, выравненные по границе байта. В режиме доступа к 8-битным регистрам, как показано на рисунке 21-44, все байты данных, записанные в UDB, выравненные с младшим байтом шины 16-битного UDB.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ этом режиме доступ в любой момент времени можно получать только к одному байту.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fpo\u002Fhe\u002Fg4\u002Fpoheg44zz-voo5ggnlvf-mzpec0.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003EРисунок 21-44. Доступ к 8-битному рабочему регистру.\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003EАдресное пространство 16-битного рабочего регистра (16-Bit Working Register Address Space)\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\n16-битное адресное пространство, разработанное для эффективного доступа DMA и предоставления программного доступа CPU в процессорах, которые это поддерживают, например, Cortex-M3 в PSoC 5LP. Существует два режима доступа к 16-битным регистрам: режим «по умолчанию» (default) и режим «конкатенации» (concat). Как показано на рисунке 21-45, в режиме по умолчанию обращается к указанному регистру в UDB ‘i’ через младший байт и к тому же регистру в UDB ‘i+1’ через старший байт. Это делает обработку 16-битных данных эффективной в соседних UDB (по порядку адресов), сконфигурированных как 16-битные функции.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fyi\u002F4w\u002Fld\u002Fyi4wldidlm_2efrjsxv7_rjfn6o.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003EРисунок 21-45. Доступ к 16-битным рабочим регистрам в режиме по умолчанию.\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ режиме конкатенации, регистры одного UDB объединяются для формирования 16-битных регистров, как показано на рисунке 21-46. В этом режиме 16-битная шина данных массива UDB должна получить доступ к паре регистров в UDB в формате, показанном на рисунке. Например, при обращении к регистру A0 реально произойдёт доступ к A0 через младший байт и к A1 — через старший.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fzn\u002Fwi\u002Fum\u002Fznwiumy4r3nysfoca4ozzv_9swu.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003EРисунок 21-46. Доступ к 16-битному рабочему регистру в режиме конкатенации\u003C\u002Fi\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИспользование DMA ограничено разрядностью 16-битного рабочего регистра. Его недостаточно при работе с функциями больше 16 бит. Это вызвано адресными наложениями, как показано в \u003Cbr\u002F\u003E\r\nтаблице 21-25.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТаблицы 21-25. Оптимизированное адресное пространство для 16-битных функций UDB.\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"scrollable-table\"\u003E\u003Ctable\u003E\r\n\u003Ctr\u003E\r\n\u003Cth\u003EАдрес\u003C\u002Fth\u003E\r\n\u003Cth\u003EСтарший байт записывается в\u003C\u002Fth\u003E\r\n\u003Cth\u003EМладший байт записывается в\u003C\u002Fth\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E0\u003C\u002Ftd\u003E\r\n\u003Ctd\u003EUDB1\u003C\u002Ftd\u003E\r\n\u003Ctd\u003EUDB0\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E2\u003C\u002Ftd\u003E\r\n\u003Ctd\u003EUDB2\u003C\u002Ftd\u003E\r\n\u003Ctd\u003EUDB1\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E4\u003C\u002Ftd\u003E\r\n\u003Ctd\u003EUDB3\u003C\u002Ftd\u003E\r\n\u003Ctd\u003EUDB2\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003C\u002Ftable\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nКогда DMA передает 16 бит на адрес 0, младший и старший байты записываются в UDB0 и UDB1, соответственно. В следующей 16-битной передаче DMA на адрес 2 значение в UDB1 перезаписывается младшим байтом этой передачи.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЧтобы предотвратить проблемы, связанные с такой организацией памяти, рекомендуется для функций, разрядность которых более 16 бит, запускать процесс DMA для области с 8-битными рабочими регистрами.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003E21.3.5.2 Адресное пространство регистра конфигурации (Configuration Register Address)\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nКонфигурация выполняется на уровне пар UDB. Пара UDB состоит из двух UDB и связанного с ними трассировочного канала, как показано на рисунке 21-47.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fqv\u002F7y\u002F9t\u002Fqv7y9t4dpuqxrq0yzmrbjprga1q.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\nРисунок 21-47. Адресная схема конфигурации пары UDB.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003E21.3.5.3 Адресное пространство конфигурации UDB (UDB Configuration Address Space)\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nРисунок 21-48 показывает адресную схему конфигурации конкретной UDB. Как можно заметить, данное пространство конфигурации дублируется на обоих UDB в паре. Всего зарезервировано 128 байт (7 бит адресов) для каждой конфигурации UDB, которые разделены на 16-битные отрезки. Стоит заметить, что 16-битный доступ к нечетным границам не поддерживается. Чтение всегда возвращает 16 бит в конфигурационном пространстве, а ненужный байт можно игнорировать.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fgz\u002Fsp\u002Fwi\u002Fgzspwipjsd6w69zzfagcra7qyua.png\"\u002F\u003E \u003Cbr\u002F\u003E\r\nРисунок 21-48. Адресное пространство конфигурации UDB.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003E21.3.5.4 Адресное пространство конфигурации трассировки (Routing Configuration Address Space)\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nКонфигурация трассировки UDB состоит из встраиваемых бит ОЗУ для управления состоянием переключателями шлюзов, сегментацией и входными\u002Fвыходными буферами. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch2\u003E21.3.6 Когерентность доступа системной шины (System Bus Access Coherency)\u003C\u002Fh2\u003E\u003Cbr\u002F\u003E\r\nРегистры UDB имеют двойной режим доступа:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cul\u003E\r\n\u003Cli\u003Eдоступ к системной шине, при котором CPU или DMA читает или записывает в регистр UDB;\u003C\u002Fli\u003E\r\n\u003Cli\u003Eвнутренний доступ UDB, при котором функция UDB обновляет или использует содержимое регистра\u003C\u002Fli\u003E\r\n\u003C\u002Ful\u003E.\u003Cbr\u002F\u003E\r\n\u003Ch3\u003E21.3.6.1 Одновременный доступ к системной шине (Simultaneous System Bus Access)\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nТаблица ниже содержит список возможных событий одновременного доступа и требуемое поведение.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТаблица 21-26. Одновременный доступ к системной шине.\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"scrollable-table\"\u003E\u003Ctable\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003E\u003Cb\u003EРегистр\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E\u003Cb\u003EЗапись из UDB\u003Cbr\u002F\u003E\r\nЗапись из шины\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E\u003Cb\u003EЗапись из UDB\u003Cbr\u002F\u003E\r\nЧтение из шины\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E\u003Cb\u003EЧтение из UDB\u003Cbr\u002F\u003E\r\nЗапись из шины\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E\u003Cb\u003EЧтение из UDB\u003Cbr\u002F\u003E\r\nЧтение из шины\u003C\u002Fb\u003E\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003EAx\u003C\u002Ftd\u003E\r\n\u003Ctd rowspan=\"2\"\u003EНеопределенный результат\u003C\u002Ftd\u003E\r\n\u003Ctd rowspan=\"2\"\u003EНедоступно напрямую\u003Csup\u003Eа,b\u003C\u002Fsup\u003E\u003C\u002Ftd\u003E\r\n\u003Ctd rowspan=\"2\"\u003EUDB считывает предыдущее значение\u003C\u002Ftd\u003E\r\n\u003Ctd rowspan=\"2\"\u003EШина и UDB считывают текущее значение\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003EDx\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003EFx\u003C\u002Ftd\u003E\r\n\u003Ctd\u003EНе поддерживается (UDB и шина должны иметь разнонаправленный доступ)\u003C\u002Ftd\u003E\r\n\u003Ctd colspan=\"2\"\u003EЕсли используются флаги статуса FIFO, одновременное чтение\u002Fзапись\u003C\u002Ftd\u003E\r\n\u003Ctd\u003EНе поддерживается (UDB и шины должны иметь разнонаправленный доступ)\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003EST\u003C\u002Ftd\u003E\r\n\u003Ctd\u003EНедоступно, шина не записывает\u003C\u002Ftd\u003E\r\n\u003Ctd\u003EШина считывает предыдущее значение\u003C\u002Ftd\u003E\r\n\u003Ctd colspan=\"2\"\u003EНедоступно, UDB не считывает\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003ECTL\u003C\u002Ftd\u003E\r\n\u003Ctd colspan=\"2\"\u003EНедоступно, UDB не записывает\u003C\u002Ftd\u003E\r\n\u003Ctd rowspan=\"5\"\u003EUDB считывает предыдущее значение\u003C\u002Ftd\u003E\r\n\u003Ctd rowspan=\"6\"\u003EШина и UDB считывают текущее значение\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003ECNT\u003C\u002Ftd\u003E\r\n\u003Ctd\u003EНеопределенный результат\u003C\u002Ftd\u003E\r\n\u003Ctd\u003EНедоступно напрямую\u003Csup\u003Eс\u003C\u002Fsup\u003E\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003EACTL\u003C\u002Ftd\u003E\r\n\u003Ctd colspan=\"2\" rowspan=\"3\"\u003EНедоступно, UDB не записывает\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003EMSK\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003EPER\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003EMC (RO)\u003C\u002Ftd\u003E\r\n\u003Ctd\u003EНедоступно, шина не записывает\u003C\u002Ftd\u003E\r\n\u003Ctd\u003EНедоступно напрямую\u003Csup\u003Ed\u003C\u002Fsup\u003E\u003C\u002Ftd\u003E\r\n\u003Ctd\u003EНедоступно, шина не записывает\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003C\u002Ftable\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nа. Регистры Ax можно безопасно считывать при помощи функции программного захвата FIFO.\u003Cbr\u002F\u003E\r\nb. В регистры Dx FIFO могут только динамически записывать. При этом режиме прямое чтение регистров Dx недоступно.\u003Cbr\u002F\u003E\r\nc. Регистр CNT можно безопасно считывать, только когда он отключен. Альтернативой для динамического чтения значения CNT является трассировка выхода на регистр SC (в прозрачном режиме).\u003Cbr\u002F\u003E\r\nd. Биты регистра MC могут быть трассированы на входы регистра статуса (в прозрачном режиме) для безопасного чтения.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003E21.3.6.2 Когерентный доступ к аккумулятору (Атомарные операции чтения и записи) (Coherent Accumulator Access (Atomic Reads and Writes))\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nАккумуляторы UDB являются первичной целью обработки данных. Следовательно, чтение этих регистров напрямую во время обычной работы дает неопределенный результат, как показано в таблице выше. Однако присутствует встроенная поддержка атомарных чтений в виде программного захвата, реализованного на связанных в цепочку блоках. В такой модели использования, чтение последнего значащего аккумулятора переносит данные со всех блоков, связанных в цепочку на связанные с ними FIFO. Атомарная запись в FIFO может быть реализована программно. Отдельные операции записи могут быть выполнены на входе FIFO, а затем сигнал статуса FIFO, в который была выполнена последняя запись, может быть проброшен на все связанные блоки, в то время как данные FIFO будут переданы на регистры Dx или Ax.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003E\u003Ci\u003EПослесловие от переводчика\u003C\u002Fi\u003E\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\n\u003Ci\u003EЭтот цикл переводов был сделан как ответ на комментарий к \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F429882\u002F\"\u003Eстатье\u003C\u002Fa\u003E, где было предложено сначала кратко рассказать, что такое UDB. Теперь видно, что для краткого ответа надо было бы процитировать хотя бы половину из приведённых здесь материалов, иначе ответ всё равно получился бы неполным. Но теперь все материалы переведены и собраны. Задача выполнена.\u003Cbr\u002F\u003E\r\n \u003Cbr\u002F\u003E\r\nПока шла работа, мы также обратили внимание ещё на один интересный блок PSoC, который слабо известен кому-либо, но таит в себе огромную мощь. Это DFB, Digital Filter Block. Правда, бросаться в перевод боязно. Из перевода про UDB видно, что одной документации ох как не хватает, нужна практика. Беда в том, что готовых примеров по UDB пусть мало, но они есть. Найти что-то путное из примеров по DFB пока не удалось (сама фирма Cypress сделала цифровой фильтр в виде чёрного ящика, он работает, но как — пока не ясно). Перевод без примеров не будет иметь смысла. Поэтому, пользуясь случаем, обращаем внимание читателей на этот блок. Возможно, кто-то в комментариях даст ссылки на хорошие примеры. Если удастся с этим блоком разобраться, можно будет сделать цикл переводов и практических статей и по нему. А пока у нас всё.\u003C\u002Fi\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"PSoC"},{"titleHtml":"микроконтроллеры"},{"titleHtml":"UDB"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F452606\u002F885c34fce3fbff9342180e636b96fc10\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F452606\u002F885c34fce3fbff9342180e636b96fc10\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F452606\\\u002F\"},\"headline\":\"UDB. Что же это такое? Часть 8. Адресация UDB\",\"datePublished\":\"2019-05-28T10:12:07+03:00\",\"dateModified\":\"2019-07-30T12:04:22+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Павел Локтев\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Мы завершаем нашу эпопею с переводом фирменной документации Cypress об UDB. Последний выпуск &ndash; про адресацию UDB &ndash; перед вами.   Общее содержание цикла &laquo;UDB. Ч...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F452606\\\u002F#post-content-body\",\"about\":[\"h_controllers\",\"f_develop\"],\"image\":[\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fiz\\\u002Fqy\\\u002F4u\\\u002Fizqy4uelehcwdfo4bflhrrpyhze.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002F_z\\\u002F2v\\\u002Fqv\\\u002F_z2vqvuepoda43mnwkw-nstkpdg.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fpo\\\u002Fhe\\\u002Fg4\\\u002Fpoheg44zz-voo5ggnlvf-mzpec0.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fyi\\\u002F4w\\\u002Fld\\\u002Fyi4wldidlm_2efrjsxv7_rjfn6o.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fzn\\\u002Fwi\\\u002Fum\\\u002Fznwiumy4r3nysfoca4ozzv_9swu.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fqv\\\u002F7y\\\u002F9t\\\u002Fqv7y9t4dpuqxrq0yzmrbjprga1q.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fgz\\\u002Fsp\\\u002Fwi\\\u002Fgzspwipjsd6w69zzfagcra7qyua.png\"]}","metaDescription":"Мы завершаем нашу эпопею с переводом фирменной документации Cypress об UDB. Последний выпуск – про адресацию UDB – перед вами. \r\n\r\nОбщее содержание цикла «UDB. Что же это такое?»\r\n Часть 1....","mainImageUrl":null,"amp":true},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":"controllers"},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
