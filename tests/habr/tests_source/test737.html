<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Довольно вычурные «Начала» Евклида в TeX-е / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/451682\/"},"headline":"Довольно вычурные «Начала» Евклида в TeX-е","datePublished":"2019-05-16T00:20:19+03:00","dateModified":"2019-05-25T11:11:08+03:00","author":{"@type":"Person","name":"jemmybutton"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"&laquo;какая-то странная антикварная х██ня, написанная ирландским кулибиным в 1847 ну, хорошо, что и такая бывает, конечно&raquo; Миша Вербицкий  В 16-м году мне на глаза...","url":"https:\/\/habr.com\/ru\/post\/451682\/#post-content-body","about":["h_latex","f_develop"],"image":["https:\/\/habrastorage.org\/webt\/b9\/xj\/sq\/b9xjsqwlk_6vlrkagvbpb2yfej0.jpeg","https:\/\/habrastorage.org\/webt\/bt\/d1\/vz\/btd1vz7zw34dp1uyd8met_b87q0.jpeg","https:\/\/habrastorage.org\/webt\/ju\/ub\/u7\/juubu7bnipox8simoy8i971stus.png","https:\/\/habrastorage.org\/webt\/ez\/fg\/uv\/ezfguvegpy6qw7rliclzmhhgh1q.png","https:\/\/habrastorage.org\/webt\/hl\/6p\/uf\/hl6pufc9f-0syxk8q3amrur1xze.png","https:\/\/habrastorage.org\/webt\/27\/iv\/6k\/27iv6kwqw5bj369z5cmzzv3cm0i.png","https:\/\/habrastorage.org\/getpro\/habr\/formulas\/cae\/99b\/4d1\/cae99b4d146d1158f3eccd2c13f5e8dd.svg","https:\/\/habrastorage.org\/webt\/xn\/vq\/0a\/xnvq0awkzqfidnukagrvxmozusu.gif","https:\/\/habrastorage.org\/webt\/82\/kc\/hm\/82kchmpkrh6zbsku_jt21yf_qz8.gif","https:\/\/habrastorage.org\/getpro\/habr\/formulas\/3eb\/f9d\/67b\/3ebf9d67b2565964479183ccb4f6a863.svg","https:\/\/habrastorage.org\/getpro\/habr\/formulas\/c93\/085\/747\/c9308574760a8a9177146138b5610d9c.svg","https:\/\/habrastorage.org\/getpro\/habr\/formulas\/a5a\/4e0\/afa\/a5a4e0afaec84939dbfda220172b2be0.svg","https:\/\/habrastorage.org\/getpro\/habr\/formulas\/30f\/b68\/14e\/30fb6814eea0091044df0e5de33dfbc2.svg","https:\/\/habrastorage.org\/getpro\/habr\/formulas\/372\/e18\/546\/372e18546a3b7abb94c2672708bc5dfe.svg","https:\/\/habrastorage.org\/getpro\/habr\/formulas\/013\/738\/513\/01373851384108fcef30b04dae7f96f3.svg","https:\/\/habrastorage.org\/getpro\/habr\/formulas\/9c2\/cc0\/588\/9c2cc05882ab3631aa26556fc5693b7f.svg","https:\/\/habrastorage.org\/getpro\/habr\/formulas\/4f0\/0d4\/d82\/4f00d4d8255955ce3a3052a4eee5899c.svg","https:\/\/habrastorage.org\/getpro\/habr\/formulas\/aab\/517\/393\/aab51739374a54e898540b8c0255c4c5.svg","https:\/\/habrastorage.org\/getpro\/habr\/formulas\/2e8\/3d4\/84a\/2e83d484a96446ab4fa2a66f02b98c90.svg","https:\/\/habrastorage.org\/getpro\/habr\/formulas\/ede\/803\/a2c\/ede803a2c277b90d830abe72b3802a34.svg","https:\/\/habrastorage.org\/getpro\/habr\/formulas\/4af\/69c\/748\/4af69c748ab3742db1b584b6bd6dc48e.svg","https:\/\/habrastorage.org\/getpro\/habr\/formulas\/0b5\/82c\/82a\/0b582c82aa22fee6681ff9cc4f772e20.svg","https:\/\/habrastorage.org\/getpro\/habr\/formulas\/84b\/185\/f95\/84b185f95448495c4a000cf5686adfa0.svg","https:\/\/habrastorage.org\/webt\/bs\/dc\/ez\/bsdcez--c23k6zz-5espheo1gpq.png","https:\/\/habrastorage.org\/webt\/zn\/zt\/e0\/znzte030dz5iik2fb0ltt5afhue.gif","https:\/\/habrastorage.org\/webt\/lk\/if\/en\/lkifenehn0rvy0myliwn0zxf5nc.jpeg","https:\/\/habrastorage.org\/webt\/lu\/gy\/6o\/lugy6ofh977hz8yibvqht-xuec0.gif","https:\/\/habrastorage.org\/webt\/5a\/ee\/1j\/5aee1jei7ok-d82p8by0ytr6sbw.jpeg","https:\/\/habrastorage.org\/webt\/bk\/9p\/ku\/bk9pku5d9p4dp__o2qs2fepjmdi.jpeg","https:\/\/habrastorage.org\/webt\/qi\/td\/cs\/qitdcs3zeb0nja5ifual2bc3xg4.gif","https:\/\/habrastorage.org\/webt\/mf\/wz\/ph\/mfwzphlyl3wubidktj_qflccg_e.jpeg"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Довольно вычурные «Начала» Евклида в TeX-е" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Довольно вычурные «Начала» Евклида в TeX-е" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Довольно вычурные «Начала» Евклида в TeX-е" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="«какая-то странная антикварная х██ня, написанная ирландским кулибиным в 1847 ну, хорошо, что и такая бывает, конечно» Миша Вербицкий

В 16-м году мне на глаза попались «Начала» Евклида в..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="«какая-то странная антикварная х██ня, написанная ирландским кулибиным в 1847 ну, хорошо, что и такая бывает, конечно» Миша Вербицкий

В 16-м году мне на глаза попались «Начала» Евклида в..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="«какая-то странная антикварная х██ня, написанная ирландским кулибиным в 1847 ну, хорошо, что и такая бывает, конечно» Миша Вербицкий

В 16-м году мне на глаза попались «Начала» Евклида в..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="«какая-то странная антикварная х██ня, написанная ирландским кулибиным в 1847 ну, хорошо, что и такая бывает, конечно» Миша Вербицкий

В 16-м году мне на глаза попались «Начала» Евклида в..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="«какая-то странная антикварная х██ня, написанная ирландским кулибиным в 1847 ну, хорошо, что и такая бывает, конечно» Миша Вербицкий

В 16-м году мне на глаза попались «Начала» Евклида в..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/451682/8958578859d2ab2bcf7bb6a86918698c/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/451682/8958578859d2ab2bcf7bb6a86918698c/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/451682/8958578859d2ab2bcf7bb6a86918698c/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/451682/8958578859d2ab2bcf7bb6a86918698c/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/451682/8958578859d2ab2bcf7bb6a86918698c/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="451682" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2019-05-15T21:20:19.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/451682/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/451682/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/451682/8958578859d2ab2bcf7bb6a86918698c/" data-vmid="image:href">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/jemmybutton/" title="jemmybutton" class="tm-user-info__userpic"><div class="tm-entity-image"><svg height="24" width="24" class="tm-svg-img tm-image-placeholder tm-image-placeholder_lilac"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <span class="tm-user-info__user"><a href="/ru/users/jemmybutton/" class="tm-user-info__username">
      jemmybutton
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2019-05-15T21:20:19.000Z" title="2019-05-16, 00:20">16  мая  2019 в 00:20</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Довольно вычурные «Начала» Евклида в TeX-е</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/latex/" class="tm-article-snippet__hubs-item-link"><span>LaTeX</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml"><img src="https://habrastorage.org/r/w780q1/webt/b9/xj/sq/b9xjsqwlk_6vlrkagvbpb2yfej0.jpeg" data-src="https://habrastorage.org/webt/b9/xj/sq/b9xjsqwlk_6vlrkagvbpb2yfej0.jpeg" data-blurred="true"/><br/>
<br/>
<i>«какая-то странная антикварная х██ня, написанная ирландским кулибиным в 1847 ну, хорошо, что и такая бывает, конечно»</i> <a href="http://lj.rossia.org/users/tiphareth/1761692.html?thread=107181212#t107181212">Миша Вербицкий</a><br/>
<br/>
В 16-м году мне на глаза попались «Начала» Евклида в <a href="https://archive.org/details/firstsixbooksofe00byrn/">интерпретации</a> Оливера Бирна. Фишка этой книги в том, что вместо буквенных обозначений навроде «треугольник ABC» там прямо в текст помещаются миниатюры частей построения, то есть, например, картинка с соответствующим треугольником. Насколько сделать такую книгу, как можно представить, было адовой работой в середине XIX века, настолько же легко, с правильными инструментами, это должно бы быть теперь. И, в общем, решил я в этом убедиться наверняка.<br/>
<a name="habracut"></a><br/>
<img src="https://habrastorage.org/r/w780q1/webt/bt/d1/vz/btd1vz7zw34dp1uyd8met_b87q0.jpeg" data-src="https://habrastorage.org/webt/bt/d1/vz/btd1vz7zw34dp1uyd8met_b87q0.jpeg" data-blurred="true"/><br/>
<br/>
Вариант попросту отрисовать в иллюстраторе иллюстрации и сверстать в индизайне верстку был быстро отметен как упаднический. Геометрические построения делать и редактировать в иллюстраторе не сказать чтобы страшно удобно, а красивого способа автоматически связать миниатюры с основным построением мне и вовсе в голову не пришло. Индизайн, хоть и хорошо подходит для такого рода верстки, обещал удручать видом панели ссылок при таком количестве картинок. Так что, ничтоже сумняшеся, я обратился к уже знакомому мне MetaPost-у, в котором геометрические построения делать довольно легко (но не как в геогебре, конечно) и латеху, в котором относительно понятно, как всё сверстать. Латех, правда, из-за непоняток с библиотеками для метапоста был заменен ConTeXt-ом, который хорошо ладит с метапостом прямо из коробки.<br/>
<br/>
<h3>Как это работает в целом</h3><br/>
«Начал» вообще 13 частей — книг, но Бирн обработал только первые 6. Книги в основном состоят из «предложений» — теорем и задач. Каждое сделано из построения (чаще одного) и текста, который на это построение ссылается.<br/>
<br/>
Для описания построений я завел в ConTeXt-е макрос, который создает новый инстанс метапоста. В метапосте же — всякие функции для описания построений. Выглядит это следующим образом:<br/>
<br/>
<pre><code class="tex">\defineNewPicture{ % Внутри этой штуки описывается построение
    pair A, B, C, D; % В метапосте есть тип переменных для координат
    numeric d;
    d := 2u;
    A := (0, 0);                %
    B := A shifted (d, 0);      % Здесь задаются координаты точек
    C := A shifted (0, -d);     %
    D := A shifted (d, -d);     %
    byAngleDefine(B, A, C, byblack, 0);     % Здесь описываются углы
    byAngleDefine(D, B, A, byblue, 0);      % сначала точки,
    byAngleDefine(C, D, B, byred, 0);       % потом цвет,
    byAngleDefine(A, C, D, byyellow, 0);    % потом стиль
    draw byNamedAngleResized();     % Эта штука рисует все углы
    byLineDefine(A, B, byred, 0, 0);        % Здесь описываются отрезки
    byLineDefine(B, D, byyellow, 0, 0);     % сначала концы,
    byLineDefine(D, C, byblack, 0, 0);      % потом цвет, потом стиль
    byLineDefine(C, A, byblue, 0, 0);       % потом толщина
    draw byNamedLineSeq(0)(AB,BD,DC,CA);    % Здесь рисуется цепочка отрезков
}
\drawCurrentPicture % Эта штука выводит получившуюся картинку
</code></pre><br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/ju/ub/u7/juubu7bnipox8simoy8i971stus.png"/><br/>
<br/>
Для текстов предложений написал макросы, которые рисуют и выводят картинки в том же инстансе, что и основное построение. Они выполняют, в общем случае, произвольный метапост-код, но чаще всего принимают в качестве аргументов имена нужных элементов — углов, отрезков и пр. Например, так:<br/>
<br/>
<pre><code class="tex">% Имена отрезкам даются автоматически, но можно назначить и вручную
Draw $\drawUnitLine{CA} \perp \mbox{ and } = \drawUnitLine{DC}$.\\
Draw $\drawUnitLine{AB} \parallel \drawUnitLine{DC}$,\\
and meeting \drawUnitLine{BD} drawn $\parallel \drawUnitLine{CA}$.
</code></pre><br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/ez/fg/uv/ezfguvegpy6qw7rliclzmhhgh1q.png"/><br/>
<br/>
Вот как то и другое работает вместе:<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/hl/6p/uf/hl6pufc9f-0syxk8q3amrur1xze.png"/><br/>
<br/>
<h3>Кое-какие фичи</h3><br/>
Картинки в книге незатейливые, но некоторые вещи потребовали особого внимания.<br/>
<br/>
Если отрезки касаются друг друга концами, это надо как-то симпатично обставить. Сейчас особо обрабатываются соединения только двух отрезков, остальные можно класть под такое соединение. В оригинале встречается минимум два способа соединения линий, но воспроизводить их мне показалось излишним.<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/27/iv/6k/27iv6kwqw5bj369z5cmzzv3cm0i.png"/><br/>
<br/>
Углы изображаются с помощью секторов. Если угол достаточно маленький, то при одинаковом радиусе сектор будет выглядеть слишком куцым, и есть смысл его увеличить. Сейчас радиус остается постоянным при углах от 60 градусов, а для меньших углов формула такая: <img src="https://habrastorage.org/getpro/habr/formulas/cae/99b/4d1/cae99b4d146d1158f3eccd2c13f5e8dd.svg" alt="$r/\sqrt{a/60}$" data-tex="inline"/>.<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/xn/vq/0a/xnvq0awkzqfidnukagrvxmozusu.gif"/><br/>
<br/>
Штриховые линии, чтобы было красиво, должны начинаться и оканчиваться залитыми частями, так что штриховка слегка масштабируется, чтобы влезать целое число раз в отрезок (подобная штука есть в иллюстраторе, но там в начале и в конце линии получаются штрихи половинной длины).<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/82/kc/hm/82kchmpkrh6zbsku_jt21yf_qz8.gif"/><br/>
<br/>
Отображать отрезки в тексте можно по-разному: можно делать их все одной длины, меняя только цвет, а можно воспроизводить так или иначе и длину. У Бирна встречается и так и эдак. У меня для этого такая формула: <img src="https://habrastorage.org/getpro/habr/formulas/3eb/f9d/67b/3ebf9d67b2565964479183ccb4f6a863.svg" alt="$L'=L^{a}l^{1-a}$" data-tex="inline"/>, где <img src="https://habrastorage.org/getpro/habr/formulas/c93/085/747/c9308574760a8a9177146138b5610d9c.svg" alt="$L'$" data-tex="inline"/> — длина отрезка в тексте, <img src="https://habrastorage.org/getpro/habr/formulas/a5a/4e0/afa/a5a4e0afaec84939dbfda220172b2be0.svg" alt="$L$" data-tex="inline"/> — длина исходного отрезка, <img src="https://habrastorage.org/getpro/habr/formulas/30f/b68/14e/30fb6814eea0091044df0e5de33dfbc2.svg" alt="$l$" data-tex="inline"/> — желаемая длина отрезка и <img src="https://habrastorage.org/getpro/habr/formulas/372/e18/546/372e18546a3b7abb94c2672708bc5dfe.svg" alt="$a$" data-tex="inline"/> — некое число от 0 до 1. Если <img src="https://habrastorage.org/getpro/habr/formulas/013/738/513/01373851384108fcef30b04dae7f96f3.svg" alt="$a=0$" data-tex="inline"/>, то <img src="https://habrastorage.org/getpro/habr/formulas/9c2/cc0/588/9c2cc05882ab3631aa26556fc5693b7f.svg" alt="$L' = l$" data-tex="inline"/>, то есть любой отрезок будет изображен с длиной <img src="https://habrastorage.org/getpro/habr/formulas/30f/b68/14e/30fb6814eea0091044df0e5de33dfbc2.svg" alt="$l$" data-tex="inline"/>. Если <img src="https://habrastorage.org/getpro/habr/formulas/4f0/0d4/d82/4f00d4d8255955ce3a3052a4eee5899c.svg" alt="$a=1$" data-tex="inline"/>, <img src="https://habrastorage.org/getpro/habr/formulas/aab/517/393/aab51739374a54e898540b8c0255c4c5.svg" alt="$L' = L$" data-tex="inline"/>. Если <img src="https://habrastorage.org/getpro/habr/formulas/2e8/3d4/84a/2e83d484a96446ab4fa2a66f02b98c90.svg" alt="$0&lt;a&lt;1$" data-tex="inline"/>, то при <img src="https://habrastorage.org/getpro/habr/formulas/ede/803/a2c/ede803a2c277b90d830abe72b3802a34.svg" alt="$L&lt;l$" data-tex="inline"/>, <img src="https://habrastorage.org/getpro/habr/formulas/4af/69c/748/4af69c748ab3742db1b584b6bd6dc48e.svg" alt="$L'>L$" data-tex="inline"/> и при <img src="https://habrastorage.org/getpro/habr/formulas/0b5/82c/82a/0b582c82aa22fee6681ff9cc4f772e20.svg" alt="$L>l$" data-tex="inline"/>, <img src="https://habrastorage.org/getpro/habr/formulas/84b/185/f95/84b185f95448495c4a000cf5686adfa0.svg" alt="$L'&lt;L$" data-tex="inline"/>, то есть короткие отрезки удлиняются, а длинные — укорачиваются. Это нужно, если хочется сохранить относительные размеры отрезков, но не хочется получить отрезки в полмиллиметра рядом с отрезками в два сантиметра. (На самом деле все чуть сложнее, но смысл такой).<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/bs/dc/ez/bsdcez--c23k6zz-5espheo1gpq.png"/><br/>
<br/>
Хотя Бирн и отказался от буквенных обозначений, известный зануда Эдвард Тафти в одной из своих <a href="https://www.edwardtufte.com/tufte/books_ei">книг</a> высказался на этот счет в том духе, что всё у Бирна хорошо, но буковки неплохо бы вернуть. А раз всё равно почти всё автоматически, то и буквочкам место нашлось. По умолчанию точки называются так же, как и переменные, где хранятся их координаты. Метки можно располагать по вершинам многоугольников, или на концах отрезков, или как-нибудь еще. Их, само собой, можно включать и выключать по желанию (верстка при этом, конечно же, ползет).<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/zn/zt/e0/znzte030dz5iik2fb0ltt5afhue.gif"/><br/>
<br/>
Но большая часть кода все-таки посвящена штукам, больше заметным автору/редактору, чем читателю. Это, например, правильное распознавание синонимичных названий углов и отрезков, автоматическая расстановка букв вокруг нескольких многоугольников, автоматическая отрисовка кусков отрезков при некоторых углах в тексте и все такое прочее.<br/>
<br/>
В оригинале есть буквицы и виньетки. С одной стороны, их без особого труда (умственного, по крайней мере) можно было отрисовать, но я решил взяться за более интересную (пусть и безнадежную) задачу — производить буквицы и виньетки со случайным узором автоматически. Во-первых, это просто весело, а во-вторых, перевод на русский (о котором ниже) потребовал бы адаптации исходного стиля буквиц под кириллицу, каковая деятельность в мои планы не входила. Так что при сборке книги создается список всех буквиц и виньеток, и по этому списку отдельный метапост-скрипт рисует (очень неспешно) полный комплект всего этого добра. Буквицы все разные и узоры не повторяются.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/lk/if/en/lkifenehn0rvy0myliwn0zxf5nc.jpeg" data-src="https://habrastorage.org/webt/lk/if/en/lkifenehn0rvy0myliwn0zxf5nc.jpeg" data-blurred="true"/><br/>
<br/>
Принцип простой: на частях литеры и на рамке размещаются завитушки, настолько крупные, насколько возможно. Это происходит несколько раз, и уже нарисованные завитушки включаются в следующие итерации. Затем таким же образом появляются «листья». Форму и свойства разных видов отростков можно менять.<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/lu/gy/6o/lugy6ofh977hz8yibvqht-xuec0.gif"/><br/>
<br/>
Не могу сказать, что вполне доволен результатом, но постепенно совершенствую алгоритм и надеюсь на лучшее (впрочем, можно плюнуть и подсунуть картинки с любыми буквицами вместо сгенерированных). В качестве бонуса скрипт умеет генерить из завитушек случайные тайлы.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/5a/ee/1j/5aee1jei7ok-d82p8by0ytr6sbw.jpeg" data-src="https://habrastorage.org/webt/5a/ee/1j/5aee1jei7ok-d82p8by0ytr6sbw.jpeg" data-blurred="true"/><br/>
<br/>
<h3>Перевод</h3><br/>
Чтобы выловить ошибки, да и вообще, я стал делать перевод на русский. Ориентиром у меня был перевод «Начал» Мордухай-Болтовского, но довольно быстро стало понятно, что Бирн слишком многое поменял в доказательствах, чтобы это сильно помогло. Признаться честно, поначалу перевел я всё совсем спустя рукава, особенно введение, просто чтобы было, и только недавно дошли руки сгладить немного шероховатости.<br/>
<br/>
Если не считать неприятной пятой книги (которая, как оказалось, была оформлена <a href="https://archive.org/details/doctrineproport01byrngoog/page/n32">отдельно</a> от остальных и несколько раньше), было не особенно сложно. Перевод (сам процесс) действительно помог выловить много разных косяков, как моих, так и автора. Скажем, <a href="https://archive.org/details/firstsixbooksofe00byrn/page/227">построение к предложению 9</a> из шестой книги у Бирна не соответствует тексту, отчего доказательство не работает, так что пришлось там всё переделать.<br/>
<br/>
Из курьезов: во введении, где автор нахваливает свой метод, вначале он сослался на Горация, <a href="https://archive.org/details/firstsixbooksofe00byrn/page/n11">приведя</a> его стихи про превосходство зрения над другими чувствами в качестве аргумента. А несколькими страницами позже решил приплести для пущей убедительности еще и «современного поэта», стихи которого также процитировал. На поверку «стихи современного поэта» оказались <a href="https://archive.org/stream/improvementofmin00wattuoft#page/198/mode/2up">другим переводом</a> тех же самых строчек Горация. Тут, конечно, надо было оставить всё как есть и в сноске указать на ошибку автора, но на счастье жена нашла <a href="https://archive.org/stream/pleasuresofimagi00aken#page/50/mode/2up">подходящие стихи</a> английского и действительно намного более современного Бирну автора, которые и пошли в дело (пусть и говорят, что так делать нельзя). В английской версии оставил как было.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/bk/9p/ku/bk9pku5d9p4dp__o2qs2fepjmdi.jpeg" data-src="https://habrastorage.org/webt/bk/9p/ku/bk9pku5d9p4dp__o2qs2fepjmdi.jpeg" data-blurred="true"/><br/>
<br/>
Русская версия отличается еще и тем, что маленькие буквочки в ней включены по умолчанию и вообще больше мелких изменений по сравнению с оригиналом, чем в английской. Правда, тут вот кто-то <a href="https://github.com/jemmybutton/byrne-euclid/issues/44">попросил</a> сделать английскую версию тоже с буковками, и я подумываю включить их и там тоже: без них-то эта книжка и так есть.<br/>
<br/>
Еще один товарищ <a href="https://twitter.com/mciura/status/937365111626452992">начал переводить</a> книжку на польский и очень много ценного по дороге в issues написал (к примеру, про масштабирование углов — это <a href="https://github.com/jemmybutton/byrne-euclid/issues/7">его предложение</a>). Здорово, если допереведет.<br/>
<br/>
<h3>Промежуточные итоги</h3><br/>
Повозившись с этой книжкой, имею сказать следующее. Картинки в тексте действительно легко читаются, теперь использую этот прием и в других местах. Учитывая, что занимался я проектом вечерами после основной работы на полный день, получилось довольно быстро: примерно полгода на первую английскую версию, со всем планированием и программированием, три месяца на первую редакцию русского перевода. Правда, косяки исправляю до сих пор и там и там (а еще недавно жена начала вычитывать русский на предмет опечаток, и я краснею, почти как от <a href="https://github.com/jemmybutton/byrne-euclid/pull/1">первого пулл реквеста</a>).<br/>
<br/>
С момента публикации первой версии на гитхабе началась и закончилась <a href="https://www.kickstarter.com/projects/1174653512/euclids-elements-completing-oliver-byrnes-work/updates">кампания</a> на кикстартере по сбору средств на «завершение работы Бирна», то есть, как понимают это авторы, оформление всех 13 книг «Начал» в том же духе. Судя по всему, верстают в индизайне, в чем рисуют, непонятно. Пока книги вроде не разослали, но скоро должны. Надеюсь, получится хорошо. А совсем недавно один американский дизайнер выпустил няшную <a href="https://www.c82.net/euclid/">веб-версию</a> первых шести книг. Он, судя по статье с рассказом о работе, рисовал всё вручную в иллюстраторе.<br/>
<br/>
<h3>Планы</h3><br/>
У Бирна совсем не было стереометрии, так что и инструментов для нее я с самого начала не предусмотрел, но теперь решил потихоньку <a href="https://github.com/jemmybutton/byrne-euclid/issues/40">бирнифицировать</a> книги «Начал» с 11 по 13, чтобы инструментарий отработать на них. Пока вчерне готово чуть больше половины 11-й книги и, соответственно, уже есть кое-какие функции для описания объемных построений и их проекции на плоскость. Впрочем, объемные построения в среднем намного сложнее плоских, и пока у меня нет четкого представления ни о том, насколько будет работать для них подход Бирна, ни о том, получится ли достаточно удобно создавать их в метапосте.<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/qi/td/cs/qitdcs3zeb0nja5ifual2bc3xg4.gif"/><br/>
<br/>
Картинки в тексте часто требуют кернинга. Аналогичное, но сложнее: картинки большого размера на соседних строках раздвигают строки очень широко, что оправдано, только если они друг на друга налезают. Как автоматизировать эти вещи, я пока не придумал, а вручную это всё вылавливать очень скучно.<br/>
<br/>
<img src="https://habrastorage.org/r/w780q1/webt/mf/wz/ph/mfwzphlyl3wubidktj_qflccg_e.jpeg" data-src="https://habrastorage.org/webt/mf/wz/ph/mfwzphlyl3wubidktj_qflccg_e.jpeg" data-blurred="true"/><br/>
<br/>
Метапост можно запускать и из латеха, и отдельно. Так что в будущем планирую сделать макросы для латеха, такие же, как для ConTeXt-а, чтобы можно было делать то же самое в более распространенной среде. В теории никто не мешает использовать метапост, например, с индизайном. Это можно делать и сейчас, просто собирая картинки отдельно и линкуя их вручную, но напрашивается написать для ID пару скриптов, чтобы это происходило само. Последнее выглядит совсем уж как какая-то перверсия, но слишком часто приходит на ум, чтобы не рассмотреть такую возможность.<br/>
<br/>
Ну и главное — хочется попробовать применить всю эту машинерию к чему-нибудь более современному и практичному, чем «Начала».<br/>
<br/>
Всё добро лежит <a href="https://github.com/jemmybutton/byrne-euclid/">тут</a>, готовые pdf-ки есть в релизах.</div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bmetapost%5D" class="tm-tags-list__link">metapost</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Btex%5D" class="tm-tags-list__link">tex</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5BConTeXt%5D" class="tm-tags-list__link">ConTeXt</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%B3%D0%B5%D0%BE%D0%BC%D0%B5%D1%82%D1%80%D0%B8%D1%8F%5D" class="tm-tags-list__link">геометрия</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%95%D0%B2%D0%BA%D0%BB%D0%B8%D0%B4%5D" class="tm-tags-list__link">Евклид</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/hub/latex/" class="tm-hubs-list__link">
    LaTeX
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 136: ↑136 и ↓0</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 136: ↑136 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+136</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">15K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    160
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/jemmybutton/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><svg class="tm-svg-img tm-image-placeholder tm-image-placeholder_lilac"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <div class="tm-user-card__meta"><div title=" 81 голос " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    81
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">0</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><!----> <a href="/ru/users/jemmybutton/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @jemmybutton
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">Пользователь</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <button type="submit" class="tm-user-card__button btn btn_transparent btn_small">
      Задонатить
    </button> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/451682/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 47 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <!----> <!----> <!----> <!----> </div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/451682/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/451682/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"451682":{"id":"451682","timePublished":"2019-05-15T21:20:19+00:00","isCorporative":false,"lang":"ru","titleHtml":"Довольно вычурные «Начала» Евклида в TeX-е","leadData":{"textHtml":"\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fb9\u002Fxj\u002Fsq\u002Fb9xjsqwlk_6vlrkagvbpb2yfej0.jpeg\"\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n\u003Ci\u003E«какая-то странная антикварная х██ня, написанная ирландским кулибиным в 1847 ну, хорошо, что и такая бывает, конечно»\u003C\u002Fi\u003E \u003Ca href=\"http:\u002F\u002Flj.rossia.org\u002Fusers\u002Ftiphareth\u002F1761692.html?thread=107181212#t107181212\"\u003EМиша Вербицкий\u003C\u002Fa\u003E\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nВ 16-м году мне на глаза попались «Начала» Евклида в \u003Ca href=\"https:\u002F\u002Farchive.org\u002Fdetails\u002Ffirstsixbooksofe00byrn\u002F\"\u003Eинтерпретации\u003C\u002Fa\u003E Оливера Бирна. Фишка этой книги в том, что вместо буквенных обозначений навроде «треугольник ABC» там прямо в текст помещаются миниатюры частей построения, то есть, например, картинка с соответствующим треугольником. Насколько сделать такую книгу, как можно представить, было адовой работой в середине XIX века, настолько же легко, с правильными инструментами, это должно бы быть теперь. И, в общем, решил я в этом убедиться наверняка.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше →","image":null},"editorVersion":"1.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":81,"votesCount":81},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":"410018842470440","paymentPayPalMe":null,"paymentWebmoney":null},"id":"476588","alias":"jemmybutton","fullname":null,"avatarUrl":null,"speciality":"Пользователь"},"statistics":{"commentsCount":47,"favoritesCount":160,"readingCount":14892,"score":136,"votesCount":136},"hubs":[{"relatedData":null,"id":"7589","alias":"latex","type":"collective","title":"LaTeX","titleHtml":"LaTeX","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fb9\u002Fxj\u002Fsq\u002Fb9xjsqwlk_6vlrkagvbpb2yfej0.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fb9\u002Fxj\u002Fsq\u002Fb9xjsqwlk_6vlrkagvbpb2yfej0.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ci\u003E«какая-то странная антикварная х██ня, написанная ирландским кулибиным в 1847 ну, хорошо, что и такая бывает, конечно»\u003C\u002Fi\u003E \u003Ca href=\"http:\u002F\u002Flj.rossia.org\u002Fusers\u002Ftiphareth\u002F1761692.html?thread=107181212#t107181212\"\u003EМиша Вербицкий\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ 16-м году мне на глаза попались «Начала» Евклида в \u003Ca href=\"https:\u002F\u002Farchive.org\u002Fdetails\u002Ffirstsixbooksofe00byrn\u002F\"\u003Eинтерпретации\u003C\u002Fa\u003E Оливера Бирна. Фишка этой книги в том, что вместо буквенных обозначений навроде «треугольник ABC» там прямо в текст помещаются миниатюры частей построения, то есть, например, картинка с соответствующим треугольником. Насколько сделать такую книгу, как можно представить, было адовой работой в середине XIX века, настолько же легко, с правильными инструментами, это должно бы быть теперь. И, в общем, решил я в этом убедиться наверняка.\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fbt\u002Fd1\u002Fvz\u002Fbtd1vz7zw34dp1uyd8met_b87q0.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fbt\u002Fd1\u002Fvz\u002Fbtd1vz7zw34dp1uyd8met_b87q0.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВариант попросту отрисовать в иллюстраторе иллюстрации и сверстать в индизайне верстку был быстро отметен как упаднический. Геометрические построения делать и редактировать в иллюстраторе не сказать чтобы страшно удобно, а красивого способа автоматически связать миниатюры с основным построением мне и вовсе в голову не пришло. Индизайн, хоть и хорошо подходит для такого рода верстки, обещал удручать видом панели ссылок при таком количестве картинок. Так что, ничтоже сумняшеся, я обратился к уже знакомому мне MetaPost-у, в котором геометрические построения делать довольно легко (но не как в геогебре, конечно) и латеху, в котором относительно понятно, как всё сверстать. Латех, правда, из-за непоняток с библиотеками для метапоста был заменен ConTeXt-ом, который хорошо ладит с метапостом прямо из коробки.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EКак это работает в целом\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\n«Начал» вообще 13 частей — книг, но Бирн обработал только первые 6. Книги в основном состоят из «предложений» — теорем и задач. Каждое сделано из построения (чаще одного) и текста, который на это построение ссылается.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля описания построений я завел в ConTeXt-е макрос, который создает новый инстанс метапоста. В метапосте же — всякие функции для описания построений. Выглядит это следующим образом:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"tex\"\u003E\\defineNewPicture{ % Внутри этой штуки описывается построение\n    pair A, B, C, D; % В метапосте есть тип переменных для координат\n    numeric d;\n    d := 2u;\n    A := (0, 0);                %\n    B := A shifted (d, 0);      % Здесь задаются координаты точек\n    C := A shifted (0, -d);     %\n    D := A shifted (d, -d);     %\n    byAngleDefine(B, A, C, byblack, 0);     % Здесь описываются углы\n    byAngleDefine(D, B, A, byblue, 0);      % сначала точки,\n    byAngleDefine(C, D, B, byred, 0);       % потом цвет,\n    byAngleDefine(A, C, D, byyellow, 0);    % потом стиль\n    draw byNamedAngleResized();     % Эта штука рисует все углы\n    byLineDefine(A, B, byred, 0, 0);        % Здесь описываются отрезки\n    byLineDefine(B, D, byyellow, 0, 0);     % сначала концы,\n    byLineDefine(D, C, byblack, 0, 0);      % потом цвет, потом стиль\n    byLineDefine(C, A, byblue, 0, 0);       % потом толщина\n    draw byNamedLineSeq(0)(AB,BD,DC,CA);    % Здесь рисуется цепочка отрезков\n}\n\\drawCurrentPicture % Эта штука выводит получившуюся картинку\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fju\u002Fub\u002Fu7\u002Fjuubu7bnipox8simoy8i971stus.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДля текстов предложений написал макросы, которые рисуют и выводят картинки в том же инстансе, что и основное построение. Они выполняют, в общем случае, произвольный метапост-код, но чаще всего принимают в качестве аргументов имена нужных элементов — углов, отрезков и пр. Например, так:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"tex\"\u003E% Имена отрезкам даются автоматически, но можно назначить и вручную\nDraw $\\drawUnitLine{CA} \\perp \\mbox{ and } = \\drawUnitLine{DC}$.\\\\\nDraw $\\drawUnitLine{AB} \\parallel \\drawUnitLine{DC}$,\\\\\nand meeting \\drawUnitLine{BD} drawn $\\parallel \\drawUnitLine{CA}$.\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fez\u002Ffg\u002Fuv\u002Fezfguvegpy6qw7rliclzmhhgh1q.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВот как то и другое работает вместе:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fhl\u002F6p\u002Fuf\u002Fhl6pufc9f-0syxk8q3amrur1xze.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EКое-какие фичи\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nКартинки в книге незатейливые, но некоторые вещи потребовали особого внимания.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕсли отрезки касаются друг друга концами, это надо как-то симпатично обставить. Сейчас особо обрабатываются соединения только двух отрезков, остальные можно класть под такое соединение. В оригинале встречается минимум два способа соединения линий, но воспроизводить их мне показалось излишним.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F27\u002Fiv\u002F6k\u002F27iv6kwqw5bj369z5cmzzv3cm0i.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nУглы изображаются с помощью секторов. Если угол достаточно маленький, то при одинаковом радиусе сектор будет выглядеть слишком куцым, и есть смысл его увеличить. Сейчас радиус остается постоянным при углах от 60 градусов, а для меньших углов формула такая: \u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fformulas\u002Fcae\u002F99b\u002F4d1\u002Fcae99b4d146d1158f3eccd2c13f5e8dd.svg\" alt=\"$r\u002F\\sqrt{a\u002F60}$\" data-tex=\"inline\"\u002F\u003E.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fxn\u002Fvq\u002F0a\u002Fxnvq0awkzqfidnukagrvxmozusu.gif\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nШтриховые линии, чтобы было красиво, должны начинаться и оканчиваться залитыми частями, так что штриховка слегка масштабируется, чтобы влезать целое число раз в отрезок (подобная штука есть в иллюстраторе, но там в начале и в конце линии получаются штрихи половинной длины).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F82\u002Fkc\u002Fhm\u002F82kchmpkrh6zbsku_jt21yf_qz8.gif\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОтображать отрезки в тексте можно по-разному: можно делать их все одной длины, меняя только цвет, а можно воспроизводить так или иначе и длину. У Бирна встречается и так и эдак. У меня для этого такая формула: \u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fformulas\u002F3eb\u002Ff9d\u002F67b\u002F3ebf9d67b2565964479183ccb4f6a863.svg\" alt=\"$L'=L^{a}l^{1-a}$\" data-tex=\"inline\"\u002F\u003E, где \u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fformulas\u002Fc93\u002F085\u002F747\u002Fc9308574760a8a9177146138b5610d9c.svg\" alt=\"$L'$\" data-tex=\"inline\"\u002F\u003E — длина отрезка в тексте, \u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fformulas\u002Fa5a\u002F4e0\u002Fafa\u002Fa5a4e0afaec84939dbfda220172b2be0.svg\" alt=\"$L$\" data-tex=\"inline\"\u002F\u003E — длина исходного отрезка, \u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fformulas\u002F30f\u002Fb68\u002F14e\u002F30fb6814eea0091044df0e5de33dfbc2.svg\" alt=\"$l$\" data-tex=\"inline\"\u002F\u003E — желаемая длина отрезка и \u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fformulas\u002F372\u002Fe18\u002F546\u002F372e18546a3b7abb94c2672708bc5dfe.svg\" alt=\"$a$\" data-tex=\"inline\"\u002F\u003E — некое число от 0 до 1. Если \u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fformulas\u002F013\u002F738\u002F513\u002F01373851384108fcef30b04dae7f96f3.svg\" alt=\"$a=0$\" data-tex=\"inline\"\u002F\u003E, то \u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fformulas\u002F9c2\u002Fcc0\u002F588\u002F9c2cc05882ab3631aa26556fc5693b7f.svg\" alt=\"$L' = l$\" data-tex=\"inline\"\u002F\u003E, то есть любой отрезок будет изображен с длиной \u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fformulas\u002F30f\u002Fb68\u002F14e\u002F30fb6814eea0091044df0e5de33dfbc2.svg\" alt=\"$l$\" data-tex=\"inline\"\u002F\u003E. Если \u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fformulas\u002F4f0\u002F0d4\u002Fd82\u002F4f00d4d8255955ce3a3052a4eee5899c.svg\" alt=\"$a=1$\" data-tex=\"inline\"\u002F\u003E, \u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fformulas\u002Faab\u002F517\u002F393\u002Faab51739374a54e898540b8c0255c4c5.svg\" alt=\"$L' = L$\" data-tex=\"inline\"\u002F\u003E. Если \u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fformulas\u002F2e8\u002F3d4\u002F84a\u002F2e83d484a96446ab4fa2a66f02b98c90.svg\" alt=\"$0&lt;a&lt;1$\" data-tex=\"inline\"\u002F\u003E, то при \u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fformulas\u002Fede\u002F803\u002Fa2c\u002Fede803a2c277b90d830abe72b3802a34.svg\" alt=\"$L&lt;l$\" data-tex=\"inline\"\u002F\u003E, \u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fformulas\u002F4af\u002F69c\u002F748\u002F4af69c748ab3742db1b584b6bd6dc48e.svg\" alt=\"$L'\u003EL$\" data-tex=\"inline\"\u002F\u003E и при \u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fformulas\u002F0b5\u002F82c\u002F82a\u002F0b582c82aa22fee6681ff9cc4f772e20.svg\" alt=\"$L\u003El$\" data-tex=\"inline\"\u002F\u003E, \u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Fformulas\u002F84b\u002F185\u002Ff95\u002F84b185f95448495c4a000cf5686adfa0.svg\" alt=\"$L'&lt;L$\" data-tex=\"inline\"\u002F\u003E, то есть короткие отрезки удлиняются, а длинные — укорачиваются. Это нужно, если хочется сохранить относительные размеры отрезков, но не хочется получить отрезки в полмиллиметра рядом с отрезками в два сантиметра. (На самом деле все чуть сложнее, но смысл такой).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fbs\u002Fdc\u002Fez\u002Fbsdcez--c23k6zz-5espheo1gpq.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nХотя Бирн и отказался от буквенных обозначений, известный зануда Эдвард Тафти в одной из своих \u003Ca href=\"https:\u002F\u002Fwww.edwardtufte.com\u002Ftufte\u002Fbooks_ei\"\u003Eкниг\u003C\u002Fa\u003E высказался на этот счет в том духе, что всё у Бирна хорошо, но буковки неплохо бы вернуть. А раз всё равно почти всё автоматически, то и буквочкам место нашлось. По умолчанию точки называются так же, как и переменные, где хранятся их координаты. Метки можно располагать по вершинам многоугольников, или на концах отрезков, или как-нибудь еще. Их, само собой, можно включать и выключать по желанию (верстка при этом, конечно же, ползет).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fzn\u002Fzt\u002Fe0\u002Fznzte030dz5iik2fb0ltt5afhue.gif\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНо большая часть кода все-таки посвящена штукам, больше заметным автору\u002Fредактору, чем читателю. Это, например, правильное распознавание синонимичных названий углов и отрезков, автоматическая расстановка букв вокруг нескольких многоугольников, автоматическая отрисовка кусков отрезков при некоторых углах в тексте и все такое прочее.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ оригинале есть буквицы и виньетки. С одной стороны, их без особого труда (умственного, по крайней мере) можно было отрисовать, но я решил взяться за более интересную (пусть и безнадежную) задачу — производить буквицы и виньетки со случайным узором автоматически. Во-первых, это просто весело, а во-вторых, перевод на русский (о котором ниже) потребовал бы адаптации исходного стиля буквиц под кириллицу, каковая деятельность в мои планы не входила. Так что при сборке книги создается список всех буквиц и виньеток, и по этому списку отдельный метапост-скрипт рисует (очень неспешно) полный комплект всего этого добра. Буквицы все разные и узоры не повторяются.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Flk\u002Fif\u002Fen\u002Flkifenehn0rvy0myliwn0zxf5nc.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Flk\u002Fif\u002Fen\u002Flkifenehn0rvy0myliwn0zxf5nc.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПринцип простой: на частях литеры и на рамке размещаются завитушки, настолько крупные, насколько возможно. Это происходит несколько раз, и уже нарисованные завитушки включаются в следующие итерации. Затем таким же образом появляются «листья». Форму и свойства разных видов отростков можно менять.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Flu\u002Fgy\u002F6o\u002Flugy6ofh977hz8yibvqht-xuec0.gif\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНе могу сказать, что вполне доволен результатом, но постепенно совершенствую алгоритм и надеюсь на лучшее (впрочем, можно плюнуть и подсунуть картинки с любыми буквицами вместо сгенерированных). В качестве бонуса скрипт умеет генерить из завитушек случайные тайлы.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002F5a\u002Fee\u002F1j\u002F5aee1jei7ok-d82p8by0ytr6sbw.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F5a\u002Fee\u002F1j\u002F5aee1jei7ok-d82p8by0ytr6sbw.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EПеревод\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nЧтобы выловить ошибки, да и вообще, я стал делать перевод на русский. Ориентиром у меня был перевод «Начал» Мордухай-Болтовского, но довольно быстро стало понятно, что Бирн слишком многое поменял в доказательствах, чтобы это сильно помогло. Признаться честно, поначалу перевел я всё совсем спустя рукава, особенно введение, просто чтобы было, и только недавно дошли руки сгладить немного шероховатости.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕсли не считать неприятной пятой книги (которая, как оказалось, была оформлена \u003Ca href=\"https:\u002F\u002Farchive.org\u002Fdetails\u002Fdoctrineproport01byrngoog\u002Fpage\u002Fn32\"\u003Eотдельно\u003C\u002Fa\u003E от остальных и несколько раньше), было не особенно сложно. Перевод (сам процесс) действительно помог выловить много разных косяков, как моих, так и автора. Скажем, \u003Ca href=\"https:\u002F\u002Farchive.org\u002Fdetails\u002Ffirstsixbooksofe00byrn\u002Fpage\u002F227\"\u003Eпостроение к предложению 9\u003C\u002Fa\u003E из шестой книги у Бирна не соответствует тексту, отчего доказательство не работает, так что пришлось там всё переделать.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИз курьезов: во введении, где автор нахваливает свой метод, вначале он сослался на Горация, \u003Ca href=\"https:\u002F\u002Farchive.org\u002Fdetails\u002Ffirstsixbooksofe00byrn\u002Fpage\u002Fn11\"\u003Eприведя\u003C\u002Fa\u003E его стихи про превосходство зрения над другими чувствами в качестве аргумента. А несколькими страницами позже решил приплести для пущей убедительности еще и «современного поэта», стихи которого также процитировал. На поверку «стихи современного поэта» оказались \u003Ca href=\"https:\u002F\u002Farchive.org\u002Fstream\u002Fimprovementofmin00wattuoft#page\u002F198\u002Fmode\u002F2up\"\u003Eдругим переводом\u003C\u002Fa\u003E тех же самых строчек Горация. Тут, конечно, надо было оставить всё как есть и в сноске указать на ошибку автора, но на счастье жена нашла \u003Ca href=\"https:\u002F\u002Farchive.org\u002Fstream\u002Fpleasuresofimagi00aken#page\u002F50\u002Fmode\u002F2up\"\u003Eподходящие стихи\u003C\u002Fa\u003E английского и действительно намного более современного Бирну автора, которые и пошли в дело (пусть и говорят, что так делать нельзя). В английской версии оставил как было.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fbk\u002F9p\u002Fku\u002Fbk9pku5d9p4dp__o2qs2fepjmdi.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fbk\u002F9p\u002Fku\u002Fbk9pku5d9p4dp__o2qs2fepjmdi.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nРусская версия отличается еще и тем, что маленькие буквочки в ней включены по умолчанию и вообще больше мелких изменений по сравнению с оригиналом, чем в английской. Правда, тут вот кто-то \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fjemmybutton\u002Fbyrne-euclid\u002Fissues\u002F44\"\u003Eпопросил\u003C\u002Fa\u003E сделать английскую версию тоже с буковками, и я подумываю включить их и там тоже: без них-то эта книжка и так есть.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЕще один товарищ \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fmciura\u002Fstatus\u002F937365111626452992\"\u003Eначал переводить\u003C\u002Fa\u003E книжку на польский и очень много ценного по дороге в issues написал (к примеру, про масштабирование углов — это \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fjemmybutton\u002Fbyrne-euclid\u002Fissues\u002F7\"\u003Eего предложение\u003C\u002Fa\u003E). Здорово, если допереведет.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EПромежуточные итоги\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nПовозившись с этой книжкой, имею сказать следующее. Картинки в тексте действительно легко читаются, теперь использую этот прием и в других местах. Учитывая, что занимался я проектом вечерами после основной работы на полный день, получилось довольно быстро: примерно полгода на первую английскую версию, со всем планированием и программированием, три месяца на первую редакцию русского перевода. Правда, косяки исправляю до сих пор и там и там (а еще недавно жена начала вычитывать русский на предмет опечаток, и я краснею, почти как от \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fjemmybutton\u002Fbyrne-euclid\u002Fpull\u002F1\"\u003Eпервого пулл реквеста\u003C\u002Fa\u003E).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nС момента публикации первой версии на гитхабе началась и закончилась \u003Ca href=\"https:\u002F\u002Fwww.kickstarter.com\u002Fprojects\u002F1174653512\u002Feuclids-elements-completing-oliver-byrnes-work\u002Fupdates\"\u003Eкампания\u003C\u002Fa\u003E на кикстартере по сбору средств на «завершение работы Бирна», то есть, как понимают это авторы, оформление всех 13 книг «Начал» в том же духе. Судя по всему, верстают в индизайне, в чем рисуют, непонятно. Пока книги вроде не разослали, но скоро должны. Надеюсь, получится хорошо. А совсем недавно один американский дизайнер выпустил няшную \u003Ca href=\"https:\u002F\u002Fwww.c82.net\u002Feuclid\u002F\"\u003Eвеб-версию\u003C\u002Fa\u003E первых шести книг. Он, судя по статье с рассказом о работе, рисовал всё вручную в иллюстраторе.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Ch3\u003EПланы\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\nУ Бирна совсем не было стереометрии, так что и инструментов для нее я с самого начала не предусмотрел, но теперь решил потихоньку \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fjemmybutton\u002Fbyrne-euclid\u002Fissues\u002F40\"\u003Eбирнифицировать\u003C\u002Fa\u003E книги «Начал» с 11 по 13, чтобы инструментарий отработать на них. Пока вчерне готово чуть больше половины 11-й книги и, соответственно, уже есть кое-какие функции для описания объемных построений и их проекции на плоскость. Впрочем, объемные построения в среднем намного сложнее плоских, и пока у меня нет четкого представления ни о том, насколько будет работать для них подход Бирна, ни о том, получится ли достаточно удобно создавать их в метапосте.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fqi\u002Ftd\u002Fcs\u002Fqitdcs3zeb0nja5ifual2bc3xg4.gif\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКартинки в тексте часто требуют кернинга. Аналогичное, но сложнее: картинки большого размера на соседних строках раздвигают строки очень широко, что оправдано, только если они друг на друга налезают. Как автоматизировать эти вещи, я пока не придумал, а вручную это всё вылавливать очень скучно.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fmf\u002Fwz\u002Fph\u002Fmfwzphlyl3wubidktj_qflccg_e.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fmf\u002Fwz\u002Fph\u002Fmfwzphlyl3wubidktj_qflccg_e.jpeg\" data-blurred=\"true\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМетапост можно запускать и из латеха, и отдельно. Так что в будущем планирую сделать макросы для латеха, такие же, как для ConTeXt-а, чтобы можно было делать то же самое в более распространенной среде. В теории никто не мешает использовать метапост, например, с индизайном. Это можно делать и сейчас, просто собирая картинки отдельно и линкуя их вручную, но напрашивается написать для ID пару скриптов, чтобы это происходило само. Последнее выглядит совсем уж как какая-то перверсия, но слишком часто приходит на ум, чтобы не рассмотреть такую возможность.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНу и главное — хочется попробовать применить всю эту машинерию к чему-нибудь более современному и практичному, чем «Начала».\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВсё добро лежит \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fjemmybutton\u002Fbyrne-euclid\u002F\"\u003Eтут\u003C\u002Fa\u003E, готовые pdf-ки есть в релизах.\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"metapost"},{"titleHtml":"tex"},{"titleHtml":"ConTeXt"},{"titleHtml":"геометрия"},{"titleHtml":"Евклид"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F451682\u002F8958578859d2ab2bcf7bb6a86918698c\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F451682\u002F8958578859d2ab2bcf7bb6a86918698c\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F451682\\\u002F\"},\"headline\":\"Довольно вычурные «Начала» Евклида в TeX-е\",\"datePublished\":\"2019-05-16T00:20:19+03:00\",\"dateModified\":\"2019-05-25T11:11:08+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"jemmybutton\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"&laquo;какая-то странная антикварная х██ня, написанная ирландским кулибиным в 1847 ну, хорошо, что и такая бывает, конечно&raquo; Миша Вербицкий  В 16-м году мне на глаза...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F451682\\\u002F#post-content-body\",\"about\":[\"h_latex\",\"f_develop\"],\"image\":[\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fb9\\\u002Fxj\\\u002Fsq\\\u002Fb9xjsqwlk_6vlrkagvbpb2yfej0.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fbt\\\u002Fd1\\\u002Fvz\\\u002Fbtd1vz7zw34dp1uyd8met_b87q0.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fju\\\u002Fub\\\u002Fu7\\\u002Fjuubu7bnipox8simoy8i971stus.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fez\\\u002Ffg\\\u002Fuv\\\u002Fezfguvegpy6qw7rliclzmhhgh1q.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fhl\\\u002F6p\\\u002Fuf\\\u002Fhl6pufc9f-0syxk8q3amrur1xze.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002F27\\\u002Fiv\\\u002F6k\\\u002F27iv6kwqw5bj369z5cmzzv3cm0i.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fformulas\\\u002Fcae\\\u002F99b\\\u002F4d1\\\u002Fcae99b4d146d1158f3eccd2c13f5e8dd.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fxn\\\u002Fvq\\\u002F0a\\\u002Fxnvq0awkzqfidnukagrvxmozusu.gif\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002F82\\\u002Fkc\\\u002Fhm\\\u002F82kchmpkrh6zbsku_jt21yf_qz8.gif\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fformulas\\\u002F3eb\\\u002Ff9d\\\u002F67b\\\u002F3ebf9d67b2565964479183ccb4f6a863.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fformulas\\\u002Fc93\\\u002F085\\\u002F747\\\u002Fc9308574760a8a9177146138b5610d9c.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fformulas\\\u002Fa5a\\\u002F4e0\\\u002Fafa\\\u002Fa5a4e0afaec84939dbfda220172b2be0.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fformulas\\\u002F30f\\\u002Fb68\\\u002F14e\\\u002F30fb6814eea0091044df0e5de33dfbc2.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fformulas\\\u002F372\\\u002Fe18\\\u002F546\\\u002F372e18546a3b7abb94c2672708bc5dfe.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fformulas\\\u002F013\\\u002F738\\\u002F513\\\u002F01373851384108fcef30b04dae7f96f3.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fformulas\\\u002F9c2\\\u002Fcc0\\\u002F588\\\u002F9c2cc05882ab3631aa26556fc5693b7f.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fformulas\\\u002F4f0\\\u002F0d4\\\u002Fd82\\\u002F4f00d4d8255955ce3a3052a4eee5899c.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fformulas\\\u002Faab\\\u002F517\\\u002F393\\\u002Faab51739374a54e898540b8c0255c4c5.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fformulas\\\u002F2e8\\\u002F3d4\\\u002F84a\\\u002F2e83d484a96446ab4fa2a66f02b98c90.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fformulas\\\u002Fede\\\u002F803\\\u002Fa2c\\\u002Fede803a2c277b90d830abe72b3802a34.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fformulas\\\u002F4af\\\u002F69c\\\u002F748\\\u002F4af69c748ab3742db1b584b6bd6dc48e.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fformulas\\\u002F0b5\\\u002F82c\\\u002F82a\\\u002F0b582c82aa22fee6681ff9cc4f772e20.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fgetpro\\\u002Fhabr\\\u002Fformulas\\\u002F84b\\\u002F185\\\u002Ff95\\\u002F84b185f95448495c4a000cf5686adfa0.svg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fbs\\\u002Fdc\\\u002Fez\\\u002Fbsdcez--c23k6zz-5espheo1gpq.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fzn\\\u002Fzt\\\u002Fe0\\\u002Fznzte030dz5iik2fb0ltt5afhue.gif\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Flk\\\u002Fif\\\u002Fen\\\u002Flkifenehn0rvy0myliwn0zxf5nc.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Flu\\\u002Fgy\\\u002F6o\\\u002Flugy6ofh977hz8yibvqht-xuec0.gif\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002F5a\\\u002Fee\\\u002F1j\\\u002F5aee1jei7ok-d82p8by0ytr6sbw.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fbk\\\u002F9p\\\u002Fku\\\u002Fbk9pku5d9p4dp__o2qs2fepjmdi.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fqi\\\u002Ftd\\\u002Fcs\\\u002Fqitdcs3zeb0nja5ifual2bc3xg4.gif\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fmf\\\u002Fwz\\\u002Fph\\\u002Fmfwzphlyl3wubidktj_qflccg_e.jpeg\"]}","metaDescription":"«какая-то странная антикварная х██ня, написанная ирландским кулибиным в 1847 ну, хорошо, что и такая бывает, конечно» Миша Вербицкий\r\n\r\nВ 16-м году мне на глаза попались «Начала» Евклида в...","mainImageUrl":null,"amp":false},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":"latex"},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
