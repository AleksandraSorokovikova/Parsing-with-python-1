<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>nanoFOX — простое RISC-V совместимое ядро / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/451388\/"},"headline":"nanoFOX — простое RISC-V совместимое ядро","datePublished":"2019-05-21T17:19:08+03:00","dateModified":"2019-05-22T18:06:56+03:00","author":{"@type":"Person","name":"Дмитрий"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Небольшое вступление: Идея написания собственного ядра появилась после прохождения школы-семинара по цифровой схемотехнике в городе Томске. На данном мероприятии...","url":"https:\/\/habr.com\/ru\/post\/451388\/#post-content-body","about":["h_programming","h_fpga","f_develop"],"image":["https:\/\/habrastorage.org\/webt\/7r\/at\/zo\/7ratzo8oi49q1f_ek3jt-ruzds4.gif","https:\/\/habrastorage.org\/webt\/_z\/bf\/ya\/_zbfyafwvt-iiqcyldocwdejy9u.gif","https:\/\/habrastorage.org\/webt\/od\/27\/en\/od27enfo2ibej0nvimcacjcdrco.png","https:\/\/habrastorage.org\/webt\/dx\/5v\/mo\/dx5vmozlintg2jroatbavwu5vm4.png","https:\/\/habrastorage.org\/webt\/4f\/u2\/qt\/4fu2qtvi_h4om4jam78ly4zk-vg.png","https:\/\/habrastorage.org\/webt\/fm\/di\/fk\/fmdifk9sfizk1tdf1rkcwpf_7yu.png","https:\/\/habrastorage.org\/webt\/ob\/wp\/i_\/obwpi_h38heumilss3rumhiau8i.png","https:\/\/habrastorage.org\/webt\/ua\/wa\/qb\/uawaqbhqgb3v_rsn0i9re3hkaas.png","https:\/\/habrastorage.org\/webt\/d7\/96\/v4\/d796v4kj0t_pcfhbepzqndka8ny.png","https:\/\/habrastorage.org\/webt\/dc\/dd\/9c\/dcdd9c7vu-rd8tkzfjggwffwhe0.png"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="nanoFOX — простое RISC-V совместимое ядро" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="nanoFOX — простое RISC-V совместимое ядро" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="nanoFOX — простое RISC-V совместимое ядро" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Небольшое вступление:
Идея написания собственного ядра появилась после прохождения школы-семинара по цифровой схемотехнике в городе Томске. На данном мероприятии проводилось знакомство с текущими..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Небольшое вступление:
Идея написания собственного ядра появилась после прохождения школы-семинара по цифровой схемотехнике в городе Томске. На данном мероприятии проводилось знакомство с текущими..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Небольшое вступление:
Идея написания собственного ядра появилась после прохождения школы-семинара по цифровой схемотехнике в городе Томске. На данном мероприятии проводилось знакомство с текущими..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Небольшое вступление:
Идея написания собственного ядра появилась после прохождения школы-семинара по цифровой схемотехнике в городе Томске. На данном мероприятии проводилось знакомство с текущими..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Небольшое вступление:
Идея написания собственного ядра появилась после прохождения школы-семинара по цифровой схемотехнике в городе Томске. На данном мероприятии проводилось знакомство с текущими..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/451388/f35f2e2832c7a0a7640f44efda7a2c0c/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/451388/f35f2e2832c7a0a7640f44efda7a2c0c/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/451388/f35f2e2832c7a0a7640f44efda7a2c0c/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/451388/f35f2e2832c7a0a7640f44efda7a2c0c/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/451388/f35f2e2832c7a0a7640f44efda7a2c0c/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="451388" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2019-05-21T14:19:08.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/451388/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/451388/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/451388/f35f2e2832c7a0a7640f44efda7a2c0c/" data-vmid="image:href">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/Dmitriy0111/" title="Dmitriy0111" class="tm-user-info__userpic"><div class="tm-entity-image"><img alt="" height="24" loading="lazy" src="//habrastorage.org/r/w32/getpro/habr/avatars/329/6c2/76e/3296c276e1942b22b02c28f121f6fe30.jpg" width="24" class="tm-entity-image__pic"></div></a> <span class="tm-user-info__user"><a href="/ru/users/Dmitriy0111/" class="tm-user-info__username">
      Dmitriy0111
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2019-05-21T14:19:08.000Z" title="2019-05-21, 17:19">21  мая  2019 в 17:19</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>nanoFOX — простое RISC-V совместимое ядро</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/programming/" class="tm-article-snippet__hubs-item-link"><span>Программирование</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/fpga/" class="tm-article-snippet__hubs-item-link"><span>FPGA</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <!----> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml"><h3 id="nebolshoe-vstuplenie">Небольшое вступление:</h3><br/>
<p>Идея написания собственного ядра появилась после прохождения <a href="https://habr.com/ru/post/345286/">школы-семинара по цифровой схемотехнике в городе Томске</a>. На данном мероприятии проводилось знакомство с текущими языками описания аппаратуры (Verilog HDL и VHDL), а также с небольшим процессорным ядром <a href="https://github.com/MIPSfpga/schoolMIPS">schoolMIPS</a>. Для понимания устройства ядер было принято решение изобрести собственный велосипед, следуя по пути развития schoolMIPS, но взяв за основу другую систему команд. Вследствие роста популярности RISC-V и открытости его системы команд (MIPS на момент начала написания ядра не имел открытую систему команд) для осуществления разработки будущего ядра был выбран набор инструкций RISC-V, а именно RV32I. RV32I имеет небольшой набор базовых инструкций (37 без учёта специальных) и при желании его можно расширить, например, добавив инструкции целочисленного умножения и деления (RV32M) или поддержку сокращённых инструкций (compressed instructions) (RV32C). Также данный проект задумывался как образовательный, поэтому было решено по максимуму увеличить наглядность работы ядра для эффективной демонстрации его работы.</p><br/>
<p>По аналогии с schoolMIPS были реализованы следующие версии ядра: </p><br/>
<ol>
<li>Однотактная версия (00_simple_risc_v_cpu).</li>
<li>Однотактная версия с поддержкой инструкций lw/sw (load word/store word) (01_simple_risc_v_cpu_lwsw).</li>
<li>Конвейерная версия (5-ти стадийный конвейер) (02_pipe_risc_v_cpu).</li>
</ol><br/>
<p>На текущий момент описывается следующая версия ядра (03_pipe_risc_v_cpu_fc) с полным набором команд RV32I (без учёта некоторых специальных).</p><a name="habracut"></a><br/>
<h3 id="kratkaya-informaciya">Краткая информация:</h3><br/>
<p>В ходе описания ядра продумывались пути повышения наглядности работы, отладки и верификации. На данный момент реализованы следующие методы: </p><br/>
<ol>
<li><p>Добавление отладочного текстового VGA модуля (для двух однотактных веток ядра). Включение данного модуля позволяет одновременно отслеживать значение 32 регистров на экране монитора, что не возможно при использовании вывода информации на семисегментные индикаторы. На рисунках представленных снизу ядро выполняет подсчёт чисел Леонардо и производится вывод информации на соответствующий отладочный модуль;<br/>
<br/>
</p><br/>
<div class="spoiler"><b class="spoiler_title">hex_display and DebugScreenCore</b><div class="spoiler_text"><p>Вывод информации на семисегментные индикаторы:<a href="https://habrastorage.org/webt/7r/at/zo/7ratzo8oi49q1f_ek3jt-ruzds4.gif"><img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/webt/7r/at/zo/7ratzo8oi49q1f_ek3jt-ruzds4.gif"/></a><br/>
Вывод информации на VGA дисплей:<a href="https://habrastorage.org/webt/_z/bf/ya/_zbfyafwvt-iiqcyldocwdejy9u.gif"><img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/webt/_z/bf/ya/_zbfyafwvt-iiqcyldocwdejy9u.gif"/></a></p></div></div><br/>
</li>
<li><p>Добавление вывода сообщений в терминал симулятора о состоянии регистрового файла и исполняемых на текущий момент инструкциях. Данный метод позволяет лучше анализировать работу ядра на первых стадиях разработки, но не всегда является удобным;<br/>
<br/>
</p><br/>
<div class="spoiler"><b class="spoiler_title">Терминал</b><div class="spoiler_text"><p>Инициализация регистрового файла:<a href="https://habrastorage.org/webt/od/27/en/od27enfo2ibej0nvimcacjcdrco.png"><img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/webt/od/27/en/od27enfo2ibej0nvimcacjcdrco.png"/></a><br/>
Изменение значение sp:<a href="https://habrastorage.org/webt/dx/5v/mo/dx5vmozlintg2jroatbavwu5vm4.png"><img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/webt/dx/5v/mo/dx5vmozlintg2jroatbavwu5vm4.png"/></a></p></div></div><br/>
</li>
<li><p>Добавление строковых переменных на waveform с отображением исполняемых инструкций. При помощи этих строковых переменных разработчик может отслеживать правильное выставление управляющих сигналов на всех стадиях конвейера;<br/>
<br/>
</p><br/>
<div class="spoiler"><b class="spoiler_title">Waveform</b><div class="spoiler_text"><p>Инициализация регистрового файла:<a href="https://habrastorage.org/webt/4f/u2/qt/4fu2qtvi_h4om4jam78ly4zk-vg.png"><img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/webt/4f/u2/qt/4fu2qtvi_h4om4jam78ly4zk-vg.png"/></a><br/>
Изменение значения sp:<a href="https://habrastorage.org/webt/fm/di/fk/fmdifk9sfizk1tdf1rkcwpf_7yu.png"><img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/webt/fm/di/fk/fmdifk9sfizk1tdf1rkcwpf_7yu.png"/></a></p></div></div><br/>
</li>
<li><p>Добавление возможности записи отладочной информации о состоянии ядра в текстовый файл. Состояние регистрового файла представляется в табличном виде, а также обозначается инструкция/инструкции, выполняемые на текущий момент ядром. Является аналогом 2 пункта, но позволяет производить больше манипуляций с полученной информацией;<br/>
<br/>
</p><br/>
<div class="spoiler"><b class="spoiler_title">Текстовый файл</b><div class="spoiler_text"><p>Инициализация регистрового файла:<a href="https://habrastorage.org/webt/ob/wp/i_/obwpi_h38heumilss3rumhiau8i.png"><img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/webt/ob/wp/i_/obwpi_h38heumilss3rumhiau8i.png"/></a><br/>
Изменение значения sp:<a href="https://habrastorage.org/webt/ua/wa/qb/uawaqbhqgb3v_rsn0i9re3hkaas.png"><img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/webt/ua/wa/qb/uawaqbhqgb3v_rsn0i9re3hkaas.png"/></a></p></div></div><br/>
</li>
<li><p>Добавление возможности записи отладочной информации о состоянии ядра в HTML файл. Состояние регистрового файла представляется в табличном виде с пометками об изменении значений ячеек, а также выводятся инструкции, выполняемые на текущий момент ядром. Является аналогом пунктов 2 и 4, но в дополнении к ним позволяет удобно указывать на изменение данных. Как можно видеть на картинках снизу в случае, если значение регистра было не определено, то подсветка регистров осуществляется красным цветом ( регистры s0/fp — t6 ). На 17 цикле значение регистра s0/fp изменяется и ячейка подсвечивается зелёным цветом.<br/>
На 41 цикле в регистр sp загружается значение 0x00010000.<br/>
<br/>
</p><br/>
<div class="spoiler"><b class="spoiler_title">HTML файл</b><div class="spoiler_text"><p>Инициализация регистрового файла: <a href="https://habrastorage.org/webt/d7/96/v4/d796v4kj0t_pcfhbepzqndka8ny.png"><img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/webt/d7/96/v4/d796v4kj0t_pcfhbepzqndka8ny.png"/></a><br/>
Изменение значения sp:<a href="https://habrastorage.org/webt/dc/dd/9c/dcdd9c7vu-rd8tkzfjggwffwhe0.png"><img src="/img/image-loader.svg" alt="image" data-src="https://habrastorage.org/webt/dc/dd/9c/dcdd9c7vu-rd8tkzfjggwffwhe0.png"/></a></p></div></div><br/>
</li>
</ol><br/>
<div class="spoiler"><b class="spoiler_title">Сравнение веток ядра:</b><div class="spoiler_text"><p>Поддерживаемые инструкции ядра на текущий момент для разных веток:</p><br/>
<div class="scrollable-table"><table>
<thead>
<tr>
<th>Инструкция</th>
<th>00_simple_risc_v_cpu</th>
<th>01_simple_risc_v_cpu_lwsw</th>
<th>02_pipe_risc_v_cpu</th>
</tr>
</thead>
<tbody>
<tr>
<td>add</td>
<td>+</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td>and</td>
<td>-</td>
<td>-</td>
<td>+</td>
</tr>
<tr>
<td>sll</td>
<td>-</td>
<td>-</td>
<td>+</td>
</tr>
<tr>
<td>or</td>
<td>+</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td>addi</td>
<td>+</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td>ori</td>
<td>-</td>
<td>-</td>
<td>+</td>
</tr>
<tr>
<td>slli</td>
<td>+</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td>lw</td>
<td>-</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td>jalr</td>
<td>-</td>
<td>-</td>
<td>+</td>
</tr>
<tr>
<td>lui</td>
<td>+</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td>beq</td>
<td>+</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td>bne</td>
<td>-</td>
<td>-</td>
<td>+</td>
</tr>
<tr>
<td>sw</td>
<td>-</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td>jal</td>
<td>-</td>
<td>-</td>
<td>+</td>
</tr>
<tr>
<td>sub</td>
<td>+</td>
<td>+</td>
<td>-</td>
</tr>
</tbody>
</table></div><br/>
<p>Поддерживаемая периферия:</p><br/>
<div class="scrollable-table"><table>
<thead>
<tr>
<th>Периферия</th>
<th>00_simple_risc_v_cpu</th>
<th>01_simple_risc_v_cpu_lwsw</th>
<th>02_pipe_risc_v_cpu</th>
</tr>
</thead>
<tbody>
<tr>
<td>RAM</td>
<td>-</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td>PWM</td>
<td>-</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td>GPIO</td>
<td>-</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td>UART</td>
<td>-</td>
<td>-</td>
<td>+</td>
</tr>
</tbody>
</table></div><br/>
<p>Поддерживаемые языки для написания программ:</p><br/>
<div class="scrollable-table"><table>
<thead>
<tr>
<th>Язык</th>
<th>00_simple_risc_v_cpu</th>
<th>01_simple_risc_v_cpu_lwsw</th>
<th>02_pipe_risc_v_cpu</th>
</tr>
</thead>
<tbody>
<tr>
<td>Assembler</td>
<td>+</td>
<td>+</td>
<td>+</td>
</tr>
<tr>
<td>C</td>
<td>-</td>
<td>-</td>
<td>+</td>
</tr>
</tbody>
</table></div><br/>
<p>Необходимые ресурсы ПЛИС для ядра (nf_cpu):</p><br/>
<p>EP4CE22F17C6 (de0_nano):</p><br/>
<div class="scrollable-table"><table>
<thead>
<tr>
<th></th>
<th>01_simple_risc_v_cpu_lwsw</th>
<th>02_pipe_risc_v_cpu</th>
<th>03_pipe_risc_v_cpu_fc</th>
</tr>
</thead>
<tbody>
<tr>
<td>Total memory bits</td>
<td>0 / 608,256 ( 0 % )</td>
<td>2,048 / 608,256 ( &lt; 1 % )</td>
<td>2,144 / 608,256 ( &lt; 1 % )</td>
</tr>
<tr>
<td>Total logic elements</td>
<td>3,645 / 22,320 ( 16 % )</td>
<td>1,739 / 22,320 ( 8 % )</td>
<td>2,058 / 22,320 ( 9 % )</td>
</tr>
<tr>
<td>Total combinational functions</td>
<td>2,653 / 22,320 ( 12 % )</td>
<td>1,472 / 22,320 ( 7 % )</td>
<td>1,838 / 22,320 ( 8 % )</td>
</tr>
<tr>
<td>Dedicated logic registers</td>
<td>1,055 / 22,320 ( 5 % )</td>
<td>575 / 22,320 ( 3 % )</td>
<td>606 / 22,320 ( 3 % )</td>
</tr>
</tbody>
</table></div><br/>
<p>10M50DAF484C7G (de10_lite):</p><br/>
<div class="scrollable-table"><table>
<thead>
<tr>
<th></th>
<th>00_simple_risc_v_cpu</th>
<th>01_simple_risc_v_cpu_lwsw</th>
<th>02_pipe_risc_v_cpu</th>
<th>03_pipe_risc_v_cpu_fc</th>
</tr>
</thead>
<tbody>
<tr>
<td>Total memory bits</td>
<td>0 / 1,677,312 ( 0 % )</td>
<td>0 / 1,677,312 ( 0 % )</td>
<td>2,048 / 1,677,312 ( &lt; 1 % )</td>
<td>2,144 / 1,677,312 ( &lt; 1 % )</td>
</tr>
<tr>
<td>Total logic elements</td>
<td>2,851 / 49,760 ( 6 % )</td>
<td>2,881 / 49,760 ( 6 % )</td>
<td>1,629 / 49,760 ( 3 % )</td>
<td>1,927 / 49,760 ( 4 % )</td>
</tr>
<tr>
<td>Total combinational functions</td>
<td>2,613 / 49,760 ( 5 % )</td>
<td>2,653 / 49,760 ( 5 % )</td>
<td>1,473 / 49,760 ( 3 % )</td>
<td>1,849 / 49,760 ( 4 % )</td>
</tr>
<tr>
<td>Dedicated logic registers</td>
<td>1,055 / 49,760 ( 2 % )</td>
<td>1,055 / 49,760 ( 2 % )</td>
<td>575 / 49,760 ( 1 % )</td>
<td>606 / 49,760 ( 1 % )</td>
</tr>
</tbody>
</table></div></div></div><br/>
<h3 id="razvitie-proekta">Развитие проекта.</h3><br/>
<p>Что планируется сделать в будущем:</p><br/>
<ol>
<li>добавить все инструкции RV32I (на стадии описания);</li>
<li>реализовать отладку;</li>
<li>добавить DMA (ПДП) контроллер;</li>
<li>добавить поддержка других шин AXI, Avalon, Wishbone;</li>
<li>добавить cache (КЭШ) память;</li>
<li>интегрировать различную периферию (SPI, TWI (I2C), Ethernet(10 base-t));</li>
<li>добавить контроллер прерываний;</li>
<li>портировать разные версии на другие отладочные платы;</li>
<li>добавить другие методы повышения наглядности работы ядра;</li>
<li>запуск RTOS, например <a href="https://www.zephyrproject.org">zephyr</a>.</li>
</ol><br/>
<p>Также принимаются рекомендации и предложения по развитию ядра.</p><br/>
<p>Ссылка на репозиторий: <a href="https://github.com/Dmitriy0111/nanoFOX">nanoFOX</a>.</p></div></div> <!----> <div class="tm-article-poll"><div class="tm-notice tm-article-poll__notice tm-notice_positive"><!----> <div class="tm-notice__inner"><!----> <div class="tm-notice__content"><span>Только зарегистрированные пользователи могут участвовать в опросе. <a rel="nofollow" href="/kek/v1/auth/habrahabr/?back=/ru/post/451388/&hl=ru">Войдите</a>, пожалуйста.</span></div></div></div> <div class="tm-article-poll__header">Что лучше раскрыть в следующих статьях?</div> <div class="tm-article-poll__answers"><div class="tm-article-poll__answer"><div class="tm-article-poll__answer-data"><span class="tm-article-poll__answer-percent">
            47.5%
          </span> <span class="tm-article-poll__answer-label">Детальное рассмотрение отдельных веток ядра;</span> <span class="tm-article-poll__answer-votes">
            19
          </span></div> <div class="tm-article-poll__answer-bar"><div class="tm-article-poll__answer-progress" style="width:47.5%;"></div></div></div><div class="tm-article-poll__answer"><div class="tm-article-poll__answer-data"><span class="tm-article-poll__answer-percent tm-article-poll__answer-percent_winning">
            60%
          </span> <span class="tm-article-poll__answer-label">Ассемблер RISC-V;</span> <span class="tm-article-poll__answer-votes">
            24
          </span></div> <div class="tm-article-poll__answer-bar"><div class="tm-article-poll__answer-progress tm-article-poll__answer-progress_winning" style="width:60%;"></div></div></div><div class="tm-article-poll__answer"><div class="tm-article-poll__answer-data"><span class="tm-article-poll__answer-percent">
            40%
          </span> <span class="tm-article-poll__answer-label">Сборка программ для ядра;</span> <span class="tm-article-poll__answer-votes">
            16
          </span></div> <div class="tm-article-poll__answer-bar"><div class="tm-article-poll__answer-progress" style="width:40%;"></div></div></div><div class="tm-article-poll__answer"><div class="tm-article-poll__answer-data"><span class="tm-article-poll__answer-percent">
            50%
          </span> <span class="tm-article-poll__answer-label">Первоначальная верификация ядра;</span> <span class="tm-article-poll__answer-votes">
            20
          </span></div> <div class="tm-article-poll__answer-bar"><div class="tm-article-poll__answer-progress" style="width:50%;"></div></div></div><div class="tm-article-poll__answer"><div class="tm-article-poll__answer-data"><span class="tm-article-poll__answer-percent">
            32.5%
          </span> <span class="tm-article-poll__answer-label">Запуск проектов на симуляцию;</span> <span class="tm-article-poll__answer-votes">
            13
          </span></div> <div class="tm-article-poll__answer-bar"><div class="tm-article-poll__answer-progress" style="width:32.5%;"></div></div></div><div class="tm-article-poll__answer"><div class="tm-article-poll__answer-data"><span class="tm-article-poll__answer-percent">
            27.5%
          </span> <span class="tm-article-poll__answer-label">Запуск проектов на синтез;</span> <span class="tm-article-poll__answer-votes">
            11
          </span></div> <div class="tm-article-poll__answer-bar"><div class="tm-article-poll__answer-progress" style="width:27.5%;"></div></div></div><div class="tm-article-poll__answer"><div class="tm-article-poll__answer-data"><span class="tm-article-poll__answer-percent">
            5%
          </span> <span class="tm-article-poll__answer-label">Другое (напишите в комментариях).</span> <span class="tm-article-poll__answer-votes">
            2
          </span></div> <div class="tm-article-poll__answer-bar"><div class="tm-article-poll__answer-progress" style="width:5%;"></div></div></div></div> <div class="tm-article-poll__stats">
       Проголосовали 40 пользователей. 

       Воздержались 7 пользователей. 
    </div></div></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5BFPGA%5D" class="tm-tags-list__link">FPGA</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5BSystemVerilog%5D" class="tm-tags-list__link">SystemVerilog</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bverification%5D" class="tm-tags-list__link">verification</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bdigital%20design%5D" class="tm-tags-list__link">digital design</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Brisc-v%5D" class="tm-tags-list__link">risc-v</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/hub/programming/" class="tm-hubs-list__link">
    Программирование
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/fpga/" class="tm-hubs-list__link">
    FPGA
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 23: ↑23 и ↓0</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 23: ↑23 и ↓0" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+23</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">3.4K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    40
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/Dmitriy0111/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><img alt="" src="//habrastorage.org/getpro/habr/avatars/329/6c2/76e/3296c276e1942b22b02c28f121f6fe30.jpg" class="tm-entity-image__pic"></div></a> <div class="tm-user-card__meta"><div title=" 13 голосов " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    8.7
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">0</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><span class="tm-user-card__name tm-user-card__name_variant-article">Дмитрий</span> <a href="/ru/users/Dmitriy0111/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @Dmitriy0111
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">FPGA — designer</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/451388/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 15 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <!----> <!----> <!----> <!----> </div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/451388/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/451388/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"451388":{"id":"451388","timePublished":"2019-05-21T14:19:08+00:00","isCorporative":false,"lang":"ru","titleHtml":"nanoFOX — простое RISC-V совместимое ядро","leadData":{"textHtml":"\u003Ch3 id=\"nebolshoe-vstuplenie\"\u003EНебольшое вступление:\u003C\u002Fh3\u003E\u003Cbr\u003E\r\n\u003Cp\u003EИдея написания собственного ядра появилась после прохождения \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F345286\u002F\"\u003Eшколы-семинара по цифровой схемотехнике в городе Томске\u003C\u002Fa\u003E. На данном мероприятии проводилось знакомство с текущими языками описания аппаратуры (Verilog HDL и VHDL), а также с небольшим процессорным ядром \u003Ca href=\"https:\u002F\u002Fgithub.com\u002FMIPSfpga\u002FschoolMIPS\"\u003EschoolMIPS\u003C\u002Fa\u003E. Для понимания устройства ядер было принято решение изобрести собственный велосипед, следуя по пути развития schoolMIPS, но взяв за основу другую систему команд. Вследствие роста популярности RISC-V и открытости его системы команд (MIPS на момент начала написания ядра не имел открытую систему команд) для осуществления разработки будущего ядра был выбран набор инструкций RISC-V, а именно RV32I. RV32I имеет небольшой набор базовых инструкций (37 без учёта специальных) и при желании его можно расширить, например, добавив инструкции целочисленного умножения и деления (RV32M) или поддержку сокращённых инструкций (compressed instructions) (RV32C). Также данный проект задумывался как образовательный, поэтому было решено по максимуму увеличить наглядность работы ядра для эффективной демонстрации его работы.\u003C\u002Fp\u003E\u003Cbr\u003E\r\n\u003Cp\u003EПо аналогии с schoolMIPS были реализованы следующие версии ядра: \u003C\u002Fp\u003E\u003Cbr\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EОднотактная версия (00_simple_risc_v_cpu).\u003C\u002Fli\u003E\r\n\u003Cli\u003EОднотактная версия с поддержкой инструкций lw\u002Fsw (load word\u002Fstore word) (01_simple_risc_v_cpu_lwsw).\u003C\u002Fli\u003E\r\n\u003Cli\u003EКонвейерная версия (5-ти стадийный конвейер) (02_pipe_risc_v_cpu).\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003Cbr\u003E\r\n\u003Cp\u003EНа текущий момент описывается следующая версия ядра (03_pipe_risc_v_cpu_fc) с полным набором команд RV32I (без учёта некоторых специальных).\u003C\u002Fp\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше →","image":null},"editorVersion":"1.0","postType":"article","postLabels":[],"author":{"scoreStats":{"score":8.7,"votesCount":13},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"1632971","alias":"Dmitriy0111","fullname":"Дмитрий","avatarUrl":"\u002F\u002Fhabrastorage.org\u002Fgetpro\u002Fhabr\u002Favatars\u002F329\u002F6c2\u002F76e\u002F3296c276e1942b22b02c28f121f6fe30.jpg","speciality":"FPGA — designer"},"statistics":{"commentsCount":15,"favoritesCount":40,"readingCount":3409,"score":23,"votesCount":23},"hubs":[{"relatedData":null,"id":"359","alias":"programming","type":"collective","title":"Программирование","titleHtml":"Программирование","isProfiled":true},{"relatedData":null,"id":"19733","alias":"fpga","type":"collective","title":"FPGA","titleHtml":"FPGA","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Ch3 id=\"nebolshoe-vstuplenie\"\u003EНебольшое вступление:\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EИдея написания собственного ядра появилась после прохождения \u003Ca href=\"https:\u002F\u002Fhabr.com\u002Fru\u002Fpost\u002F345286\u002F\"\u003Eшколы-семинара по цифровой схемотехнике в городе Томске\u003C\u002Fa\u003E. На данном мероприятии проводилось знакомство с текущими языками описания аппаратуры (Verilog HDL и VHDL), а также с небольшим процессорным ядром \u003Ca href=\"https:\u002F\u002Fgithub.com\u002FMIPSfpga\u002FschoolMIPS\"\u003EschoolMIPS\u003C\u002Fa\u003E. Для понимания устройства ядер было принято решение изобрести собственный велосипед, следуя по пути развития schoolMIPS, но взяв за основу другую систему команд. Вследствие роста популярности RISC-V и открытости его системы команд (MIPS на момент начала написания ядра не имел открытую систему команд) для осуществления разработки будущего ядра был выбран набор инструкций RISC-V, а именно RV32I. RV32I имеет небольшой набор базовых инструкций (37 без учёта специальных) и при желании его можно расширить, например, добавив инструкции целочисленного умножения и деления (RV32M) или поддержку сокращённых инструкций (compressed instructions) (RV32C). Также данный проект задумывался как образовательный, поэтому было решено по максимуму увеличить наглядность работы ядра для эффективной демонстрации его работы.\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EПо аналогии с schoolMIPS были реализованы следующие версии ядра: \u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003EОднотактная версия (00_simple_risc_v_cpu).\u003C\u002Fli\u003E\r\n\u003Cli\u003EОднотактная версия с поддержкой инструкций lw\u002Fsw (load word\u002Fstore word) (01_simple_risc_v_cpu_lwsw).\u003C\u002Fli\u003E\r\n\u003Cli\u003EКонвейерная версия (5-ти стадийный конвейер) (02_pipe_risc_v_cpu).\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EНа текущий момент описывается следующая версия ядра (03_pipe_risc_v_cpu_fc) с полным набором команд RV32I (без учёта некоторых специальных).\u003C\u002Fp\u003E\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Ch3 id=\"kratkaya-informaciya\"\u003EКраткая информация:\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EВ ходе описания ядра продумывались пути повышения наглядности работы, отладки и верификации. На данный момент реализованы следующие методы: \u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003E\u003Cp\u003EДобавление отладочного текстового VGA модуля (для двух однотактных веток ядра). Включение данного модуля позволяет одновременно отслеживать значение 32 регистров на экране монитора, что не возможно при использовании вывода информации на семисегментные индикаторы. На рисунках представленных снизу ядро выполняет подсчёт чисел Леонардо и производится вывод информации на соответствующий отладочный модуль;\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003Ehex_display and DebugScreenCore\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cp\u003EВывод информации на семисегментные индикаторы:\u003Ca href=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F7r\u002Fat\u002Fzo\u002F7ratzo8oi49q1f_ek3jt-ruzds4.gif\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F7r\u002Fat\u002Fzo\u002F7ratzo8oi49q1f_ek3jt-ruzds4.gif\"\u002F\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\nВывод информации на VGA дисплей:\u003Ca href=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F_z\u002Fbf\u002Fya\u002F_zbfyafwvt-iiqcyldocwdejy9u.gif\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F_z\u002Fbf\u002Fya\u002F_zbfyafwvt-iiqcyldocwdejy9u.gif\"\u002F\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cp\u003EДобавление вывода сообщений в терминал симулятора о состоянии регистрового файла и исполняемых на текущий момент инструкциях. Данный метод позволяет лучше анализировать работу ядра на первых стадиях разработки, но не всегда является удобным;\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EТерминал\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cp\u003EИнициализация регистрового файла:\u003Ca href=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fod\u002F27\u002Fen\u002Fod27enfo2ibej0nvimcacjcdrco.png\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fod\u002F27\u002Fen\u002Fod27enfo2ibej0nvimcacjcdrco.png\"\u002F\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\nИзменение значение sp:\u003Ca href=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fdx\u002F5v\u002Fmo\u002Fdx5vmozlintg2jroatbavwu5vm4.png\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fdx\u002F5v\u002Fmo\u002Fdx5vmozlintg2jroatbavwu5vm4.png\"\u002F\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cp\u003EДобавление строковых переменных на waveform с отображением исполняемых инструкций. При помощи этих строковых переменных разработчик может отслеживать правильное выставление управляющих сигналов на всех стадиях конвейера;\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EWaveform\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cp\u003EИнициализация регистрового файла:\u003Ca href=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F4f\u002Fu2\u002Fqt\u002F4fu2qtvi_h4om4jam78ly4zk-vg.png\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F4f\u002Fu2\u002Fqt\u002F4fu2qtvi_h4om4jam78ly4zk-vg.png\"\u002F\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\nИзменение значения sp:\u003Ca href=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Ffm\u002Fdi\u002Ffk\u002Ffmdifk9sfizk1tdf1rkcwpf_7yu.png\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Ffm\u002Fdi\u002Ffk\u002Ffmdifk9sfizk1tdf1rkcwpf_7yu.png\"\u002F\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cp\u003EДобавление возможности записи отладочной информации о состоянии ядра в текстовый файл. Состояние регистрового файла представляется в табличном виде, а также обозначается инструкция\u002Fинструкции, выполняемые на текущий момент ядром. Является аналогом 2 пункта, но позволяет производить больше манипуляций с полученной информацией;\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EТекстовый файл\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cp\u003EИнициализация регистрового файла:\u003Ca href=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fob\u002Fwp\u002Fi_\u002Fobwpi_h38heumilss3rumhiau8i.png\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fob\u002Fwp\u002Fi_\u002Fobwpi_h38heumilss3rumhiau8i.png\"\u002F\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\nИзменение значения sp:\u003Ca href=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fua\u002Fwa\u002Fqb\u002Fuawaqbhqgb3v_rsn0i9re3hkaas.png\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fua\u002Fwa\u002Fqb\u002Fuawaqbhqgb3v_rsn0i9re3hkaas.png\"\u002F\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003Cli\u003E\u003Cp\u003EДобавление возможности записи отладочной информации о состоянии ядра в HTML файл. Состояние регистрового файла представляется в табличном виде с пометками об изменении значений ячеек, а также выводятся инструкции, выполняемые на текущий момент ядром. Является аналогом пунктов 2 и 4, но в дополнении к ним позволяет удобно указывать на изменение данных. Как можно видеть на картинках снизу в случае, если значение регистра было не определено, то подсветка регистров осуществляется красным цветом ( регистры s0\u002Ffp — t6 ). На 17 цикле значение регистра s0\u002Ffp изменяется и ячейка подсвечивается зелёным цветом.\u003Cbr\u002F\u003E\r\nНа 41 цикле в регистр sp загружается значение 0x00010000.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EHTML файл\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cp\u003EИнициализация регистрового файла: \u003Ca href=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fd7\u002F96\u002Fv4\u002Fd796v4kj0t_pcfhbepzqndka8ny.png\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fd7\u002F96\u002Fv4\u002Fd796v4kj0t_pcfhbepzqndka8ny.png\"\u002F\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\nИзменение значения sp:\u003Ca href=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fdc\u002Fdd\u002F9c\u002Fdcdd9c7vu-rd8tkzfjggwffwhe0.png\"\u003E\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" alt=\"image\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fdc\u002Fdd\u002F9c\u002Fdcdd9c7vu-rd8tkzfjggwffwhe0.png\"\u002F\u003E\u003C\u002Fa\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EСравнение веток ядра:\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cp\u003EПоддерживаемые инструкции ядра на текущий момент для разных веток:\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"scrollable-table\"\u003E\u003Ctable\u003E\r\n\u003Cthead\u003E\r\n\u003Ctr\u003E\r\n\u003Cth\u003EИнструкция\u003C\u002Fth\u003E\r\n\u003Cth\u003E00_simple_risc_v_cpu\u003C\u002Fth\u003E\r\n\u003Cth\u003E01_simple_risc_v_cpu_lwsw\u003C\u002Fth\u003E\r\n\u003Cth\u003E02_pipe_risc_v_cpu\u003C\u002Fth\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003C\u002Fthead\u003E\r\n\u003Ctbody\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Eadd\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Eand\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Esll\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Eor\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Eaddi\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Eori\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Eslli\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Elw\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Ejalr\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Elui\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Ebeq\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Ebne\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Esw\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Ejal\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003Esub\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003C\u002Ftbody\u003E\r\n\u003C\u002Ftable\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EПоддерживаемая периферия:\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"scrollable-table\"\u003E\u003Ctable\u003E\r\n\u003Cthead\u003E\r\n\u003Ctr\u003E\r\n\u003Cth\u003EПериферия\u003C\u002Fth\u003E\r\n\u003Cth\u003E00_simple_risc_v_cpu\u003C\u002Fth\u003E\r\n\u003Cth\u003E01_simple_risc_v_cpu_lwsw\u003C\u002Fth\u003E\r\n\u003Cth\u003E02_pipe_risc_v_cpu\u003C\u002Fth\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003C\u002Fthead\u003E\r\n\u003Ctbody\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003ERAM\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003EPWM\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003EGPIO\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003EUART\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003C\u002Ftbody\u003E\r\n\u003C\u002Ftable\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EПоддерживаемые языки для написания программ:\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"scrollable-table\"\u003E\u003Ctable\u003E\r\n\u003Cthead\u003E\r\n\u003Ctr\u003E\r\n\u003Cth\u003EЯзык\u003C\u002Fth\u003E\r\n\u003Cth\u003E00_simple_risc_v_cpu\u003C\u002Fth\u003E\r\n\u003Cth\u003E01_simple_risc_v_cpu_lwsw\u003C\u002Fth\u003E\r\n\u003Cth\u003E02_pipe_risc_v_cpu\u003C\u002Fth\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003C\u002Fthead\u003E\r\n\u003Ctbody\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003EAssembler\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003EC\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E-\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E+\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003C\u002Ftbody\u003E\r\n\u003C\u002Ftable\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EНеобходимые ресурсы ПЛИС для ядра (nf_cpu):\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EEP4CE22F17C6 (de0_nano):\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"scrollable-table\"\u003E\u003Ctable\u003E\r\n\u003Cthead\u003E\r\n\u003Ctr\u003E\r\n\u003Cth\u003E\u003C\u002Fth\u003E\r\n\u003Cth\u003E01_simple_risc_v_cpu_lwsw\u003C\u002Fth\u003E\r\n\u003Cth\u003E02_pipe_risc_v_cpu\u003C\u002Fth\u003E\r\n\u003Cth\u003E03_pipe_risc_v_cpu_fc\u003C\u002Fth\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003C\u002Fthead\u003E\r\n\u003Ctbody\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003ETotal memory bits\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E0 \u002F 608,256 ( 0 % )\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E2,048 \u002F 608,256 ( &lt; 1 % )\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E2,144 \u002F 608,256 ( &lt; 1 % )\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003ETotal logic elements\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E3,645 \u002F 22,320 ( 16 % )\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E1,739 \u002F 22,320 ( 8 % )\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E2,058 \u002F 22,320 ( 9 % )\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003ETotal combinational functions\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E2,653 \u002F 22,320 ( 12 % )\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E1,472 \u002F 22,320 ( 7 % )\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E1,838 \u002F 22,320 ( 8 % )\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003EDedicated logic registers\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E1,055 \u002F 22,320 ( 5 % )\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E575 \u002F 22,320 ( 3 % )\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E606 \u002F 22,320 ( 3 % )\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003C\u002Ftbody\u003E\r\n\u003C\u002Ftable\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003E10M50DAF484C7G (de10_lite):\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"scrollable-table\"\u003E\u003Ctable\u003E\r\n\u003Cthead\u003E\r\n\u003Ctr\u003E\r\n\u003Cth\u003E\u003C\u002Fth\u003E\r\n\u003Cth\u003E00_simple_risc_v_cpu\u003C\u002Fth\u003E\r\n\u003Cth\u003E01_simple_risc_v_cpu_lwsw\u003C\u002Fth\u003E\r\n\u003Cth\u003E02_pipe_risc_v_cpu\u003C\u002Fth\u003E\r\n\u003Cth\u003E03_pipe_risc_v_cpu_fc\u003C\u002Fth\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003C\u002Fthead\u003E\r\n\u003Ctbody\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003ETotal memory bits\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E0 \u002F 1,677,312 ( 0 % )\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E0 \u002F 1,677,312 ( 0 % )\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E2,048 \u002F 1,677,312 ( &lt; 1 % )\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E2,144 \u002F 1,677,312 ( &lt; 1 % )\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003ETotal logic elements\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E2,851 \u002F 49,760 ( 6 % )\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E2,881 \u002F 49,760 ( 6 % )\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E1,629 \u002F 49,760 ( 3 % )\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E1,927 \u002F 49,760 ( 4 % )\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003ETotal combinational functions\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E2,613 \u002F 49,760 ( 5 % )\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E2,653 \u002F 49,760 ( 5 % )\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E1,473 \u002F 49,760 ( 3 % )\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E1,849 \u002F 49,760 ( 4 % )\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003Ctr\u003E\r\n\u003Ctd\u003EDedicated logic registers\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E1,055 \u002F 49,760 ( 2 % )\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E1,055 \u002F 49,760 ( 2 % )\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E575 \u002F 49,760 ( 1 % )\u003C\u002Ftd\u003E\r\n\u003Ctd\u003E606 \u002F 49,760 ( 1 % )\u003C\u002Ftd\u003E\r\n\u003C\u002Ftr\u003E\r\n\u003C\u002Ftbody\u003E\r\n\u003C\u002Ftable\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Ch3 id=\"razvitie-proekta\"\u003EРазвитие проекта.\u003C\u002Fh3\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EЧто планируется сделать в будущем:\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Col\u003E\r\n\u003Cli\u003Eдобавить все инструкции RV32I (на стадии описания);\u003C\u002Fli\u003E\r\n\u003Cli\u003Eреализовать отладку;\u003C\u002Fli\u003E\r\n\u003Cli\u003Eдобавить DMA (ПДП) контроллер;\u003C\u002Fli\u003E\r\n\u003Cli\u003Eдобавить поддержка других шин AXI, Avalon, Wishbone;\u003C\u002Fli\u003E\r\n\u003Cli\u003Eдобавить cache (КЭШ) память;\u003C\u002Fli\u003E\r\n\u003Cli\u003Eинтегрировать различную периферию (SPI, TWI (I2C), Ethernet(10 base-t));\u003C\u002Fli\u003E\r\n\u003Cli\u003Eдобавить контроллер прерываний;\u003C\u002Fli\u003E\r\n\u003Cli\u003Eпортировать разные версии на другие отладочные платы;\u003C\u002Fli\u003E\r\n\u003Cli\u003Eдобавить другие методы повышения наглядности работы ядра;\u003C\u002Fli\u003E\r\n\u003Cli\u003Eзапуск RTOS, например \u003Ca href=\"https:\u002F\u002Fwww.zephyrproject.org\"\u003Ezephyr\u003C\u002Fa\u003E.\u003C\u002Fli\u003E\r\n\u003C\u002Fol\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EТакже принимаются рекомендации и предложения по развитию ядра.\u003C\u002Fp\u003E\u003Cbr\u002F\u003E\r\n\u003Cp\u003EСсылка на репозиторий: \u003Ca href=\"https:\u002F\u002Fgithub.com\u002FDmitriy0111\u002FnanoFOX\"\u003EnanoFOX\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"FPGA"},{"titleHtml":"SystemVerilog"},{"titleHtml":"verification"},{"titleHtml":"digital design"},{"titleHtml":"risc-v"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F451388\u002Ff35f2e2832c7a0a7640f44efda7a2c0c\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F451388\u002Ff35f2e2832c7a0a7640f44efda7a2c0c\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F451388\\\u002F\"},\"headline\":\"nanoFOX — простое RISC-V совместимое ядро\",\"datePublished\":\"2019-05-21T17:19:08+03:00\",\"dateModified\":\"2019-05-22T18:06:56+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"Дмитрий\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Небольшое вступление: Идея написания собственного ядра появилась после прохождения школы-семинара по цифровой схемотехнике в городе Томске. На данном мероприятии...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F451388\\\u002F#post-content-body\",\"about\":[\"h_programming\",\"h_fpga\",\"f_develop\"],\"image\":[\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002F7r\\\u002Fat\\\u002Fzo\\\u002F7ratzo8oi49q1f_ek3jt-ruzds4.gif\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002F_z\\\u002Fbf\\\u002Fya\\\u002F_zbfyafwvt-iiqcyldocwdejy9u.gif\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fod\\\u002F27\\\u002Fen\\\u002Fod27enfo2ibej0nvimcacjcdrco.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fdx\\\u002F5v\\\u002Fmo\\\u002Fdx5vmozlintg2jroatbavwu5vm4.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002F4f\\\u002Fu2\\\u002Fqt\\\u002F4fu2qtvi_h4om4jam78ly4zk-vg.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Ffm\\\u002Fdi\\\u002Ffk\\\u002Ffmdifk9sfizk1tdf1rkcwpf_7yu.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fob\\\u002Fwp\\\u002Fi_\\\u002Fobwpi_h38heumilss3rumhiau8i.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fua\\\u002Fwa\\\u002Fqb\\\u002Fuawaqbhqgb3v_rsn0i9re3hkaas.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fd7\\\u002F96\\\u002Fv4\\\u002Fd796v4kj0t_pcfhbepzqndka8ny.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fdc\\\u002Fdd\\\u002F9c\\\u002Fdcdd9c7vu-rd8tkzfjggwffwhe0.png\"]}","metaDescription":"Небольшое вступление:\r\nИдея написания собственного ядра появилась после прохождения школы-семинара по цифровой схемотехнике в городе Томске. На данном мероприятии проводилось знакомство с текущими...","mainImageUrl":null,"amp":false},"polls":[{"id":"30270","timeElapsed":null,"answersType":"checkbox","votesCount":40,"passCount":7,"textHtml":"Что лучше раскрыть в следующих статьях?","relatedData":null,"variants":[{"id":"145074","textHtml":"Детальное рассмотрение отдельных веток ядра;","votesCount":19,"percent":47.5,"selected":false},{"id":"145076","textHtml":"Ассемблер RISC-V;","votesCount":24,"percent":60,"selected":false},{"id":"145078","textHtml":"Сборка программ для ядра;","votesCount":16,"percent":40,"selected":false},{"id":"145080","textHtml":"Первоначальная верификация ядра;","votesCount":20,"percent":50,"selected":false},{"id":"145082","textHtml":"Запуск проектов на симуляцию;","votesCount":13,"percent":32.5,"selected":false},{"id":"145084","textHtml":"Запуск проектов на синтез;","votesCount":11,"percent":27.5,"selected":false},{"id":"145086","textHtml":"Другое (напишите в комментариях).","votesCount":2,"percent":5,"selected":false}]}],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":"programming,fpga"},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
