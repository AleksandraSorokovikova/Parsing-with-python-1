<!DOCTYPE html>
<html lang="ru" data-vue-meta="%7B%22lang%22:%7B%22ssr%22:%22ru%22%7D%7D">
<head >
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0,viewport-fit=cover">
  <title>Загрузка ФИАС в БД на MSSQLSERVER подручными (SQLXMLBULKLOAD) средствами. Как это (наверное) не нужно делать / Хабр</title>
  <style>
    /* cyrillic-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSxf6TF0.woff2) format('woff2');
      unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
    }

    /* cyrillic */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveQhf6TF0.woff2) format('woff2');
      unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
    }

    /* latin-ext */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');
      unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
    }

    /* latin */
    @font-face {
      font-family: 'Fira Sans';
      font-style: normal;
      font-weight: 500;
      font-display: swap;
      src: url(https://fonts.gstatic.com/s/firasans/v11/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');
      unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
    }
  </style>
  <link rel="preload" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" as="script"><link rel="preload" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css" as="style"><link rel="preload" href="https://assets.habr.com/habr-web/js/app.c0af73e7.js" as="script">
  <link rel="stylesheet" href="https://assets.habr.com/habr-web/css/chunk-vendors.e7843cc0.css"><link rel="stylesheet" href="https://assets.habr.com/habr-web/css/app.02ee25a4.css">
  <script>window.i18nFetch = new Promise((res, rej) => {
          const xhr = new XMLHttpRequest();
          xhr.open('GET', '/js/i18n/ru-compiled.85eb77f0b17c8235e7b64b9f81ea5ec2.json');
          xhr.responseType = 'json';
          xhr.onload = function(e) {
            if (this.status === 200) {
              res({ru: xhr.response});
            } else {
              rej(e);
            }
          };
          xhr.send();
        });</script>
  
  <script data-vue-meta="ssr" src="/js/ads.js" onload="window['zhY4i4nJ9K'] = true" data-vmid="checkad"></script><script data-vue-meta="ssr" type="application/ld+json" data-vmid="ldjson-schema">{"@context":"http:\/\/schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/habr.com\/ru\/post\/451720\/"},"headline":"Загрузка ФИАС в БД на MSSQLSERVER подручными (SQLXMLBULKLOAD) средствами. Как это (наверное) не нужно делать","datePublished":"2019-05-14T13:56:02+03:00","dateModified":"2019-05-14T17:33:41+03:00","author":{"@type":"Person","name":"uaggster"},"publisher":{"@type":"Organization","name":"Habr","logo":{"@type":"ImageObject","url":"https:\/\/habrastorage.org\/webt\/a_\/lk\/9m\/a_lk9mjkccjox-zccjrpfolmkmq.png"}},"description":"Эпиграф: &laquo;Когда у тебя в руках молоток, всё вокруг кажется гвоздями&raquo;.   Как-то давным-давно, кажется &ndash; в прошлую пятницу, обходя окрестности офиса, озаботилось о...","url":"https:\/\/habr.com\/ru\/post\/451720\/#post-content-body","about":["h_sql","h_mssql","h_db_admins","f_develop","f_admin"],"image":["https:\/\/habrastorage.org\/webt\/k5\/a-\/n-\/k5a-n-tnsbjaef3vygje4uhsc3w.jpeg","https:\/\/habrastorage.org\/webt\/ka\/dq\/_y\/kadq_y5tmrzvdvwygjinprtmhpu.png","https:\/\/habrastorage.org\/webt\/-c\/pd\/jq\/-cpdjqt9bvrun2x69w0qujwp4rc.png"]}</script>
  <script src="//www.googletagservices.com/tag/js/gpt.js" async></script>
  <style>.grecaptcha-badge{visibility: hidden;}</style>
  <meta name="habr-version" content="2.49.0">
  
  <meta data-vue-meta="ssr" property="fb:app_id" content="444736788986613"><meta data-vue-meta="ssr" property="fb:pages" content="472597926099084"><meta data-vue-meta="ssr" name="twitter:card" content="summary_large_image"><meta data-vue-meta="ssr" name="twitter:site" content="@habr_eng"><meta data-vue-meta="ssr" property="og:title" content="Загрузка ФИАС в БД на MSSQLSERVER подручными (SQLXMLBULKLOAD) средствами. Как это (наверное) не нужно делать" data-vmid="og:title"><meta data-vue-meta="ssr" name="twitter:title" content="Загрузка ФИАС в БД на MSSQLSERVER подручными (SQLXMLBULKLOAD) средствами. Как это (наверное) не нужно делать" data-vmid="twitter:title"><meta data-vue-meta="ssr" name="aiturec:title" content="Загрузка ФИАС в БД на MSSQLSERVER подручными (SQLXMLBULKLOAD) средствами. Как это (наверное) не нужно делать" data-vmid="aiturec:title"><meta data-vue-meta="ssr" name="description" content="Эпиграф:
«Когда у тебя в руках молоток, всё вокруг кажется гвоздями».


Как-то давным-давно, кажется – в прошлую пятницу, обходя окрестности офиса, озаботилось окаянное начальство тем, что я..." data-vmid="description"><meta data-vue-meta="ssr" itemprop="description" content="Эпиграф:
«Когда у тебя в руках молоток, всё вокруг кажется гвоздями».


Как-то давным-давно, кажется – в прошлую пятницу, обходя окрестности офиса, озаботилось окаянное начальство тем, что я..." data-vmid="description:itemprop"><meta data-vue-meta="ssr" property="og:description" content="Эпиграф:
«Когда у тебя в руках молоток, всё вокруг кажется гвоздями».


Как-то давным-давно, кажется – в прошлую пятницу, обходя окрестности офиса, озаботилось окаянное начальство тем, что я..." data-vmid="og:description"><meta data-vue-meta="ssr" name="twitter:description" content="Эпиграф:
«Когда у тебя в руках молоток, всё вокруг кажется гвоздями».


Как-то давным-давно, кажется – в прошлую пятницу, обходя окрестности офиса, озаботилось окаянное начальство тем, что я..." data-vmid="twitter:description"><meta data-vue-meta="ssr" property="aiturec:description" content="Эпиграф:
«Когда у тебя в руках молоток, всё вокруг кажется гвоздями».


Как-то давным-давно, кажется – в прошлую пятницу, обходя окрестности офиса, озаботилось окаянное начальство тем, что я..." data-vmid="aiturec:description"><meta data-vue-meta="ssr" itemprop="image" content="https://habr.com/share/publication/451720/ae8c24272223cea678a767fdcd8cd908/" data-vmid="image:itemprop"><meta data-vue-meta="ssr" property="og:image" content="https://habr.com/share/publication/451720/ae8c24272223cea678a767fdcd8cd908/" data-vmid="og:image"><meta data-vue-meta="ssr" property="aiturec:image" content="https://habr.com/share/publication/451720/ae8c24272223cea678a767fdcd8cd908/" data-vmid="aiturec:image"><meta data-vue-meta="ssr" name="twitter:image" content="https://habr.com/share/publication/451720/ae8c24272223cea678a767fdcd8cd908/" data-vmid="twitter:image"><meta data-vue-meta="ssr" property="vk:image" content="https://habr.com/share/publication/451720/ae8c24272223cea678a767fdcd8cd908/" data-vmid="vk:image"><meta data-vue-meta="ssr" property="aiturec:item_id" content="451720" data-vmid="aiturec:item_id"><meta data-vue-meta="ssr" property="aiturec:datetime" content="2019-05-14T10:56:02.000Z" data-vmid="aiturec:datetime"><meta data-vue-meta="ssr" property="og:type" content="article" data-vmid="og:type"><meta data-vue-meta="ssr" property="og:locale" content="ru_RU" data-vmid="og:locale"><meta data-vue-meta="ssr" property="og:image:width" content="1200" data-vmid="og:image:width"><meta data-vue-meta="ssr" property="og:image:height" content="630" data-vmid="og:image:height">
  <link data-vue-meta="ssr" href="https://habr.com/ru/rss/post/451720/?fl=ru" type="application/rss+xml" title="" rel="alternate" name="rss"><link data-vue-meta="ssr" href="https://habr.com/ru/post/451720/" rel="canonical" data-vmid="canonical"><link data-vue-meta="ssr" data-vmid="hreflang"><link data-vue-meta="ssr" image_src="image" href="https://habr.com/share/publication/451720/ae8c24272223cea678a767fdcd8cd908/" data-vmid="image:href">
  <meta name="apple-mobile-web-app-status-bar-style" content="#303b44">
  <meta name="msapplication-TileColor" content="#629FBC">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="16x16"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-16.png"
  >
  <link
    rel="shortcut icon"
    type="image/png"
    sizes="32x32"
    href="https://assets.habr.com/habr-web/img/favicons/favicon-32.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="76x76"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-76.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="120x120"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="152x152"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-152.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="180x180"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-180.png"
  >
  <link
    rel="apple-touch-icon"
    type="image/png"
    sizes="256x256"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-256.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1136x640.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2436x1125.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1792x828.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_828x1792.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1334x750.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2208x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1125x2436.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1242x2208.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2732x2048.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 414px) and (device-height: 896px) and (-webkit-device-pixel-ratio: 3) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2688x1242.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2224x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_750x1334.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x2732.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2388x1668.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2224.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_640x1136.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 834px) and (device-height: 1194px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1668x2388.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: landscape)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_2048x1536.png"
  >
  <link
    rel="apple-touch-startup-image"
    media="screen and (device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)"
    href="https://assets.habr.com/habr-web/img/splashes/splash_1536x2048.png"
  >
  <link
    rel="mask-icon"
    color="#77a2b6"
    href="https://assets.habr.com/habr-web/img/favicons/apple-touch-icon-120.svg"
  >
  <link
    crossorigin="use-credentials"
    href="/manifest.webmanifest"
    rel="manifest"
  >
</head>
<body>


<div id="app" data-server-rendered="true" data-async-called="true"><div class="tm-layout__wrapper"><!----> <div></div> <!----> <header class="tm-header"><div class="tm-page-width"><div class="tm-header__container"><!----> <span class="tm-header__logo-wrap"><a href="/ru/" class="tm-header__logo tm-header__logo_ru"><svg height="16" width="16" class="tm-svg-img tm-header__icon"><title>Хабр</title> <use xlink:href="/img/habr-logo-ru.svg#logo"></use></svg></a> <span class="tm-header__beta-sign" style="display:none;">β</span></span> <div class="tm-dropdown tm-header__projects"><div class="tm-dropdown__head"><button class="tm-header__dropdown-toggle"><svg height="16" width="16" class="tm-svg-img tm-header__icon tm-header__icon_dropdown"><title>Открыть список</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#arrow-down"></use></svg></button></div> <!----></div> <a href="/ru/sandbox/start/" class="tm-header__become-author-btn">
            Как стать автором
          </a> <div class="tm-feature tm-header__feature tm-feature_variant-inline"><!----></div> <!----> <!----></div></div></header> <div class="tm-layout"><div class="tm-page-progress-bar"></div> <div data-menu-sticky="true" class="tm-base-layout__header tm-base-layout__header_is-sticky"><div class="tm-page-width"><div class="tm-base-layout__header-wrapper"><div class="tm-main-menu"><div class="tm-main-menu__section"><nav class="tm-main-menu__section-content"><!----> <a href="/ru/all/" class="tm-main-menu__item">
        Все потоки
      </a> <a href="/ru/flows/develop/" class="tm-main-menu__item">
          Разработка
        </a><a href="/ru/flows/admin/" class="tm-main-menu__item">
          Администрирование
        </a><a href="/ru/flows/design/" class="tm-main-menu__item">
          Дизайн
        </a><a href="/ru/flows/management/" class="tm-main-menu__item">
          Менеджмент
        </a><a href="/ru/flows/marketing/" class="tm-main-menu__item">
          Маркетинг
        </a><a href="/ru/flows/popsci/" class="tm-main-menu__item">
          Научпоп
        </a></nav></div></div> <div class="tm-header-user-menu tm-base-layout__user-menu"><a href="/ru/search/" class="tm-header-user-menu__item tm-header-user-menu__search"><svg height="24" width="24" class="tm-svg-img tm-header-user-menu__icon tm-header-user-menu__icon_search tm-header-user-menu__icon_dark"><title>Поиск</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#search"></use></svg></a> <!----> <!----> <!----> <div class="tm-header-user-menu__item tm-header-user-menu__user_desktop"><div class="tm-dropdown"><div class="tm-dropdown__head"><svg height="24" width="24" data-test-id="menu-toggle-guest" class="tm-svg-img tm-header-user-menu__icon"><title>Профиль</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#header-user"></use></svg> <!----></div> <!----></div> <!----></div> <!----></div></div></div></div> <!----> <div class="tm-page-width"></div> <main class="tm-layout__container"><div hl="ru" data-async-called="true" class="tm-page"><div class="tm-page-width"><!----> <div class="tm-page__wrapper"><div class="tm-page__main tm-page__main_has-sidebar"><div class="pull-down"><div class="pull-down__header" style="height:0px;"><div class="pull-down__content" style="bottom:10px;"><svg height="24" width="24" class="tm-svg-img pull-down__arrow"><title>Обновить</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#pull-arrow"></use></svg></div></div> <div class="tm-article-presenter"> <div class="tm-article-presenter__body"><div class="tm-misprint-area"><div class="tm-misprint-area__wrapper"><article class="tm-article-presenter__content tm-article-presenter__content_narrow"><div class="tm-article-presenter__header"> <div class="tm-article-snippet tm-article-presenter__snippet"><div class="tm-article-snippet__meta-container"><div class="tm-article-snippet__meta"><span class="tm-user-info tm-article-snippet__author"><a href="/ru/users/uaggster/" title="uaggster" class="tm-user-info__userpic"><div class="tm-entity-image"><svg height="24" width="24" class="tm-svg-img tm-image-placeholder tm-image-placeholder_lilac"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <span class="tm-user-info__user"><a href="/ru/users/uaggster/" class="tm-user-info__username">
      uaggster
    </a> </span></span> <span class="tm-article-snippet__datetime-published"><time datetime="2019-05-14T10:56:02.000Z" title="2019-05-14, 13:56">14  мая  2019 в 13:56</time></span></div> <!----></div> <h1 lang="ru" class="tm-article-snippet__title tm-article-snippet__title_h1"><span>Загрузка ФИАС в БД на MSSQLSERVER подручными (SQLXMLBULKLOAD) средствами. Как это (наверное) не нужно делать</span></h1> <div class="tm-article-snippet__hubs"><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/sql/" class="tm-article-snippet__hubs-item-link"><span>SQL</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/mssql/" class="tm-article-snippet__hubs-item-link"><span>Microsoft SQL Server</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span><span class="tm-article-snippet__hubs-item"><a href="/ru/hub/db_admins/" class="tm-article-snippet__hubs-item-link"><span>Администрирование баз данных</span> <span title="Профильный хаб" class="tm-article-snippet__profiled-hub">*</span></a></span></div> <div class="tm-article-snippet__labels"><div class="tm-article-snippet__label"><span>
        Tutorial
      </span></div></div> <!----> <!----></div></div> <!----> <div data-gallery-root="" lang="ru" class="tm-article-body"><div id="post-content-body" class="article-formatted-body article-formatted-body_version-1"><div xmlns="http://www.w3.org/1999/xhtml"><blockquote>Эпиграф:<br/>
«Когда у тебя в руках молоток, всё вокруг кажется гвоздями».<br/>
</blockquote><br/>
<div style="text-align:center;"><img src="https://habrastorage.org/r/w780q1/webt/k5/a-/n-/k5a-n-tnsbjaef3vygje4uhsc3w.jpeg" data-src="https://habrastorage.org/webt/k5/a-/n-/k5a-n-tnsbjaef3vygje4uhsc3w.jpeg" data-blurred="true"/></div><br/>
Как-то давным-давно, кажется – в прошлую пятницу, обходя окрестности офиса, озаботилось окаянное начальство тем, что я провожу время в праздности и созерцании котиков и кошечек.<br/>
<br/>
 — А не загрузить ли тебе ФИАС, друг ситный! – сказало начальство. – Ибо процесс его загрузки что-то не нравится нашим бизнес-подразделениям. Долго, говорят грузится, грузит продуктовый сервер, да и чувак, который писал процесс загрузки, намедни уволился, года как три уже.<br/>
К тому же, все там давно нужно переделать, так что ты возьми, создай себе базу и обеспечь периодическую заливку ФИАСА. Всё, как говорится, не задерживаю!<br/>
<br/>
Тут надо сказать, что к программированию я имею отдаленное отношение, т.к. являюсь, скорее, DBA. Хотя, с другой то стороны, загрузка больших массивов предварительно отпрепарированной информации – как раз задача DBA, nest pa?<br/>
<br/>
 — Да ладно… Щас сделаем – сказал я начальству, и ринулся на сайт ФИАСА, засучив рукава.<br/>
<a name="habracut"></a><br/>
«О! Да тут есть dbf!» — подумал я, радостно потирая руки, параллельно подивившись отсутствию стандартного «де-факто» zip архива, и, наоборот, присутствию давно почившего в бозе arj и <s>проприетарному</s> пардон, открытому, конечно, 7zip [но который всё равно нельзя разжать с помощью powershell Expand-Archive]. Т.е. чистым powershell’ом это не скачаешь и не распакуешь. Придётся громоздить на сервер всякую хрень. Ну да ладно.<br/>
<br/>
Инструментарий по массовой параллельной загрузке dbf файлов у меня написан лет уже как несколько, так что проблем возникнуть не должно.<br/>
<br/>
Я распаковал dbf-ки, запустил программу загрузки, и пока данные грузились, набросал скриптик, который склеивал отдельные «почти-одноименные» таблички в одну, по принадлежности.<br/>
<br/>
Загрузил данные, и уже хотел отправиться в кабинет руководства пожать, т.с., лавры, однако черт меня дернул посмотреть результаты импорта!<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/ka/dq/_y/kadq_y5tmrzvdvwygjinprtmhpu.png"/><br/>
<br/>
 — Упс. WTF!!!???<br/>
<br/>
<img src="/img/image-loader.svg" data-src="https://habrastorage.org/webt/-c/pd/jq/-cpdjqt9bvrun2x69w0qujwp4rc.png"/><br/>
<br/>
Большие таблицы грузились нормально, а маленькие – содержали кракозябры.<br/>
<br/>
И так мне от всего этого стало грустно и тоскливо, что я мужественно взял себя в руки и занялся прокрастинацией и своими прямыми обязанностями. Возиться с битыми dbf-ками – жутко не хотелось.<br/>
<br/>
Прокрастинировал я дня два, до тех пор, пока заявки не кончились, и на горизонте снова не замаячило начальство, с сакраментальным вопросом «А чё это мы сачкуем?».<br/>
<br/>
И, так как ответить было нечего, а возиться с dbf – по-прежнему не хотелось, я решил загрузить ФИАС из xml, тем более что, как говориться, стильно, модно, молодёжно, и «dbf – умирающий формат».<br/>
На этом, разрешите затянувшийся вводный монолог закончить, и перейти к делу.<br/>
<br/>
<blockquote>Эпиграф 2:<br/>
Да, так тоже можно. :-)<br/>
</blockquote><br/>
Итак, грузить было решено c помощью <a href="https://docs.microsoft.com/ru-ru/sql/relational-databases/sqlxml-annotated-xsd-schemas-xpath-queries/bulk-load-xml/performing-bulk-load-of-xml-data-sqlxml-4-0?view=sql-server-2017">SQLXMLBULKLOAD</a> – замечательной библиотеки, как раз и предназначенной для массовой (bulk) заливки структурированных xml файлов.<br/>
Для того, чтобы ее использовать, нужно <a href="https://www.microsoft.com/en-us/download/details.aspx?id=30403">скачать</a> и установить библиотеку SqlXml 4.0 Service Pack 1 (SP1).<br/>
<br/>
В случае ФИАСа, однако, «структурированность» не особо востребована. Т.к. файлы там не то, что не xml… они, конечно, xml, но, по сути – это плоские таблицы с данными, в каждом файле – одна таблица.<br/>
<br/>
На сайте sql.ru я <a href="https://www.sql.ru/forum/720892/optimalnost-metodov-zagruzki-xml-v-mssql?mid=8075805#8075805">нашел</a> процедуру <b>spXMLBulkLoad</b> уважаемого пользователя <b>Mnior</b>, чтобы совсем уж не вылезать за пределы SQL сервера, и не писать даже вызов SQLXMLBULKLOAD на CLR.<br/>
<br/>
Вот слегка модифицированный ее вариант:<br/>
<br/>
<div class="spoiler"><b class="spoiler_title">spXMLBulkLoad</b><div class="spoiler_text"><pre><code class="sql">USE [FIAS2]
GO

/****** Object:  StoredProcedure [dbo].[spXMLBulkLoad]    Script Date: 13.05.2019 18:05:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


-- Необходимо разрешить Ole Automation Procedures:
	-- EXEC sp_configure 'Ole Automation Procedures', 1; RECONFIGURE WITH OVERRIDE;

-- Пример:
	-- EXEC dbo.spXMLBulkLoad 'Z:\Path\Data.xml','Z:\Path\Schema.xsd', 'FIAS', 'Z:\Path\error.xml'

CREATE PROCEDURE [dbo].[spXMLBulkLoad] (
	 @File		SysName
	,@Schema	SysName
	,@DataBase	SysName	= '&lt;DefaultDataBase>'
	,@ErrorLog	SysName
) AS 
BEGIN 
	DECLARE	 @ErrCode	Int
		,@OLEXMLBulk	Int
		,@ErrMethod		SysName
		,@ErrDescript	NVarChar(4000)
	
	EXEC @ErrCode = sys.sp_OACreate 'SQLXMLBulkLoad.SQLXMLBulkload', @OLEXMLBulk OUT
	IF (@ErrCode = 0) 
	BEGIN
		SET	@DataBase	= 'Provider=SQLOLEDB;Data Source=.;DataBase=' + @DataBase + ';Integrated Security=SSPI'
		EXEC @ErrCode = sys.sp_OASetProperty @OLEXMLBulk ,'ConnectionString', @DataBase		
			IF (@ErrCode &lt;> 0) 
				BEGIN SET @ErrMethod = 'ConnectionString'	
					  GOTO Error 
				END
		EXEC @ErrCode = sys.sp_OASetProperty @OLEXMLBulk ,'ErrorLogFile', @ErrorLog		
			IF (@ErrCode &lt;> 0) 
				BEGIN SET @ErrMethod = 'ErrorLogFile'	
					  GOTO Error 
				END

		EXEC @ErrCode = sys.sp_OASetProperty @OLEXMLBulk, 'CheckConstraints', 1			
			IF (@ErrCode &lt;> 0) 
				BEGIN SET @ErrMethod = 'CheckConstraints'	
					  GOTO Error 
				END

		--EXEC @ErrCode = sys.sp_OASetProperty @OLEXMLBulk, 'ForceTableLock', 1			
		--	IF (@ErrCode &lt;> 0) 
		--		BEGIN SET @ErrMethod = 'ForceTableLock'	
		--			  GOTO Error 
		--		END
		
		EXEC @ErrCode = sys.sp_OAMethod	@OLEXMLBulk, 'Execute', NULL, @Schema, @File
		IF (@ErrCode &lt;> 0) 
		BEGIN
			SET @ErrMethod = 'Execute'
			DECLARE	 @Exist	Int
					,@Error	XML
				    ,@SQL	NvarChar(max)
			EXEC master.dbo.xp_FileExist @ErrorLog, @Exist OUT
			IF (@Exist = 1) 
			BEGIN
				 -- Из @ErrorLog файла
				Set @SQL = N'SELECT  @Error = E.Error + CASE WHEN Right(E.Error,1) &lt;> ''>'' THEN ''lt>'' ELSE '''' END '
						   + N'FROM OPENROWSET(BULK '''+ @ErrorLog +''', SINGLE_NCLOB) E(Error)'
				exec sp_executesql @SQL, N'@Error xml OUTPUT', @Error=@Error OUTPUT 
				
				SELECT	@ErrDescript	= IsNull(@ErrDescript,'') + E.Error.value('Description[1]','SysName') + ' '
				FROM	@Error.nodes('/Result/Error')E(Error)
				SELECT	@ErrDescript	= IsNull(@ErrDescript,'') + E.Error.value('Description[1]','SysName') + ' '
				FROM	@Error.nodes('/Error/Record')E(Error)
			END 
			ELSE
				GOTO Error
		END
		GOTO Destroy
	Error:	
			EXEC @ErrCode = sys.sp_OAGetErrorInfo @OLEXMLBulk, @ErrorLog OUT, @ErrDescript OUT
	Destroy:
			EXEC @ErrCode = sys.sp_OADestroy @OLEXMLBulk
	END 
	ELSE
		SELECT	 
			 @ErrMethod	= 'SQLXMLBulkLoad.SQLXMLBulkload'
			,@ErrorLog	= 'sp_OACreate'
			,@ErrDescript	= 'Ошибка создания OLE объекта'
	
	-- Вывод ошибок
	IF (@ErrMethod IS NOT NULL) 
	BEGIN
		RAISERROR('Ошибка при выполнении метода "%s" в "%s": %s',18,1, @ErrMethod, @ErrorLog, @ErrDescript)
		RETURN	@@Error
	END
END
GO
</code></pre><br/>
</div></div><br/>
Однако, для осуществления массовой загрузки xml с помощью этой библиотеки необходимы аннотированные xsd схемы, в которых, собственно, и указывается, каким образом и куда что грузится.<br/>
<br/>
Упоминания о том, что такие схемы есть, «но только старые» — я нашел аж на десятке сайтов, но нигде не нашел самих схем. И разозлился.<br/>
<br/>
Модифицировать имеющуюся на сайте ФИАСа схему для импорта данных вручную – не сложно.<br/>
Но… в совокупности – там 271 поле! Это ж сколько сидеть и тупить надо!<br/>
<br/>
Поэтому я решил модифицировать эти схемы автоматически, заодно и создав целевые таблицы в БД.<br/>
<br/>
SQLXMLBULKLOAD умеет автоматически создавать таблицы для загружаемых данных из аннотированной схемы, но, с другой стороны, если я эту схему буду делать, то почему бы, попутно не сделать эти таблицы самому, так, как мне нужно?<br/>
<br/>
Я скачал xsd схемы с сайта ФИАС и проанализировал их чисто визуально.<br/>
<br/>
К счастью, они все – однотипные, поэтому создать целевую БД и модифицировать сами схемы для загрузки можно с помощью всего нескольких не очень сложных запросов.<br/>
<br/>
<b>1. Создадим пустую базу FIAS2.</b><br/>
Почему «2»? Ну, потому что «1» — была база из dbf-ок. Возможно, мы поговорим о ней позже.<br/>
<br/>
<div class="spoiler"><b class="spoiler_title">Скрипт создания БД FIAS2</b><div class="spoiler_text"><pre><code class="sql">CREATE DATABASE [FIAS2]
 CONTAINMENT = NONE
 ON  PRIMARY 
( NAME = N'FIAS', FILENAME = N'E:\Data\FIAS1.mdf' , SIZE = 10485760KB , FILEGROWTH = 1048576KB )
 LOG ON 
( NAME = N'FIAS_log', FILENAME = N'E:\Data\FIAS1_log.ldf' , SIZE = 1048576KB , FILEGROWTH = 131072KB )
GO
ALTER DATABASE [FIAS2] SET COMPATIBILITY_LEVEL = 120
GO
ALTER DATABASE [FIAS2] SET ANSI_NULL_DEFAULT ON 
GO
ALTER DATABASE [FIAS2] SET ANSI_NULLS ON 
GO
ALTER DATABASE [FIAS2] SET ANSI_PADDING ON 
GO
ALTER DATABASE [FIAS2] SET ANSI_WARNINGS ON 
GO
ALTER DATABASE [FIAS2] SET ARITHABORT OFF 
GO
ALTER DATABASE [FIAS2] SET AUTO_CLOSE OFF 
GO
ALTER DATABASE [FIAS2] SET AUTO_SHRINK OFF 
GO
ALTER DATABASE [FIAS2] SET AUTO_CREATE_STATISTICS ON(INCREMENTAL = OFF)
GO
ALTER DATABASE [FIAS2] SET AUTO_UPDATE_STATISTICS ON 
GO
ALTER DATABASE [FIAS2] SET CURSOR_CLOSE_ON_COMMIT OFF 
GO
ALTER DATABASE [FIAS2] SET CURSOR_DEFAULT  GLOBAL 
GO
ALTER DATABASE [FIAS2] SET CONCAT_NULL_YIELDS_NULL ON 
GO
ALTER DATABASE [FIAS2] SET NUMERIC_ROUNDABORT OFF 
GO
ALTER DATABASE [FIAS2] SET QUOTED_IDENTIFIER ON 
GO
ALTER DATABASE [FIAS2] SET RECURSIVE_TRIGGERS OFF 
GO
ALTER DATABASE [FIAS2] SET  DISABLE_BROKER 
GO
ALTER DATABASE [FIAS2] SET AUTO_UPDATE_STATISTICS_ASYNC OFF 
GO
ALTER DATABASE [FIAS2] SET DATE_CORRELATION_OPTIMIZATION OFF 
GO
ALTER DATABASE [FIAS2] SET PARAMETERIZATION SIMPLE 
GO
ALTER DATABASE [FIAS2] SET READ_COMMITTED_SNAPSHOT ON 
GO
ALTER DATABASE [FIAS2] SET  READ_WRITE 
GO
ALTER DATABASE [FIAS2] SET RECOVERY SIMPLE 
GO
ALTER DATABASE [FIAS2] SET  MULTI_USER 
GO
ALTER DATABASE [FIAS2] SET PAGE_VERIFY CHECKSUM  
GO
ALTER DATABASE [FIAS2] SET TARGET_RECOVERY_TIME = 0 SECONDS 
GO
ALTER DATABASE [FIAS2] SET DELAYED_DURABILITY = DISABLED 
GO
USE [FIAS2]
GO
IF NOT EXISTS (SELECT name FROM sys.filegroups WHERE is_default=1 AND name = N'PRIMARY') ALTER DATABASE [FIAS2] MODIFY FILEGROUP [PRIMARY] DEFAULT
GO
</code></pre><br/>
</div></div><br/>
<b>2. Создадим в этой базе пару табличек.</b><br/>
<br/>
Первая табличка будет содержать xsd схемы, а вторая – будет представлять из себя фактически схему данных, полученную из этих xsd схем.<br/>
<br/>
xsd- схемы – это, вообще-то обычные xml файлы, так что и работать с ними можно как с обычными xml-ями.<br/>
<br/>
<pre><code class="sql">USE [FIAS2]
go

if OBJECT_ID('dbo.[_FIAS]') is not null 
	drop table dbo.[_FIAS]
go

if OBJECT_ID('dbo._FIAS_SCHEMAS') is not null 
	drop table dbo.[_FIAS_SCHEMAS]
go

Create table dbo.[_FIAS_SCHEMAS] (x xml, [table] sysname)
go

-- Первый запрос: Загрузим схемы в табличку на сервере, для дальнейших манипуляций.
insert into dbo.[_FIAS_SCHEMAS] (x, [table])
SELECT x = CAST(BulkColumn AS XML).query('.'), '_ACTSTAT' [table] FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_ACTSTAT_2_250_08_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_ADDROBJ' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_ADDROBJ_2_250_01_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_CENTERST' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_CENTERST_2_250_10_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_CURENTST' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_CURENTST_2_250_07_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_DEL_ADDROBJ' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_DEL_ADDROBJ_2_250_15_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_DEL_HOUSEINT' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_DEL_HOUSEINT_2_250_17_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_DEL_HOUSE' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_DEL_HOUSE_2_250_16_04_01_01.xsd', SINGLE_BLOB) x
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_DEL_LANDMARK' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_DEL_LANDMARK_2_250_18_04_01_01.xsd', SINGLE_BLOB) x
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_DEL_NORMDOC' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_DEL_NORMDOC_2_250_19_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_ESTSTAT' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_ESTSTAT_2_250_13_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_FLATTYPE' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_FLATTYPE_2_250_23_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_HOUSEINT' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_HOUSEINT_2_250_03_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_HOUSE' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_HOUSE_2_250_02_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_HSTSTAT' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_HSTSTAT_2_250_12_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_INTVSTAT' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_INTVSTAT_2_250_11_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_LANDMARK' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_LANDMARK_2_250_04_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_NDOCTYPE' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_NDOCTYPE_2_250_20_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_NORMDOC' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_NORMDOC_2_250_05_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_OPERSTAT' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_OPERSTAT_2_250_09_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_ROOMTYPE' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_ROOMTYPE_2_250_24_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_ROOM' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_ROOM_2_250_21_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_SOCRBASE' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_SOCRBASE_2_250_06_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_STEAD' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_STEAD_2_250_22_04_01_01.xsd', SINGLE_BLOB) x 
Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_STRSTAT' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_STRSTAT_2_250_14_04_01_01.xsd', SINGLE_BLOB) x 

 
-- Второй запрос: Распотрошим схемы, и создадим рабочую таблицу с метаданными
;WITH XMLNAMESPACES ('http://www.w3.org/2001/XMLSchema' as xs) 
Select a.[table]
  ,tbl.[root_name]
  ,tbl.[root_description]
  ,tbl.[name]
  ,ROW_NUMBER() over (partition by a.[table] order by 1/0) N
  ,tbl.[column]
  ,tbl.[required]
  ,tbl.[description]
  ,tbl.[type]
  ,tbl.[len]
  ,Case tbl.[type]  
		when N'byte' then N'tinyint' 
		when N'date' then N'date'
		when N'int'  then N'int'
		when N'string' then
						Case when tbl.[len] = 36 and (tbl.[column] like N'%ID' or tbl.[column] = N'NORMDOC') then N'uniqueidentifier'
							when tbl.[len] is Null then N'nvarchar(max)'
						Else N'nvarchar(' + cast(tbl.[len] as nvarchar(4000)) + N')' END
		when N'integer' then
						Case when tbl.[len] > 9 then N'bigint'
							 when tbl.[len] &lt;= 4 then N'smallint'
							Else N'int'
						end
		else N'nvarchar(max)'
		End [sqltype]
  ,t.n.query('.') [node]
into dbo.[_FIAS]
from dbo.[_FIAS_SCHEMAS] a
	Cross apply a.x.nodes('//xs:attribute') t(n)
	Cross apply 
			(values -- некоторые поля используются несколько раз, поэтому сделаем так :) 
			(
				 x.value('(xs:schema[1]/xs:element[1]/@name)', 'nvarchar(255)')
				,x.value('(xs:schema[1]/xs:element[1]/xs:annotation/xs:documentation[1]/text())[1]', 'nvarchar(4000)')
				,x.value('(xs:schema[1]/xs:element[1]/xs:complexType[1]/xs:sequence[1]/xs:element[1]/@name)', 'nvarchar(255)')
				,t.n.value('(./@name)[1]', 'nvarchar(255)')
				,t.n.value('(./@use)[1]', 'nvarchar(255)') 
				,Stuff(Coalesce(t.n.value('(./xs:simpleType/xs:restriction/@base)[1]', 'nvarchar(255)'), t.n.value('(./@type)[1]', 'nvarchar(255)')), 1, 3, '')
				,Coalesce(t.n.value('(./xs:simpleType/xs:restriction/xs:length/@value)[1]', 'int')
							,t.n.value('(./xs:simpleType/xs:restriction/xs:maxLength/@value)[1]', 'int')
							,t.n.value('(./xs:simpleType/xs:restriction/xs:totalDigits/@value)[1]', 'int'))
				,Replace(
				 Replace(
				 Replace(
				 Replace(
				 Replace(
				 Replace(
				 Replace(
				 Replace(
				 Replace(t.n.value('(./xs:annotation/xs:documentation)[1]', 'nvarchar(4000)'), '  ', ' ')
				 , '  ', ' ')
				 , '  ', ' ')
				 , '  ', ' ')
				 , '  ', ' ')
				 , '  ', ' ')
				 , '  ', ' ')
				 , '  ', ' ')
				 , '  ', ' ') 
			)
			) tbl([root_name], [root_description], [name], [column], [required], [type], [len], [description])

-- Посмотрим на результат
Select * from dbo.[_FIAS]
</code></pre><br/>
<b>Подробнее по запросам:</b><br/>
<br/>
Первый – загружает xsd схемы в таблицу на сервере, попутно снабжая каждую схему аннотацией в поле [table] – именем таблицы, в которую я хочу грузить данные из соответствующей таблицы.<br/>
<br/>
Безусловно, можно было-бы сделать так, что каждый раз, когда схемы поменяются, их можно было бы скачивать, подсовывать в какую-нибудь папку и пересоздавать по ним структуру целевых таблиц заново и автоматически, и заново же и автоматически модифицировать схемы, но т.к. структура меняется крайне редко, последний раз менялась – аж в 16 году – делать такой автомат крайне лениво. Лучше потратить 30 секунд на CTRL+C – CTRL+V.<br/>
<br/>
Поэтому загрузка в табличку со схемами так захардкожена, и пути к загружаемым файлам, а также имена таблиц – прописаны руками.<br/>
<br/>
Второй запрос – вытаскивает из схем информацию о структуре таблиц. Я не стал возиться с 3-нф, а развернул ее как одну таблицу.<br/>
<br/>
Обратите, кстати, внимание на вот этот кусочек (+)<br/>
<br/>
Довольно часто новички задают вопрос: можно ли вычислить какое-то сложное выражение в запросе 1 раз, а потом многократно использовать его в нескольких местах. Да, можно. Вот так, например:<br/>
<br/>
<pre><code class="sql">from dbo.[_FIAS_SCHEMAS] a
	Cross apply a.x.nodes('//xs:attribute') t(n)
	Cross apply 
			(values -- некоторые поля используются несколько раз, поэтому сделаем так :) 
			(
			 x.value('(xs:schema[1]/xs:element[1]/@name)', 'nvarchar(255)')
, ... здесь можно перечислить все сложновычисляемые поля, чтобы потом использовать их в любой части запроса
			)
			) tbl([root_name], [root_description], [name], [column], [required], [type], [len], [description])
</code></pre><br/>
Работает с некоторыми ограничениями, конечно. Но, начав пользоваться, вы быстро поймете, в чем они заключаются.<br/>
<br/>
<b>3. Создадим скрипты, создающие таблицы ФИАС, а потом запустим их, и создадим сами таблицы:</b><br/>
<br/>
<pre><code class="sql">
Declare @schema sysname = N'dbo'
Declare @sql nvarchar(max)

-- Создадим код для создания таблиц, и запустим его
set @sql = (
	Select Distinct 
		N';Create table ' 
		+ Quotename(@schema)
		+ N'.'
		+ Quotename([table])
		+ N'('
		+ Stuff((Select
				N',' 
				+ QUOTENAME(b.[column]) 
				+ N' '
				+ b.[sqltype]
				+ Case b.[required] when 'required' then N' NOT NULL'
									when 'optional' then N' NULL'
					End 
				From dbo.[_FIAS] b
				where b.[table] = a.[table]
				Order by N ASC
				For xml path(N''), type
				).value(N'.', 'nvarchar(max)'), 1, 1, N'')
		+ N')'
		from dbo.[_FIAS] a
	For xml path(N''), type).value(N'.', N'nvarchar(max)')
exec (@sql)
</code></pre><br/>
Кому лень всё это проделывать – скрипты на создание таблиц и аннотированные схемы ФИАС будут приложены в конце статьи.<br/>
<br/>
<div class="spoiler"><b class="spoiler_title">Запрос на создание таблиц, который получился в результате работы запроса</b><div class="spoiler_text"><pre><code class="sql">;

CREATE TABLE [dbo].[_ACTSTAT] (
	[NAME] NVARCHAR(100) NOT NULL
	,[ACTSTATID] BIGINT NOT NULL
	);

CREATE TABLE [dbo].[_ADDROBJ] (
	[AOGUID] UNIQUEIDENTIFIER NOT NULL
	,[FORMALNAME] NVARCHAR(120) NOT NULL
	,[REGIONCODE] NVARCHAR(2) NOT NULL
	,[AUTOCODE] NVARCHAR(1) NOT NULL
	,[AREACODE] NVARCHAR(3) NOT NULL
	,[CITYCODE] NVARCHAR(3) NOT NULL
	,[CTARCODE] NVARCHAR(3) NOT NULL
	,[PLACECODE] NVARCHAR(3) NOT NULL
	,[PLANCODE] NVARCHAR(4) NOT NULL
	,[STREETCODE] NVARCHAR(4) NULL
	,[EXTRCODE] NVARCHAR(4) NOT NULL
	,[SEXTCODE] NVARCHAR(3) NOT NULL
	,[OFFNAME] NVARCHAR(120) NULL
	,[POSTALCODE] NVARCHAR(6) NULL
	,[IFNSFL] NVARCHAR(4) NULL
	,[TERRIFNSFL] NVARCHAR(4) NULL
	,[IFNSUL] NVARCHAR(4) NULL
	,[TERRIFNSUL] NVARCHAR(4) NULL
	,[OKATO] NVARCHAR(11) NULL
	,[UPDATEDATE] DATE NOT NULL
	,[SHORTNAME] NVARCHAR(10) NOT NULL
	,[AOLEVEL] BIGINT NOT NULL
	,[PARENTGUID] UNIQUEIDENTIFIER NULL
	,[AOID] UNIQUEIDENTIFIER NOT NULL
	,[PREVID] UNIQUEIDENTIFIER NULL
	,[NEXTID] UNIQUEIDENTIFIER NULL
	,[CODE] NVARCHAR(17) NULL
	,[PLAINCODE] NVARCHAR(15) NULL
	,[ACTSTATUS] BIGINT NOT NULL
	,[CENTSTATUS] BIGINT NOT NULL
	,[OPERSTATUS] BIGINT NOT NULL
	,[CURRSTATUS] BIGINT NOT NULL
	,[STARTDATE] DATE NOT NULL
	,[ENDDATE] DATE NOT NULL
	,[NORMDOC] UNIQUEIDENTIFIER NULL
	,[LIVESTATUS] TINYINT NOT NULL
	,[DIVTYPE] INT NOT NULL
	,[OKTMO] NVARCHAR(11) NULL
	);

CREATE TABLE [dbo].[_CENTERST] (
	[CENTERSTID] BIGINT NOT NULL
	,[NAME] NVARCHAR(100) NOT NULL
	);

CREATE TABLE [dbo].[_CURENTST] (
	[CURENTSTID] BIGINT NOT NULL
	,[NAME] NVARCHAR(100) NOT NULL
	);

CREATE TABLE [dbo].[_DEL_ADDROBJ] (
	[AOGUID] UNIQUEIDENTIFIER NOT NULL
	,[FORMALNAME] NVARCHAR(120) NOT NULL
	,[REGIONCODE] NVARCHAR(2) NOT NULL
	,[AUTOCODE] NVARCHAR(1) NOT NULL
	,[AREACODE] NVARCHAR(3) NOT NULL
	,[CITYCODE] NVARCHAR(3) NOT NULL
	,[CTARCODE] NVARCHAR(3) NOT NULL
	,[PLACECODE] NVARCHAR(3) NOT NULL
	,[STREETCODE] NVARCHAR(4) NULL
	,[EXTRCODE] NVARCHAR(4) NOT NULL
	,[PLANCODE] NVARCHAR(4) NOT NULL
	,[SEXTCODE] NVARCHAR(3) NOT NULL
	,[OFFNAME] NVARCHAR(120) NULL
	,[POSTALCODE] NVARCHAR(6) NULL
	,[SHORTNAME] NVARCHAR(10) NOT NULL
	,[AOLEVEL] BIGINT NOT NULL
	,[PARENTGUID] UNIQUEIDENTIFIER NULL
	,[AOID] UNIQUEIDENTIFIER NOT NULL
	,[PREVID] UNIQUEIDENTIFIER NULL
	,[NEXTID] UNIQUEIDENTIFIER NULL
	,[CODE] NVARCHAR(17) NULL
	,[PLAINCODE] NVARCHAR(15) NULL
	,[ACTSTATUS] BIGINT NOT NULL
	,[CENTSTATUS] BIGINT NOT NULL
	,[OPERSTATUS] BIGINT NOT NULL
	,[CURRSTATUS] BIGINT NOT NULL
	,[STARTDATE] DATE NOT NULL
	,[ENDDATE] DATE NOT NULL
	,[NORMDOC] UNIQUEIDENTIFIER NULL
	,[LIVESTATUS] TINYINT NOT NULL
	,[IFNSFL] NVARCHAR(4) NULL
	,[TERRIFNSFL] NVARCHAR(4) NULL
	,[IFNSUL] NVARCHAR(4) NULL
	,[TERRIFNSUL] NVARCHAR(4) NULL
	,[OKATO] NVARCHAR(11) NULL
	,[OKTMO] NVARCHAR(11) NULL
	,[UPDATEDATE] DATE NOT NULL
	);

CREATE TABLE [dbo].[_DEL_HOUSE] (
	[POSTALCODE] NVARCHAR(6) NULL
	,[IFNSFL] NVARCHAR(4) NULL
	,[TERRIFNSFL] NVARCHAR(4) NULL
	,[IFNSUL] NVARCHAR(4) NULL
	,[TERRIFNSUL] NVARCHAR(4) NULL
	,[OKATO] NVARCHAR(11) NULL
	,[OKTMO] NVARCHAR(11) NULL
	,[UPDATEDATE] DATE NOT NULL
	,[HOUSENUM] NVARCHAR(20) NULL
	,[ESTSTATUS] SMALLINT NOT NULL
	,[BUILDNUM] NVARCHAR(10) NULL
	,[STRUCNUM] NVARCHAR(10) NULL
	,[STRSTATUS] BIGINT NULL
	,[HOUSEID] UNIQUEIDENTIFIER NOT NULL
	,[HOUSEGUID] UNIQUEIDENTIFIER NOT NULL
	,[AOGUID] UNIQUEIDENTIFIER NOT NULL
	,[STARTDATE] DATE NOT NULL
	,[ENDDATE] DATE NOT NULL
	,[STATSTATUS] BIGINT NOT NULL
	,[NORMDOC] UNIQUEIDENTIFIER NULL
	,[COUNTER] BIGINT NOT NULL
	,[CADNUM] NVARCHAR(100) NULL
	,[DIVTYPE] INT NOT NULL
	);

CREATE TABLE [dbo].[_DEL_HOUSEINT] (
	[IFNSUL] NVARCHAR(4) NULL
	,[TERRIFNSUL] NVARCHAR(4) NULL
	,[OKATO] NVARCHAR(11) NULL
	,[OKTMO] NVARCHAR(11) NULL
	,[UPDATEDATE] DATE NOT NULL
	,[INTSTART] BIGINT NOT NULL
	,[INTEND] BIGINT NOT NULL
	,[POSTALCODE] NVARCHAR(6) NULL
	,[IFNSFL] NVARCHAR(4) NULL
	,[TERRIFNSFL] NVARCHAR(4) NULL
	,[HOUSEINTID] UNIQUEIDENTIFIER NOT NULL
	,[INTGUID] UNIQUEIDENTIFIER NOT NULL
	,[AOGUID] UNIQUEIDENTIFIER NOT NULL
	,[STARTDATE] DATE NOT NULL
	,[ENDDATE] DATE NOT NULL
	,[INTSTATUS] BIGINT NOT NULL
	,[NORMDOC] UNIQUEIDENTIFIER NULL
	,[COUNTER] BIGINT NOT NULL
	);

CREATE TABLE [dbo].[_DEL_LANDMARK] (
	[LOCATION] NVARCHAR(500) NOT NULL
	,[POSTALCODE] NVARCHAR(6) NULL
	,[IFNSFL] NVARCHAR(4) NULL
	,[TERRIFNSFL] NVARCHAR(4) NULL
	,[IFNSUL] NVARCHAR(4) NULL
	,[TERRIFNSUL] NVARCHAR(4) NULL
	,[OKATO] NVARCHAR(11) NULL
	,[OKTMO] NVARCHAR(11) NULL
	,[UPDATEDATE] DATE NOT NULL
	,[LANDID] UNIQUEIDENTIFIER NOT NULL
	,[LANDGUID] UNIQUEIDENTIFIER NOT NULL
	,[AOGUID] UNIQUEIDENTIFIER NOT NULL
	,[STARTDATE] DATE NOT NULL
	,[ENDDATE] DATE NOT NULL
	,[NORMDOC] UNIQUEIDENTIFIER NULL
	);

CREATE TABLE [dbo].[_DEL_NORMDOC] (
	[NORMDOCID] UNIQUEIDENTIFIER NOT NULL
	,[DOCNAME] NVARCHAR(max) NULL
	,[DOCDATE] DATE NULL
	,[DOCNUM] NVARCHAR(20) NULL
	,[DOCTYPE] BIGINT NOT NULL
	,[DOCIMGID] UNIQUEIDENTIFIER NULL
	);

CREATE TABLE [dbo].[_ESTSTAT] (
	[ESTSTATID] BIGINT NOT NULL
	,[NAME] NVARCHAR(20) NOT NULL
	,[SHORTNAME] NVARCHAR(20) NULL
	);

CREATE TABLE [dbo].[_FLATTYPE] (
	[SHORTNAME] NVARCHAR(20) NULL
	,[FLTYPEID] BIGINT NOT NULL
	,[NAME] NVARCHAR(20) NOT NULL
	);

CREATE TABLE [dbo].[_HOUSE] (
	[POSTALCODE] NVARCHAR(6) NULL
	,[REGIONCODE] NVARCHAR(2) NULL
	,[IFNSFL] NVARCHAR(4) NULL
	,[TERRIFNSFL] NVARCHAR(4) NULL
	,[IFNSUL] NVARCHAR(4) NULL
	,[TERRIFNSUL] NVARCHAR(4) NULL
	,[OKATO] NVARCHAR(11) NULL
	,[OKTMO] NVARCHAR(11) NULL
	,[UPDATEDATE] DATE NOT NULL
	,[HOUSENUM] NVARCHAR(20) NULL
	,[ESTSTATUS] SMALLINT NOT NULL
	,[BUILDNUM] NVARCHAR(10) NULL
	,[STRUCNUM] NVARCHAR(10) NULL
	,[STRSTATUS] BIGINT NULL
	,[HOUSEID] UNIQUEIDENTIFIER NOT NULL
	,[HOUSEGUID] UNIQUEIDENTIFIER NOT NULL
	,[AOGUID] UNIQUEIDENTIFIER NOT NULL
	,[STARTDATE] DATE NOT NULL
	,[ENDDATE] DATE NOT NULL
	,[STATSTATUS] BIGINT NOT NULL
	,[NORMDOC] UNIQUEIDENTIFIER NULL
	,[COUNTER] BIGINT NOT NULL
	,[CADNUM] NVARCHAR(100) NULL
	,[DIVTYPE] INT NOT NULL
	);

CREATE TABLE [dbo].[_HOUSEINT] (
	[OKTMO] NVARCHAR(11) NULL
	,[OKATO] NVARCHAR(11) NULL
	,[IFNSUL] NVARCHAR(4) NULL
	,[TERRIFNSUL] NVARCHAR(4) NULL
	,[TERRIFNSFL] NVARCHAR(4) NULL
	,[POSTALCODE] NVARCHAR(6) NULL
	,[IFNSFL] NVARCHAR(4) NULL
	,[ENDDATE] DATE NOT NULL
	,[INTSTATUS] BIGINT NOT NULL
	,[AOGUID] UNIQUEIDENTIFIER NOT NULL
	,[STARTDATE] DATE NOT NULL
	,[INTGUID] UNIQUEIDENTIFIER NOT NULL
	,[HOUSEINTID] UNIQUEIDENTIFIER NOT NULL
	,[INTSTART] BIGINT NOT NULL
	,[INTEND] BIGINT NOT NULL
	,[UPDATEDATE] DATE NOT NULL
	,[NORMDOC] UNIQUEIDENTIFIER NULL
	,[COUNTER] BIGINT NOT NULL
	);

CREATE TABLE [dbo].[_HSTSTAT] (
	[HOUSESTID] BIGINT NOT NULL
	,[NAME] NVARCHAR(60) NOT NULL
	);

CREATE TABLE [dbo].[_INTVSTAT] (
	[INTVSTATID] BIGINT NOT NULL
	,[NAME] NVARCHAR(60) NOT NULL
	);

CREATE TABLE [dbo].[_LANDMARK] (
	[NORMDOC] UNIQUEIDENTIFIER NULL
	,[STARTDATE] DATE NOT NULL
	,[ENDDATE] DATE NOT NULL
	,[LANDGUID] UNIQUEIDENTIFIER NOT NULL
	,[AOGUID] UNIQUEIDENTIFIER NOT NULL
	,[LANDID] UNIQUEIDENTIFIER NOT NULL
	,[LOCATION] NVARCHAR(500) NOT NULL
	,[POSTALCODE] NVARCHAR(6) NULL
	,[TERRIFNSFL] NVARCHAR(4) NULL
	,[IFNSFL] NVARCHAR(4) NULL
	,[UPDATEDATE] DATE NOT NULL
	,[OKTMO] NVARCHAR(11) NULL
	,[OKATO] NVARCHAR(11) NULL
	,[IFNSUL] NVARCHAR(4) NULL
	,[TERRIFNSUL] NVARCHAR(4) NULL
	);

CREATE TABLE [dbo].[_NDOCTYPE] (
	[NDTYPEID] BIGINT NOT NULL
	,[NAME] NVARCHAR(250) NOT NULL
	);

CREATE TABLE [dbo].[_NORMDOC] (
	[NORMDOCID] UNIQUEIDENTIFIER NOT NULL
	,[DOCNAME] NVARCHAR(max) NULL
	,[DOCDATE] DATE NULL
	,[DOCNUM] NVARCHAR(20) NULL
	,[DOCTYPE] BIGINT NOT NULL
	,[DOCIMGID] UNIQUEIDENTIFIER NULL
	);

CREATE TABLE [dbo].[_OPERSTAT] (
	[OPERSTATID] BIGINT NOT NULL
	,[NAME] NVARCHAR(100) NOT NULL
	);

CREATE TABLE [dbo].[_ROOM] (
	[ROOMGUID] UNIQUEIDENTIFIER NOT NULL
	,[FLATNUMBER] NVARCHAR(50) NOT NULL
	,[FLATTYPE] INT NOT NULL
	,[ROOMNUMBER] NVARCHAR(50) NULL
	,[ROOMTYPE] INT NULL
	,[REGIONCODE] NVARCHAR(2) NOT NULL
	,[POSTALCODE] NVARCHAR(6) NULL
	,[UPDATEDATE] DATE NOT NULL
	,[HOUSEGUID] UNIQUEIDENTIFIER NOT NULL
	,[ROOMID] UNIQUEIDENTIFIER NOT NULL
	,[PREVID] UNIQUEIDENTIFIER NULL
	,[NEXTID] UNIQUEIDENTIFIER NULL
	,[STARTDATE] DATE NOT NULL
	,[ENDDATE] DATE NOT NULL
	,[LIVESTATUS] TINYINT NOT NULL
	,[NORMDOC] UNIQUEIDENTIFIER NULL
	,[OPERSTATUS] BIGINT NOT NULL
	,[CADNUM] NVARCHAR(100) NULL
	,[ROOMCADNUM] NVARCHAR(100) NULL
	);

CREATE TABLE [dbo].[_ROOMTYPE] (
	[SHORTNAME] NVARCHAR(20) NULL
	,[NAME] NVARCHAR(20) NOT NULL
	,[RMTYPEID] BIGINT NOT NULL
	);

CREATE TABLE [dbo].[_SOCRBASE] (
	[LEVEL] BIGINT NOT NULL
	,[SCNAME] NVARCHAR(10) NULL
	,[SOCRNAME] NVARCHAR(50) NOT NULL
	,[KOD_T_ST] NVARCHAR(4) NOT NULL
	);

CREATE TABLE [dbo].[_STEAD] (
	[STEADGUID] UNIQUEIDENTIFIER NOT NULL
	,[NUMBER] NVARCHAR(120) NULL
	,[REGIONCODE] NVARCHAR(2) NOT NULL
	,[POSTALCODE] NVARCHAR(6) NULL
	,[IFNSFL] NVARCHAR(4) NULL
	,[TERRIFNSFL] NVARCHAR(4) NULL
	,[IFNSUL] NVARCHAR(4) NULL
	,[TERRIFNSUL] NVARCHAR(4) NULL
	,[OKATO] NVARCHAR(11) NULL
	,[OKTMO] NVARCHAR(11) NULL
	,[UPDATEDATE] DATE NOT NULL
	,[PARENTGUID] UNIQUEIDENTIFIER NULL
	,[STEADID] UNIQUEIDENTIFIER NOT NULL
	,[PREVID] UNIQUEIDENTIFIER NULL
	,[NEXTID] UNIQUEIDENTIFIER NULL
	,[OPERSTATUS] BIGINT NOT NULL
	,[STARTDATE] DATE NOT NULL
	,[ENDDATE] DATE NOT NULL
	,[NORMDOC] UNIQUEIDENTIFIER NULL
	,[LIVESTATUS] TINYINT NOT NULL
	,[CADNUM] NVARCHAR(100) NULL
	,[DIVTYPE] INT NOT NULL
	);

CREATE TABLE [dbo].[_STRSTAT] (
	[NAME] NVARCHAR(20) NOT NULL
	,[SHORTNAME] NVARCHAR(20) NULL
	,[STRSTATID] BIGINT NOT NULL
	)
</code></pre><br/>
</div></div><br/>
<b>4. Коль скоро в xsd есть нормальное описание таблиц и полей в них – используем его, и создадим описание структуры в расширенных свойствах таблиц и их полей:</b><br/>
<br/>
<pre><code class="sql">-- Создадим аннотацию к таблицам и полям
Set @sql = (
Select N'; exec sp_addextendedproperty @name=''description'', @value=N''' 
		+ a.[root_description] 
		+ N''', @level0type =N''Schema'', @level0name = N''' 
		+ @schema 
		+ N''', @level1type = N''Table'',  @level1name = N''' 
		+ a.[table]
		+ N''''
from (Select distinct [table], [root_description] from dbo.[_FIAS]) a
for xml path(N''), type
).value(N'.', N'nvarchar(max)')
exec (@sql)

Set @sql = (
Select N'; exec sp_addextendedproperty @name=''description'', @value=N''' 
		+ a.[description] 
		+ N''', @level0type =N''Schema'', @level0name = N''' 
		+ @schema 
		+ N''', @level1type = N''Table'',  @level1name = N''' 
		+ a.[table] 
		+ N''', @level2type = N''Column'', @level2name = N''' 
		+ a.[column] 
		+ N''''
from dbo.[_FIAS] a
for xml path(N''), type
).value(N'.', N'nvarchar(max)')
exec (@sql)
</code></pre><br/>
<div class="spoiler"><b class="spoiler_title">Вот код, который получился и выполнился в результате работы</b><div class="spoiler_text"><pre><code class="sql">;

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией по статусу актуальности в БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ACTSTAT';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией классификатора адресообразующих элементов БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией по статусу центра в БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_CENTERST';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией по статусу актуальности КЛАДР 4.0 в БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_CURENTST';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией классификатора адресообразующих элементов БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией по номерам домов улиц городов и населенных пунктов, номера земельных участков и т.п в БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией по интервалам домов в БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSEINT';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией по описанию мест расположения  имущественных объектов в БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_LANDMARK';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией по сведениям по нормативным документам, являющимся основанием присвоения адресному элементу наименования в БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_NORMDOC';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией по признакам владения в БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ESTSTAT';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией по типам помещений в БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_FLATTYPE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией по номерам домов улиц городов и населенных пунктов в БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией по интервалам домов в БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSEINT';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией по статусу состояния домов  в БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HSTSTAT';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией по статусу интервалов домов в БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_INTVSTAT';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией по описанию мест расположения  имущественных объектов в БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_LANDMARK';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией по типу нормативного документа в БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_NDOCTYPE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией по сведениям по нормативным документам, являющимся основанием присвоения адресному элементу наименования в БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_NORMDOC';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией по статусу действия в БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_OPERSTAT';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла со сведениями о помещениях'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOM';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией по типам комнат в БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOMTYPE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией по типам адресных объектов в БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_SOCRBASE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла со сведениями о земельных участках'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состав и структура файла с информацией по признакам строения в БД ФИАС'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STRSTAT'

;

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Глобальный уникальный идентификатор адресного объекта '
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'AOGUID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Формализованное наименование'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'FORMALNAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код региона'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'REGIONCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код автономии'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'AUTOCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код района'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'AREACODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код города'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'CITYCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код внутригородского района'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'CTARCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код населенного пункта'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'PLACECODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код элемента планировочной структуры'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'PLANCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код улицы'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'STREETCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код дополнительного адресообразующего элемента'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'EXTRCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код подчиненного дополнительного адресообразующего элемента'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'SEXTCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Официальное наименование'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'OFFNAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Почтовый индекс'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'POSTALCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код ИФНС ФЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'IFNSFL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код территориального участка ИФНС ФЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'TERRIFNSFL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код ИФНС ЮЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'IFNSUL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код территориального участка ИФНС ЮЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'TERRIFNSUL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'OKATO'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'OKATO';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Дата внесения записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'UPDATEDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Краткое наименование типа объекта'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'SHORTNAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Уровень адресного объекта '
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'AOLEVEL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор объекта родительского объекта'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'PARENTGUID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Уникальный идентификатор записи. Ключевое поле.'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'AOID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор записи связывания с предыдушей исторической записью'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'PREVID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор записи связывания с последующей исторической записью'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'NEXTID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код адресного объекта одной строкой с признаком актуальности из КЛАДР 4.0. '
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'CODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код адресного объекта из КЛАДР 4.0 одной строкой без признака актуальности (последних двух цифр)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'PLAINCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Статус актуальности адресного объекта ФИАС. Актуальный адрес на текущую дату. Обычно последняя запись об адресном объекте.
0 – Не актуальный
1 - Актуальный
'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'ACTSTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Статус центра'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'CENTSTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Статус действия над записью – причина появления записи (см. описание таблицы OperationStatus):
01 – Инициация;
10 – Добавление;
20 – Изменение;
21 – Групповое изменение;
30 – Удаление;
31 - Удаление вследствие удаления вышестоящего объекта;
40 – Присоединение адресного объекта (слияние);
41 – Переподчинение вследствие слияния вышестоящего объекта;
42 - Прекращение существования вследствие присоединения к другому адресному объекту;
43 - Создание нового адресного объекта в результате слияния адресных объектов;
50 – Переподчинение;
51 – Переподчинение вследствие переподчинения вышестоящего объекта;
60 – Прекращение существования вследствие дробления;
61 – Создание нового адресного объекта в результате дробления
'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'OPERSTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Статус актуальности КЛАДР 4 (последние две цифры в коде)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'CURRSTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Начало действия записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'STARTDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Окончание действия записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'ENDDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Внешний ключ на нормативный документ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'NORMDOC';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Признак действующего адресного объекта'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'LIVESTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'
 Тип адресации:
 0 - не определено
 1 - муниципальный;
 2 - административно-территориальный
 '
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'DIVTYPE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'OKTMO'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'OKTMO';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор статуса (ключ)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_CURENTST'
	,@level2type = N'Column'
	,@level2name = N'CURENTSTID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Наименование (0 - актуальный, 1-50, 2-98 – исторический (кроме 51), 51 - переподчиненный, 99 - несуществующий)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_CURENTST'
	,@level2type = N'Column'
	,@level2name = N'NAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Краткое наименование'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_FLATTYPE'
	,@level2type = N'Column'
	,@level2name = N'SHORTNAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Тип помещения'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_FLATTYPE'
	,@level2type = N'Column'
	,@level2name = N'FLTYPEID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Наименование'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_FLATTYPE'
	,@level2type = N'Column'
	,@level2name = N'NAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор статуса'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HSTSTAT'
	,@level2type = N'Column'
	,@level2name = N'HOUSESTID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Наименование'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HSTSTAT'
	,@level2type = N'Column'
	,@level2name = N'NAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор записи (ключ)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_NDOCTYPE'
	,@level2type = N'Column'
	,@level2name = N'NDTYPEID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Наименование типа нормативного документа'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_NDOCTYPE'
	,@level2type = N'Column'
	,@level2name = N'NAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор статуса (ключ)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_OPERSTAT'
	,@level2type = N'Column'
	,@level2name = N'OPERSTATID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Наименование
01 – Инициация;
10 – Добавление;
20 – Изменение;
21 – Групповое изменение;
30 – Удаление;
31 - Удаление вследствие удаления вышестоящего объекта;
40 – Присоединение адресного объекта (слияние);
41 – Переподчинение вследствие слияния вышестоящего объекта;
42 - Прекращение существования вследствие присоединения к другому адресному объекту;
43 - Создание нового адресного объекта в результате слияния адресных объектов;
50 – Переподчинение;
51 – Переподчинение вследствие переподчинения вышестоящего объекта;
60 – Прекращение существования вследствие дробления;
61 – Создание нового адресного объекта в результате дробления;
70 – Восстановление объекта прекратившего существование'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_OPERSTAT'
	,@level2type = N'Column'
	,@level2name = N'NAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Глобальный уникальный идентификатор адресного объекта '
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'AOGUID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Формализованное наименование'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'FORMALNAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код региона'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'REGIONCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код автономии'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'AUTOCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код района'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'AREACODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код города'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'CITYCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код внутригородского района'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'CTARCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код населенного пункта'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'PLACECODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код улицы'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'STREETCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код дополнительного адресообразующего элемента'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'EXTRCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код элемента планировочной структуры'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'PLANCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код подчиненного дополнительного адресообразующего элемента'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'SEXTCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Официальное наименование'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'OFFNAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Почтовый индекс'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'POSTALCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Краткое наименование типа объекта'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'SHORTNAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Уровень адресного объекта '
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'AOLEVEL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор объекта родительского объекта'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'PARENTGUID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Уникальный идентификатор записи. Ключевое поле.'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'AOID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор записи связывания с предыдушей исторической записью'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'PREVID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор записи связывания с последующей исторической записью'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'NEXTID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код адресного объекта одной строкой с признаком актуальности из КЛАДР 4.0. '
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'CODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код адресного объекта из КЛАДР 4.0 одной строкой без признака актуальности (последних двух цифр)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'PLAINCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Статус актуальности адресного объекта ФИАС. Актуальный адрес на текущую дату. Обычно последняя запись об адресном объекте.
0 – Не актуальный
1 - Актуальный
'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'ACTSTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Статус центра'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'CENTSTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Статус действия над записью – причина появления записи (см. описание таблицы OperationStatus):
01 – Инициация;
10 – Добавление;
20 – Изменение;
21 – Групповое изменение;
30 – Удаление;
31 - Удаление вследствие удаления вышестоящего объекта;
40 – Присоединение адресного объекта (слияние);
41 – Переподчинение вследствие слияния вышестоящего объекта;
42 - Прекращение существования вследствие присоединения к другому адресному объекту;
43 - Создание нового адресного объекта в результате слияния адресных объектов;
50 – Переподчинение;
51 – Переподчинение вследствие переподчинения вышестоящего объекта;
60 – Прекращение существования вследствие дробления;
61 – Создание нового адресного объекта в результате дробления
'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'OPERSTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Статус актуальности КЛАДР 4 (последние две цифры в коде)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'CURRSTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Начало действия записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'STARTDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Окончание действия записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'ENDDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Внешний ключ на нормативный документ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'NORMDOC';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Признак действующего адресного объекта'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'LIVESTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код ИФНС ФЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'IFNSFL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код территориального участка ИФНС ФЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'TERRIFNSFL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код ИФНС ЮЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'IFNSUL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код территориального участка ИФНС ЮЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'TERRIFNSUL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'OKATO'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'OKATO';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'OKTMO'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'OKTMO';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Дата внесения записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_ADDROBJ'
	,@level2type = N'Column'
	,@level2name = N'UPDATEDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код ИФНС ЮЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'IFNSUL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код территориального участка ИФНС ЮЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'TERRIFNSUL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'OKATO'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'OKATO';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'OKTMO'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'OKTMO';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Дата внесения записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'UPDATEDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Значение начала интервала'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'INTSTART';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Значение окончания интервала'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'INTEND';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Почтовый индекс'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'POSTALCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код ИФНС ФЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'IFNSFL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код территориального участка ИФНС ФЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'TERRIFNSFL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор записи интервала домов'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'HOUSEINTID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Глобальный уникальный идентификатор интервала домов'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'INTGUID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор объекта родительского объекта (улицы, города, населенного пункта и т.п.)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'AOGUID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Начало действия записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'STARTDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Окончание действия записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'ENDDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Статус интервала (обычный, четный, нечетный)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'INTSTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Внешний ключ на нормативный документ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'NORMDOC';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Счетчик записей домов для КЛАДР 4'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'COUNTER';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор нормативного документа'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_NORMDOC'
	,@level2type = N'Column'
	,@level2name = N'NORMDOCID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Наименование документа'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_NORMDOC'
	,@level2type = N'Column'
	,@level2name = N'DOCNAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Дата документа'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_NORMDOC'
	,@level2type = N'Column'
	,@level2name = N'DOCDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Номер документа'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_NORMDOC'
	,@level2type = N'Column'
	,@level2name = N'DOCNUM';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Тип документа'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_NORMDOC'
	,@level2type = N'Column'
	,@level2name = N'DOCTYPE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор образа (внешний ключ)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_NORMDOC'
	,@level2type = N'Column'
	,@level2name = N'DOCIMGID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'OKTMO'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'OKTMO';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'OKATO'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'OKATO';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код ИФНС ЮЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'IFNSUL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код территориального участка ИФНС ЮЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'TERRIFNSUL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код территориального участка ИФНС ФЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'TERRIFNSFL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Почтовый индекс'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'POSTALCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код ИФНС ФЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'IFNSFL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Окончание действия записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'ENDDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Статус интервала (обычный, четный, нечетный)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'INTSTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор объекта родительского объекта (улицы, города, населенного пункта и т.п.)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'AOGUID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Начало действия записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'STARTDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Глобальный уникальный идентификатор интервала домов'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'INTGUID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор записи интервала домов'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'HOUSEINTID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Значение начала интервала'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'INTSTART';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Значение окончания интервала'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'INTEND';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Дата внесения записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'UPDATEDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Внешний ключ на нормативный документ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'NORMDOC';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Счетчик записей домов для КЛАДР 4'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSEINT'
	,@level2type = N'Column'
	,@level2name = N'COUNTER';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор статуса (обычный, четный, нечетный)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_INTVSTAT'
	,@level2type = N'Column'
	,@level2name = N'INTVSTATID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Наименование'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_INTVSTAT'
	,@level2type = N'Column'
	,@level2name = N'NAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Внешний ключ на нормативный документ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'NORMDOC';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Начало действия записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'STARTDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Окончание действия записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'ENDDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Глобальный уникальный идентификатор ориентира'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'LANDGUID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Уникальный идентификатор родительского объекта (улицы, города, населенного пункта и т.п.)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'AOGUID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Уникальный идентификатор записи ориентира'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'LANDID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Месторасположение ориентира'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'LOCATION';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Почтовый индекс'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'POSTALCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код территориального участка ИФНС ФЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'TERRIFNSFL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код ИФНС ФЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'IFNSFL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Дата внесения записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'UPDATEDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'OKTMO'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'OKTMO';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'OKATO'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'OKATO';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код ИФНС ЮЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'IFNSUL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код территориального участка ИФНС ЮЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'TERRIFNSUL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор нормативного документа'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_NORMDOC'
	,@level2type = N'Column'
	,@level2name = N'NORMDOCID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Наименование документа'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_NORMDOC'
	,@level2type = N'Column'
	,@level2name = N'DOCNAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Дата документа'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_NORMDOC'
	,@level2type = N'Column'
	,@level2name = N'DOCDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Номер документа'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_NORMDOC'
	,@level2type = N'Column'
	,@level2name = N'DOCNUM';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Тип документа'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_NORMDOC'
	,@level2type = N'Column'
	,@level2name = N'DOCTYPE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор образа (внешний ключ)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_NORMDOC'
	,@level2type = N'Column'
	,@level2name = N'DOCIMGID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Краткое наименование'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOMTYPE'
	,@level2type = N'Column'
	,@level2name = N'SHORTNAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Наименование'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOMTYPE'
	,@level2type = N'Column'
	,@level2name = N'NAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Тип комнаты'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOMTYPE'
	,@level2type = N'Column'
	,@level2name = N'RMTYPEID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Уровень адресного объекта'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_SOCRBASE'
	,@level2type = N'Column'
	,@level2name = N'LEVEL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Краткое наименование типа объекта'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_SOCRBASE'
	,@level2type = N'Column'
	,@level2name = N'SCNAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Полное наименование типа объекта'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_SOCRBASE'
	,@level2type = N'Column'
	,@level2name = N'SOCRNAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Ключевое поле'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_SOCRBASE'
	,@level2type = N'Column'
	,@level2name = N'KOD_T_ST';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Наименование
0 – Не актуальный
1 – Актуальный (последняя запись по адресному объекту)
'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ACTSTAT'
	,@level2type = N'Column'
	,@level2name = N'NAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор статуса (ключ)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ACTSTAT'
	,@level2type = N'Column'
	,@level2name = N'ACTSTATID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор статуса'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_CENTERST'
	,@level2type = N'Column'
	,@level2name = N'CENTERSTID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Наименование'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_CENTERST'
	,@level2type = N'Column'
	,@level2name = N'NAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Почтовый индекс'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'POSTALCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код ИФНС ФЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'IFNSFL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код территориального участка ИФНС ФЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'TERRIFNSFL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код ИФНС ЮЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'IFNSUL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код территориального участка ИФНС ЮЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'TERRIFNSUL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'OKATO'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'OKATO';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'OKTMO'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'OKTMO';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Дата время внесения записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'UPDATEDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Номер дома'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'HOUSENUM';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Признак владения'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'ESTSTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Номер корпуса'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'BUILDNUM';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Номер строения'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'STRUCNUM';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Признак строения'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'STRSTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Уникальный идентификатор записи дома'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'HOUSEID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Глобальный уникальный идентификатор дома'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'HOUSEGUID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Guid записи родительского объекта (улицы, города, населенного пункта и т.п.)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'AOGUID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Начало действия записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'STARTDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Окончание действия записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'ENDDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состояние дома'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'STATSTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Внешний ключ на нормативный документ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'NORMDOC';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Счетчик записей домов для КЛАДР 4'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'COUNTER';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Кадастровый номер'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'CADNUM';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Тип адресации:
0 - не определено
1 - муниципальный;
2 - административно-территориальный'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'DIVTYPE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Признак владения'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ESTSTAT'
	,@level2type = N'Column'
	,@level2name = N'ESTSTATID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Наименование'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ESTSTAT'
	,@level2type = N'Column'
	,@level2name = N'NAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Краткое наименование'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ESTSTAT'
	,@level2type = N'Column'
	,@level2name = N'SHORTNAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Глобальный уникальный идентификатор адресного объекта (земельного участка)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'STEADGUID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Номер земельного участка'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'NUMBER';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код региона'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'REGIONCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Почтовый индекс'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'POSTALCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код ИФНС ФЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'IFNSFL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код территориального участка ИФНС ФЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'TERRIFNSFL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код ИФНС ЮЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'IFNSUL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код территориального участка ИФНС ЮЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'TERRIFNSUL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'OKATO'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'OKATO';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'OKTMO'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'OKTMO';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Дата внесения записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'UPDATEDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор объекта родительского объекта'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'PARENTGUID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Уникальный идентификатор записи. Ключевое поле.'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'STEADID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор записи связывания с предыдушей исторической записью'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'PREVID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор записи связывания с последующей исторической записью'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'NEXTID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Статус действия над записью – причина появления записи (см. описание таблицы OperationStatus):
01 – Инициация;
10 – Добавление;
20 – Изменение;
21 – Групповое изменение;
30 – Удаление;
31 - Удаление вследствие удаления вышестоящего объекта;
40 – Присоединение адресного объекта (слияние);
41 – Переподчинение вследствие слияния вышестоящего объекта;
42 - Прекращение существования вследствие присоединения к другому адресному объекту;
43 - Создание нового адресного объекта в результате слияния адресных объектов;
50 – Переподчинение;
51 – Переподчинение вследствие переподчинения вышестоящего объекта;
60 – Прекращение существования вследствие дробления;
61 – Создание нового адресного объекта в результате дробления
'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'OPERSTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Начало действия записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'STARTDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Окончание действия записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'ENDDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Внешний ключ на нормативный документ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'NORMDOC';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Признак действующего адресного объекта'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'LIVESTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Кадастровый номер'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'CADNUM';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Тип адресации:
0 - не определено
1 - муниципальный;
2 - административно-территориальный'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STEAD'
	,@level2type = N'Column'
	,@level2name = N'DIVTYPE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Месторасположение ориентира'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'LOCATION';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Почтовый индекс'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'POSTALCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код ИФНС ФЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'IFNSFL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код территориального участка ИФНС ФЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'TERRIFNSFL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код ИФНС ЮЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'IFNSUL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код территориального участка ИФНС ЮЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'TERRIFNSUL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'OKATO'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'OKATO';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'OKTMO'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'OKTMO';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Дата внесения записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'UPDATEDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Уникальный идентификатор записи ориентира'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'LANDID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Глобальный уникальный идентификатор ориентира'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'LANDGUID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Уникальный идентификатор родительского объекта (улицы, города, населенного пункта и т.п.)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'AOGUID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Начало действия записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'STARTDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Окончание действия записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'ENDDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Внешний ключ на нормативный документ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_DEL_LANDMARK'
	,@level2type = N'Column'
	,@level2name = N'NORMDOC';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Почтовый индекс'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'POSTALCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код региона'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'REGIONCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код ИФНС ФЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'IFNSFL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код территориального участка ИФНС ФЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'TERRIFNSFL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код ИФНС ЮЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'IFNSUL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код территориального участка ИФНС ЮЛ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'TERRIFNSUL';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'OKATO'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'OKATO';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'OKTMO'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'OKTMO';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Дата время внесения записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'UPDATEDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Номер дома'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'HOUSENUM';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Признак владения'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'ESTSTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Номер корпуса'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'BUILDNUM';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Номер строения'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'STRUCNUM';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Признак строения'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'STRSTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Уникальный идентификатор записи дома'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'HOUSEID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Глобальный уникальный идентификатор дома'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'HOUSEGUID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Guid записи родительского объекта (улицы, города, населенного пункта и т.п.)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'AOGUID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Начало действия записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'STARTDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Окончание действия записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'ENDDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Состояние дома'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'STATSTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Внешний ключ на нормативный документ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'NORMDOC';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Счетчик записей домов для КЛАДР 4'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'COUNTER';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Кадастровый номер'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'CADNUM';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Тип адресации:
0 - не определено
1 - муниципальный;
2 - административно-территориальный'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_HOUSE'
	,@level2type = N'Column'
	,@level2name = N'DIVTYPE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Глобальный уникальный идентификатор адресного объекта (помещения)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOM'
	,@level2type = N'Column'
	,@level2name = N'ROOMGUID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Номер помещения или офиса'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOM'
	,@level2type = N'Column'
	,@level2name = N'FLATNUMBER';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Тип помещения'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOM'
	,@level2type = N'Column'
	,@level2name = N'FLATTYPE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Номер комнаты'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOM'
	,@level2type = N'Column'
	,@level2name = N'ROOMNUMBER';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Тип комнаты'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOM'
	,@level2type = N'Column'
	,@level2name = N'ROOMTYPE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Код региона'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOM'
	,@level2type = N'Column'
	,@level2name = N'REGIONCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Почтовый индекс'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOM'
	,@level2type = N'Column'
	,@level2name = N'POSTALCODE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Дата внесения записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOM'
	,@level2type = N'Column'
	,@level2name = N'UPDATEDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор родительского объекта (дома)'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOM'
	,@level2type = N'Column'
	,@level2name = N'HOUSEGUID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Уникальный идентификатор записи. Ключевое поле.'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOM'
	,@level2type = N'Column'
	,@level2name = N'ROOMID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор записи связывания с предыдушей исторической записью'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOM'
	,@level2type = N'Column'
	,@level2name = N'PREVID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Идентификатор записи связывания с последующей исторической записью'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOM'
	,@level2type = N'Column'
	,@level2name = N'NEXTID';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Начало действия записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOM'
	,@level2type = N'Column'
	,@level2name = N'STARTDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Окончание действия записи'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOM'
	,@level2type = N'Column'
	,@level2name = N'ENDDATE';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Признак действующего адресного объекта'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOM'
	,@level2type = N'Column'
	,@level2name = N'LIVESTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Внешний ключ на нормативный документ'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOM'
	,@level2type = N'Column'
	,@level2name = N'NORMDOC';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Статус действия над записью – причина появления записи (см. описание таблицы OperationStatus):
01 – Инициация;
10 – Добавление;
20 – Изменение;
21 – Групповое изменение;
30 – Удаление;
31 - Удаление вследствие удаления вышестоящего объекта;
40 – Присоединение адресного объекта (слияние);
41 – Переподчинение вследствие слияния вышестоящего объекта;
42 - Прекращение существования вследствие присоединения к другому адресному объекту;
43 - Создание нового адресного объекта в результате слияния адресных объектов;
50 – Переподчинение;
51 – Переподчинение вследствие переподчинения вышестоящего объекта;
60 – Прекращение существования вследствие дробления;
61 – Создание нового адресного объекта в результате дробления
'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOM'
	,@level2type = N'Column'
	,@level2name = N'OPERSTATUS';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Кадастровый номер помещения'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOM'
	,@level2type = N'Column'
	,@level2name = N'CADNUM';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Кадастровый номер комнаты в помещении'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_ROOM'
	,@level2type = N'Column'
	,@level2name = N'ROOMCADNUM';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Наименование'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STRSTAT'
	,@level2type = N'Column'
	,@level2name = N'NAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Краткое наименование'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STRSTAT'
	,@level2type = N'Column'
	,@level2name = N'SHORTNAME';

EXEC sp_addextendedproperty @name = 'description'
	,@value = N'Признак строения'
	,@level0type = N'Schema'
	,@level0name = N'dbo'
	,@level1type = N'Table'
	,@level1name = N'_STRSTAT'
	,@level2type = N'Column'
	,@level2name = N'STRSTATID'
</code></pre><br/>
</div></div><br/>
<b>5. Модифицируем сами схемы:</b><br/>
<br/>
<pre><code class="sql">-- Определение ссылки на импортируемую схему
update a
Set x.modify ('declare namespace xs="http://www.w3.org/2001/XMLSchema";             
insert &lt;xs:import namespace="http://schemas.microsoft.com/sqlserver/2004/sqltypes" schemaLocation="./sqltypes.xsd" />  as first
into (xs:schema)[1]')
from dbo.[_FIAS_SCHEMAS] a

-- Определение корневого аттрибута
update a
Set x.modify('declare namespace ss="urn:schemas-microsoft-com:mapping-schema";             
insert (              
           attribute ss:is-constant {"1"}          
        )             
into (/xs:schema[1]/xs:element[1])')
from dbo.[_FIAS_SCHEMAS] a

-- Определение ноды, являющейся строкой таблицы и связанной с ней таблицы
update a
Set x.modify('declare namespace ss="urn:schemas-microsoft-com:mapping-schema";             
insert (              
           attribute ss:relation {sql:column("a.table")}         
        )             
into (xs:schema[1]/xs:element[1]/xs:complexType[1]/xs:sequence[1]/xs:element[1])')
from dbo.[_FIAS_SCHEMAS] a

-- Аннотация полей в схеме
-- Т.к. за 1 раз можно модифицировать только одну ноду - придется использовать курсор
Declare @table nvarchar(4000)
Declare @column nvarchar(4000)

Declare cur CURSOR LOCAL FORWARD_ONLY
	for
	Select [table], [column]
	from dbo.[_FIAS]

Open cur
FETCH NEXT FROM cur into @table, @column

WHILE @@FETCH_STATUS = 0  
BEGIN
update a
Set x.modify('declare namespace ss="urn:schemas-microsoft-com:mapping-schema";             
insert (              
           attribute ss:field {sql:column("t.column")} 
           ,attribute ss:datatype {sql:column("b.sqltype")} 
        )             
into (//xs:attribute[@name = sql:column("b.column")])[1]')
from dbo.[_FIAS_SCHEMAS] a
	  inner join dbo.[_FIAS] b on a.[table] = b.[table]
	  cross apply (Values(QUOTENAME(b.[column]))) t([column]) 
	  Where b.[table] = @table and b.[column] = @column

FETCH NEXT FROM cur into @table, @column
END
CLOSE cur;  
DEALLOCATE cur;  
</code></pre><br/>
<b>6. И, наконец, выгрузим xsd схемы на диск для дальнейшего использования:</b><br/>
<br/>
<pre><code class="sql">-- Выгрузка схем
-- Обратите внимание, путь к выгружаемым схемам - захардкожен!
Set @sql = (
Select N'; exec xp_cmdshell ''bcp "Select [x] from [FIAS2].[dbo].[_FIAS_SCHEMAS] where [table] = ''''' + a.[table] + '''''" queryout "c:\files\FIAS\' + a.[table] + '.xsd" -S . -T -w'''
from dbo.[_FIAS_SCHEMAS] a
for xml path(N''), type
).value(N'.', N'nvarchar(max)')

exec (@sql)
</code></pre><br/>
Всё! :-)))<br/>
<br/>
<div class="spoiler"><b class="spoiler_title">Вот весь запрос, который генерирует таблицы, их описания, модифицирует схемы и выгружает их на диск:</b><div class="spoiler_text"><pre><code class="sql">USE [FIAS2]
go

if OBJECT_ID('dbo.[_FIAS]') is not null 
	drop table dbo.[_FIAS]
go

if OBJECT_ID('dbo._FIAS_SCHEMAS') is not null 
	drop table dbo.[_FIAS_SCHEMAS]
go

Declare @schema sysname = N'dbo'
Declare @sql nvarchar(max)

Create table dbo.[_FIAS_SCHEMAS] (x xml, [table] sysname)

insert into dbo.[_FIAS_SCHEMAS] (x, [table])
SELECT x = CAST(BulkColumn AS XML).query('.'), '_ACTSTAT' [table] FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_ACTSTAT_2_250_08_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_ADDROBJ' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_ADDROBJ_2_250_01_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_CENTERST' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_CENTERST_2_250_10_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_CURENTST' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_CURENTST_2_250_07_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_DEL_ADDROBJ' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_DEL_ADDROBJ_2_250_15_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_DEL_HOUSEINT' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_DEL_HOUSEINT_2_250_17_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_DEL_HOUSE' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_DEL_HOUSE_2_250_16_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_DEL_LANDMARK' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_DEL_LANDMARK_2_250_18_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_DEL_NORMDOC' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_DEL_NORMDOC_2_250_19_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_ESTSTAT' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_ESTSTAT_2_250_13_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_FLATTYPE' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_FLATTYPE_2_250_23_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_HOUSEINT' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_HOUSEINT_2_250_03_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_HOUSE' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_HOUSE_2_250_02_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_HSTSTAT' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_HSTSTAT_2_250_12_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_INTVSTAT' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_INTVSTAT_2_250_11_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_LANDMARK' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_LANDMARK_2_250_04_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_NDOCTYPE' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_NDOCTYPE_2_250_20_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_NORMDOC' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_NORMDOC_2_250_05_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_OPERSTAT' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_OPERSTAT_2_250_09_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_ROOMTYPE' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_ROOMTYPE_2_250_24_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_ROOM' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_ROOM_2_250_21_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_SOCRBASE' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_SOCRBASE_2_250_06_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_STEAD' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_STEAD_2_250_22_04_01_01.xsd', SINGLE_BLOB) x Union all
SELECT x = CAST(BulkColumn AS XML).query('.'), '_STRSTAT' FROM OPENROWSET(BULK '\\s01sq03\c$\files\FIAS\AS_STRSTAT_2_250_14_04_01_01.xsd', SINGLE_BLOB) x 
 

;WITH XMLNAMESPACES ('http://www.w3.org/2001/XMLSchema' as xs) 
Select a.[table]
  ,tbl.[root_name]
  ,tbl.[root_description]
  ,tbl.[name]
  ,ROW_NUMBER() over (partition by a.[table] order by 1/0) N
  ,tbl.[column]
  ,tbl.[required]
  ,tbl.[description]
  ,tbl.[type]
  ,tbl.[len]
  ,Case tbl.[type]  
		when N'byte' then N'tinyint' 
		when N'date' then N'date'
		when N'int'  then N'int'
		when N'string' then
						Case when tbl.[len] = 36 and (tbl.[column] like N'%ID' or tbl.[column] = N'NORMDOC') then N'uniqueidentifier'
							when tbl.[len] is Null then N'nvarchar(max)'
						Else N'nvarchar(' + cast(tbl.[len] as nvarchar(4000)) + N')' END
		when N'integer' then
						Case when tbl.[len] > 9 then N'bigint'
							 when tbl.[len] &lt;= 4 then N'smallint'
							Else N'int'
						end
		else N'nvarchar(max)'
		End [sqltype]
  ,t.n.query('.') [node]
into dbo.[_FIAS]
from dbo.[_FIAS_SCHEMAS] a
	Cross apply a.x.nodes('//xs:attribute') t(n)
	Cross apply 
			(values -- некоторые поля используются несколько раз, поэтому сделаем так :) 
			(
				 x.value('(xs:schema[1]/xs:element[1]/@name)', 'nvarchar(255)')
				,x.value('(xs:schema[1]/xs:element[1]/xs:annotation/xs:documentation[1]/text())[1]', 'nvarchar(4000)')
				,x.value('(xs:schema[1]/xs:element[1]/xs:complexType[1]/xs:sequence[1]/xs:element[1]/@name)', 'nvarchar(255)')
				,t.n.value('(./@name)[1]', 'nvarchar(255)')
				,t.n.value('(./@use)[1]', 'nvarchar(255)') 
				,Stuff(Coalesce(t.n.value('(./xs:simpleType/xs:restriction/@base)[1]', 'nvarchar(255)'), t.n.value('(./@type)[1]', 'nvarchar(255)')), 1, 3, '')
				,Coalesce(t.n.value('(./xs:simpleType/xs:restriction/xs:length/@value)[1]', 'int')
							,t.n.value('(./xs:simpleType/xs:restriction/xs:maxLength/@value)[1]', 'int')
							,t.n.value('(./xs:simpleType/xs:restriction/xs:totalDigits/@value)[1]', 'int'))
				,Replace(
				 Replace(
				 Replace(
				 Replace(
				 Replace(
				 Replace(
				 Replace(
				 Replace(
				 Replace(t.n.value('(./xs:annotation/xs:documentation)[1]', 'nvarchar(4000)'), '  ', ' ')
				 , '  ', ' ')
				 , '  ', ' ')
				 , '  ', ' ')
				 , '  ', ' ')
				 , '  ', ' ')
				 , '  ', ' ')
				 , '  ', ' ')
				 , '  ', ' ') 
			)
			) tbl([root_name], [root_description], [name], [column], [required], [type], [len], [description])

-- Посмотрим на результат
Select * from dbo.[_FIAS]

-- Создадим код для создания таблиц, и запустим его
set @sql = (
	Select Distinct 
		N';Create table ' 
		+ Quotename(@schema)
		+ N'.'
		+ Quotename([table])
		+ N'('
		+ Stuff((Select
				N',' 
				+ QUOTENAME(b.[column]) 
				+ N' '
				+ b.[sqltype]
				+ Case b.[required] when 'required' then N' NOT NULL'
									when 'optional' then N' NULL'
					End 
				From dbo.[_FIAS] b
				where b.[table] = a.[table]
				Order by N ASC
				For xml path(N''), type
				).value(N'.', 'nvarchar(max)'), 1, 1, N'')
		+ N')'
		from dbo.[_FIAS] a
	For xml path(N''), type).value(N'.', N'nvarchar(max)')
exec (@sql)

-- Создадим аннотацию к таблицам и полям
Set @sql = (
Select N'; exec sp_addextendedproperty @name=''description'', @value=N''' 
		+ a.[root_description] 
		+ N''', @level0type =N''Schema'', @level0name = N''' 
		+ @schema 
		+ N''', @level1type = N''Table'',  @level1name = N''' 
		+ a.[table]
		+ N''''
from (Select distinct [table], [root_description] from dbo.[_FIAS]) a
for xml path(N''), type
).value(N'.', N'nvarchar(max)')
exec (@sql)

Set @sql = (
Select N'; exec sp_addextendedproperty @name=''description'', @value=N''' 
		+ a.[description] 
		+ N''', @level0type =N''Schema'', @level0name = N''' 
		+ @schema 
		+ N''', @level1type = N''Table'',  @level1name = N''' 
		+ a.[table] 
		+ N''', @level2type = N''Column'', @level2name = N''' 
		+ a.[column] 
		+ N''''
from dbo.[_FIAS] a
for xml path(N''), type
).value(N'.', N'nvarchar(max)')
exec (@sql)

-- Определение ссылки на импортируемую схему
update a
Set x.modify ('declare namespace xs="http://www.w3.org/2001/XMLSchema";             
insert &lt;xs:import namespace="http://schemas.microsoft.com/sqlserver/2004/sqltypes" schemaLocation="./sqltypes.xsd" />  as first
into (xs:schema)[1]')
from dbo.[_FIAS_SCHEMAS] a

-- Определение корневого аттрибута
update a
Set x.modify('declare namespace ss="urn:schemas-microsoft-com:mapping-schema";             
insert (              
           attribute ss:is-constant {"1"}          
        )             
into (/xs:schema[1]/xs:element[1])')
from dbo.[_FIAS_SCHEMAS] a

-- Определение ноды, являющейся строкой таблицы и связанной с ней таблицы
update a
Set x.modify('declare namespace ss="urn:schemas-microsoft-com:mapping-schema";             
insert (              
           attribute ss:relation {sql:column("a.table")}         
        )             
into (xs:schema[1]/xs:element[1]/xs:complexType[1]/xs:sequence[1]/xs:element[1])')
from dbo.[_FIAS_SCHEMAS] a

-- Аннотация полей в схеме
-- Т.к. за 1 раз можно модифицировать только одну ноду - придется использовать курсор
Declare @table nvarchar(4000)
Declare @column nvarchar(4000)

Declare cur CURSOR LOCAL FORWARD_ONLY
	for
	Select [table], [column]
	from dbo.[_FIAS]

Open cur
FETCH NEXT FROM cur into @table, @column

WHILE @@FETCH_STATUS = 0  
BEGIN
update a
Set x.modify('declare namespace ss="urn:schemas-microsoft-com:mapping-schema";             
insert (              
           attribute ss:field {sql:column("t.column")} 
           ,attribute ss:datatype {sql:column("b.sqltype")} 
        )             
into (//xs:attribute[@name = sql:column("b.column")])[1]')
from dbo.[_FIAS_SCHEMAS] a
	  inner join dbo.[_FIAS] b on a.[table] = b.[table]
	  cross apply (Values(QUOTENAME(b.[column]))) t([column]) 
	  Where b.[table] = @table and b.[column] = @column

FETCH NEXT FROM cur into @table, @column
END
CLOSE cur;  
DEALLOCATE cur;  

-- Выгрузка схем
-- Обратите внимание, путь к выгружаемым схемам - захардкожен!
Set @sql = (
Select N'; exec xp_cmdshell ''bcp "Select [x] from [FIAS2].[dbo].[_FIAS_SCHEMAS] where [table] = ''''' + a.[table] + '''''" queryout "c:\files\FIAS\' + a.[table] + '.xsd" -S . -T -w'''
from dbo.[_FIAS_SCHEMAS] a
for xml path(N''), type
).value(N'.', N'nvarchar(max)')

exec (@sql)
</code></pre><br/>
</div></div><br/>
<b>Теперь осталось только вызывать процедуру загрузки для каждого xml файла с соответствующей схемой</b> (сами распакованные файлы хранятся в папке e:\tmp, а схемы — мы выгрузили в c:\files\FIAS):<br/>
<br/>
<pre><code class="sql">USE FIAS2
GO

Declare @sql nvarchar(max)

if OBJECT_ID('tempdb..#t') is not null
	drop table #t

Create table #t ([output] sysname NULL)

insert into #t
exec xp_cmdshell 'dir e:\tmp /B'

;With load_data as
(
Select 
'_' + t.x.value('(a[2])', 'nvarchar(255)') [table]
,t.x.value('(a[3])', 'date') [fias_date]
,t.x.value('(a[4])', 'uniqueidentifier') [fias_guid]
,a.[output] [file_name]
	from #t a
	cross apply (VALUES(Cast('&lt;a>' + Replace(Replace(Replace(Replace(a.[output],'DEL_', 'DEL$'), '_', '&lt;/a>&lt;a>'), '.', '&lt;/a>&lt;a>'), '$', '_') + '&lt;/a>' as xml))) t(x) 
Where [output] like 'AS[_]%.xml'
)
Select @sql = 
(Select
N';exec [dbo].[spXMLBulkLoad] ''e:\tmp\' + a.[file_name] + ''', ''c:\files\FIAS\' + b.[table] + '.xsd'', ''FIAS2'', ''e:\tmp\err.xml'''
 from load_data a
		inner join [dbo].[_FIAS_SCHEMAS] b on a.[table] = b.[table]
For xml path(''), type).value(N'.', N'nvarchar(max)')

Exec (@sql)
</code></pre><br/>
Фффу…<br/>
<br/>
Ну вот, теперь наконец-то совсем всё.<br/>
<br/>
Однако, вот что я вам хочу сказать, уважаемые коллеги!<br/>
Всё это работает просто <b>дичайше</b> медленно!<br/>
Я не про создание таблиц и схем, конечно. А про загрузку.<br/>
<br/>
В тестовой среде загрузка у меня длилась без малого <b>5 часов</b> (sic!!!). И это еще без индексации таблиц.<br/>
<br/>
При этом загрузка системы ввода-вывода была на уровне 3 Мб/с, и было задействовано всего пара ядер.<br/>
<br/>
Загрузка адресных объектов шла со скоростью не более 3 тысяч записей в секунду, загрузка домов — со скоростью не более 8 тысяч в секунду. А их, на минуточку, 60 миллионов.<br/>
С чем это связано — я не могу сказать, придется еще поковыряться с кодом и, видимо, с настройкой ВМ.<br/>
<br/>
Обратите внимание, что загрузка производится в кучи. А уже потом предполагается создать кластерные индексы по всяким их AOID.<br/>
<br/>
Т.к. они представляют из себя GUIDы, лучше сделать именно так, потому, что если создать кластерные индексы ДО загрузки — на выходе получится таблица, фрагментированная где-то процентов на 50, не меньше. Ну и индексы лучше тоже создавать после загрузки, потому что вставка в индексы делает загрузку еще медленнее.<br/>
<br/>
Именно поэтому имена таблиц у меня начинаются с подчерка ( _ ). Предполагалось, что я сначала загружу данные в них, потом воссоздам индексы целевых таблиц, и, затем, спокойно сделаю Alter table switch. <br/>
<br/>
Также обратите внимание на не совсем оптимальные типы данных для полей таблиц ФИАС.<br/>
Например, использование int, там где достаточно tinyint, или nvarchar в полях, где предполагается хранение только числовых значений, типа кода региона или ОКАТО.<br/>
Так в схемах :-(.<br/>
<br/>
Однако, ничего не мешает вам, после создания таблицы метаданных, [dbo].[_FIAS], поковыряться в ней руками и произвести тюнинг, а уже потом, создать новые загрузочные схемы на основе откорректированных метаданных.<br/>
<br/>
Ну, а если изжить такую медленную загрузку всё же не удастся, видимо, придется вернуться к варианту с загрузкой из dbf, и расковырять, наконец, кракозябры в маленьких dbf. И написать еще одну статью.<br/>
<br/>
dbf в 8 потоков нормально загрузилось за 1 час с копейками, и еще примерно час ушел на слияние отдельных таблиц в целевые, и построение индексов по ним.<br/>
<br/>
… Ну, или, наконец, вытащить руки из жжж… эээ… афедрона, и наконец сделать нормальный data tier application, и грузить уже данные, как все нормальные люди, через SSIS.<br/>
<br/>
Но это уже совсем другая история.<br/>
<br/>
→ <a href="https://drive.google.com/file/d/123RfAWAUaKKrKpij8wY69SwzfJOrd7Zv/view?usp=sharing">Скрипты и xsd-схемы</a><br/>
<br/>
Ссылки по теме:<br/>
<br/>
→ <a href="https://fias.nalog.ru/Updates.aspx">ФИАС</a><br/>
<br/>
Картинка с собачкой — не моя :-)</div></div> <!----> <!----></div> <div class="tm-article-presenter__meta"><div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Теги:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bms%20sql%20server%5D" class="tm-tags-list__link">ms sql server</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5B%D0%A4%D0%98%D0%90%D0%A1%5D" class="tm-tags-list__link">ФИАС</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bxsd%5D" class="tm-tags-list__link">xsd</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bxml%5D" class="tm-tags-list__link">xml</a></li><li class="tm-separated-list__item"><a href="/ru/search/?target_type=posts&amp;order=relevance&amp;q=%5Bsqlxmlbulkload%5D" class="tm-tags-list__link">sqlxmlbulkload</a></li></ul></div> <div class="tm-separated-list tm-article-presenter__meta-list"><span class="tm-separated-list__title">Хабы:</span> <ul class="tm-separated-list__list"><li class="tm-separated-list__item"><a href="/ru/hub/sql/" class="tm-hubs-list__link">
    SQL
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/mssql/" class="tm-hubs-list__link">
    Microsoft SQL Server
  </a></li><li class="tm-separated-list__item"><a href="/ru/hub/db_admins/" class="tm-hubs-list__link">
    Администрирование баз данных
  </a></li></ul></div></div></article></div> <!----></div> <div class="tm-article-sticky-panel"><div class="tm-data-icons tm-article-sticky-panel__icons"><div class="tm-article-rating tm-data-icons__item"><div class="tm-votes-meter tm-article-rating__votes-switcher"><svg height="16" width="16" class="tm-svg-img tm-votes-meter__icon tm-votes-meter__icon_medium"><title>Всего голосов 10: ↑9 и ↓1</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-rating"></use></svg> <span title="Всего голосов 10: ↑9 и ↓1" class="tm-votes-meter__value tm-votes-meter__value_positive tm-votes-meter__value_medium">+8</span></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----> <span title="Количество просмотров" class="tm-icon-counter tm-data-icons__item"><svg height="16" width="16" class="tm-svg-img tm-icon-counter__icon"><title>Просмотры</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-views"></use></svg> <span class="tm-icon-counter__value">11K</span></span> <button title="Добавить в закладки" type="button" class="bookmarks-button tm-data-icons__item"><span title="Добавить в закладки" class="tm-svg-icon__wrapper bookmarks-button__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Добавить в закладки</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-favorite"></use></svg></span> <span title="Количество пользователей, добавивших публикацию в закладки" class="bookmarks-button__counter">
    23
  </span></button> <!----> <div title="Поделиться" class="tm-sharing tm-data-icons__item"><button type="button" class="tm-sharing__button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="tm-sharing__icon"><path fill="currentColor" d="M10.33.275l9.047 7.572a.2.2 0 010 .306l-9.048 7.572a.2.2 0 01-.328-.153V11c-8 0-9.94 6-9.94 6S-1 5 10 5V.428a.2.2 0 01.328-.153z"></path></svg></button> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> </div></div> <!----> <!----> <div class="tm-article-presenter__footer"><div class="tm-article-blocks"><!----> <section class="tm-block tm-block_spacing-bottom"><!----> <div class="tm-block__body tm-block__body_variant-balanced"><div class="tm-article-author"> <div class="tm-user-card tm-article-author__user-card tm-user-card_variant-article"><div class="tm-user-card__info-container"><div class="tm-user-card__header"><div class="tm-user-card__header-data"><a href="/ru/users/uaggster/" class="tm-user-card__userpic tm-user-card__userpic_size-40"><div class="tm-entity-image"><svg class="tm-svg-img tm-image-placeholder tm-image-placeholder_lilac"><!----> <use xlink:href="/img/megazord-v24.ce74655c.svg#placeholder-user"></use></svg></div></a> <div class="tm-user-card__meta"><div title=" 22 голоса " class="tm-karma tm-user-card__karma"><div class="tm-karma__votes tm-karma__votes_positive">
    10
  </div> <div class="tm-karma__text">
    Карма
  </div></div> <div title="Рейтинг пользователя" class="tm-rating tm-user-card__rating"><div class="tm-rating__header"> <div class="tm-rating__counter">0</div></div> <div class="tm-rating__text">
    Рейтинг
  </div></div></div></div></div> <div class="tm-user-card__info tm-user-card__info_variant-article"><div class="tm-user-card__title tm-user-card__title_variant-article"><!----> <a href="/ru/users/uaggster/" class="tm-user-card__nickname tm-user-card__nickname_variant-article">
          @uaggster
        </a> <!----></div> <p class="tm-user-card__short-info tm-user-card__short-info_variant-article">Пользователь</p></div></div> <div class="tm-user-card__buttons tm-user-card__buttons_variant-article"><!----> <!----> <!----> <!----> <!----></div></div> <!----></div> <DIV class="v-portal" style="display:none;"></DIV></div> <!----></section> <div class="tm-article-blocks__comments"><div class="tm-article-page-comments"><div class="tm-article-comments-counter-link tm-article-comments-counter-button"><a href="/ru/post/451720/comments/" class="tm-article-comments-counter-link__link tm-article-comments-counter-link__link_button-style"><svg height="16" width="16" class="tm-svg-img tm-article-comments-counter-link__icon tm-article-comments-counter-link__icon_contrasted"><title>Комментарии</title> <use xlink:href="/img/megazord-v24.ce74655c.svg#counter-comments"></use></svg> <span class="tm-article-comments-counter-link__value tm-article-comments-counter-link__value_contrasted">
       Комментарии 17 
    </span></a> <!----></div></div></div> <div class="tm-ad-banner__container tm-page-article__banner"><!----> <div id="articleBottomBanner" class="tm-ad-banner"></div></div> <!----> <!----> <!----> <!----> </div></div></div></div></div> <div class="tm-page__sidebar"><div class="tm-layout-sidebar"><div class="tm-layout-sidebar__ads tm-layout-sidebar__ads_initial"><div class="tm-ad-banner__container tm-layout-sidebar__banner"><!----> <div id="sidebarBanner" class="tm-ad-banner"></div></div></div> <div class="tm-sexy-sidebar tm-sexy-sidebar_initial" style="margin-top:0px;"><!----> <!----></div></div></div></div></div></div></main> <!----></div> <div class="tm-footer-menu"><div class="tm-page-width"><div class="tm-footer-menu__container"><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Ваш аккаунт
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr/?back=/ru/post/451720/&amp;hl=ru" rel="nofollow" target="_self">
                Войти
              </a></li><li class="tm-footer-menu__list-item"><a href="/kek/v1/auth/habrahabr-register/?back=/ru/post/451720/&amp;hl=ru" rel="nofollow" target="_self">
                Регистрация
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Разделы
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/" class="footer-menu__item-link router-link-active">
                Публикации
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/news/" class="footer-menu__item-link">
                Новости
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/hubs/" class="footer-menu__item-link">
                Хабы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/companies/" class="footer-menu__item-link">
                Компании
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/users/" class="footer-menu__item-link">
                Авторы
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/sandbox/" class="footer-menu__item-link">
                Песочница
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Информация
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="/ru/docs/help/" class="footer-menu__item-link">
                Устройство сайта
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/authors/codex/" class="footer-menu__item-link">
                Для авторов
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/companies/corpblogs/" class="footer-menu__item-link">
                Для компаний
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/docs/docs/transparency/" class="footer-menu__item-link">
                Документы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/agreement" target="_blank">
                Соглашение
              </a></li><li class="tm-footer-menu__list-item"><a href="https://account.habr.com/info/confidential/" target="_blank">
                Конфиденциальность
              </a></li></ul></div></div><div class="tm-footer-menu__block"><h3 class="tm-footer-menu__block-title">
          Услуги
        </h3> <div class="tm-footer-menu__block-content"><ul class="tm-footer-menu__list"><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQLwRfQmXibiUlWaRg-BAc38s7oM3lJiaPju7qmdJsp8ysIvZ_G-Npem0njJLMozE2bPHMpDqiI5hhy/pub?start=false&amp;loop=false&amp;delayms=60000&amp;slide=id.g91a03369cd_4_297" target="_blank">
                Реклама
              </a></li><li class="tm-footer-menu__list-item"><a href="https://habrastorage.org/storage/stuff/habr/service_price.pdf" target="_blank">
                Тарифы
              </a></li><li class="tm-footer-menu__list-item"><a href="https://docs.google.com/presentation/d/e/2PACX-1vQJJds8-Di7BQSP_guHxICN7woVYoN5NP_22ra-BIo4bqnTT9FR6fB-Ku2P0AoRpX0Ds-LRkDeAoD8F/pub?start=false&amp;loop=false&amp;delayms=60000" target="_blank">
                Контент
              </a></li><li class="tm-footer-menu__list-item"><a href="https://tmtm.timepad.ru/" target="_blank">
                Семинары
              </a></li><li class="tm-footer-menu__list-item"><a href="/ru/megaprojects/" class="footer-menu__item-link">
                Мегапроекты
              </a></li></ul></div></div></div></div></div> <div class="tm-footer"><div class="tm-page-width"><div class="tm-footer__container"><!----> <div class="tm-footer__social"><a href="https://www.facebook.com/habrahabr.ru" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Facebook</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-facebook"></use></svg></a><a href="https://twitter.com/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Twitter</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-twitter"></use></svg></a><a href="https://vk.com/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>VK</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-vkontakte"></use></svg></a><a href="https://telegram.me/habr_com" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Telegram</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-telegram"></use></svg></a><a href="https://www.youtube.com/channel/UCd_sTwKqVrweTt4oAKY5y4w" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Youtube</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-youtube"></use></svg></a><a href="https://zen.yandex.ru/habr" rel="nofollow noopener noreferrer" target="_blank" class="tm-svg-icon__wrapper tm-social-icons__icon"><svg height="16" width="16" class="tm-svg-img tm-svg-icon"><title>Яндекс Дзен</title> <use xlink:href="/img/social-icons-sprite.svg#social-logo-zen"></use></svg></a></div> <DIV class="v-portal" style="display:none;"></DIV> <button class="tm-footer__link"><!---->
        Настройка языка
      </button> <a href="/ru/about" class="tm-footer__link">
        О сайте
      </a> <a href="/ru/feedback/" class="tm-footer__link">
        Техническая поддержка
      </a> <!----> <a href="/berserk-mode-nope" class="tm-footer__link">
        Вернуться на старую версию
      </a> <div class="tm-footer-copyright"><span class="tm-copyright"><span class="tm-copyright__years">© 2006–2021 </span> <span class="tm-copyright__name">«<a href="https://company.habr.com/" rel="noopener" target="_blank" class="tm-copyright__link">Habr</a>»</span></span></div></div></div></div> <!----> <!----></div> <div class="vue-portal-target"></div></div>
<script>window.__INITIAL_STATE__={"adblock":{"hasAcceptableAdsFilter":false,"hasAdblock":false},"articlesList":{"articlesList":{"451720":{"id":"451720","timePublished":"2019-05-14T10:56:02+00:00","isCorporative":false,"lang":"ru","titleHtml":"Загрузка ФИАС в БД на MSSQLSERVER подручными (SQLXMLBULKLOAD) средствами. Как это (наверное) не нужно делать","leadData":{"textHtml":"\u003Cblockquote\u003EЭпиграф:\u003Cbr\u003E\r\n«Когда у тебя в руках молоток, всё вокруг кажется гвоздями».\u003Cbr\u003E\r\n\u003C\u002Fblockquote\u003E\u003Cbr\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fk5\u002Fa-\u002Fn-\u002Fk5a-n-tnsbjaef3vygje4uhsc3w.jpeg\"\u003E\u003C\u002Fdiv\u003E\u003Cbr\u003E\r\nКак-то давным-давно, кажется – в прошлую пятницу, обходя окрестности офиса, озаботилось окаянное начальство тем, что я провожу время в праздности и созерцании котиков и кошечек.\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n — А не загрузить ли тебе ФИАС, друг ситный! – сказало начальство. – Ибо процесс его загрузки что-то не нравится нашим бизнес-подразделениям. Долго, говорят грузится, грузит продуктовый сервер, да и чувак, который писал процесс загрузки, намедни уволился, года как три уже.\u003Cbr\u003E\r\nК тому же, все там давно нужно переделать, так что ты возьми, создай себе базу и обеспечь периодическую заливку ФИАСА. Всё, как говорится, не задерживаю!\u003Cbr\u003E\r\n\u003Cbr\u003E\r\nТут надо сказать, что к программированию я имею отдаленное отношение, т.к. являюсь, скорее, DBA. Хотя, с другой то стороны, загрузка больших массивов предварительно отпрепарированной информации – как раз задача DBA, nest pa?\u003Cbr\u003E\r\n\u003Cbr\u003E\r\n — Да ладно… Щас сделаем – сказал я начальству, и ринулся на сайт ФИАСА, засучив рукава.\u003Cbr\u003E","imageUrl":null,"buttonTextHtml":"Читать дальше →","image":null},"editorVersion":"1.0","postType":"article","postLabels":[{"type":"tutorial","data":null}],"author":{"scoreStats":{"score":10,"votesCount":22},"rating":0,"relatedData":null,"contacts":[],"authorContacts":[],"paymentDetails":{"paymentYandexMoney":null,"paymentPayPalMe":null,"paymentWebmoney":null},"id":"1609951","alias":"uaggster","fullname":null,"avatarUrl":null,"speciality":null},"statistics":{"commentsCount":17,"favoritesCount":23,"readingCount":11202,"score":8,"votesCount":10},"hubs":[{"relatedData":null,"id":"594","alias":"sql","type":"collective","title":"SQL","titleHtml":"SQL","isProfiled":true},{"relatedData":null,"id":"17378","alias":"mssql","type":"collective","title":"Microsoft SQL Server","titleHtml":"Microsoft SQL Server","isProfiled":true},{"relatedData":null,"id":"17681","alias":"db_admins","type":"collective","title":"Администрирование баз данных","titleHtml":"Администрирование баз данных","isProfiled":true}],"flows":[{"id":"1","alias":"develop","title":"Разработка"},{"id":"6","alias":"admin","title":"Администрирование"}],"relatedData":null,"textHtml":"\u003Cdiv xmlns=\"http:\u002F\u002Fwww.w3.org\u002F1999\u002Fxhtml\"\u003E\u003Cblockquote\u003EЭпиграф:\u003Cbr\u002F\u003E\r\n«Когда у тебя в руках молоток, всё вокруг кажется гвоздями».\u003Cbr\u002F\u003E\r\n\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\n\u003Cdiv style=\"text-align:center;\"\u003E\u003Cimg src=\"https:\u002F\u002Fhabrastorage.org\u002Fr\u002Fw780q1\u002Fwebt\u002Fk5\u002Fa-\u002Fn-\u002Fk5a-n-tnsbjaef3vygje4uhsc3w.jpeg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fk5\u002Fa-\u002Fn-\u002Fk5a-n-tnsbjaef3vygje4uhsc3w.jpeg\" data-blurred=\"true\"\u002F\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nКак-то давным-давно, кажется – в прошлую пятницу, обходя окрестности офиса, озаботилось окаянное начальство тем, что я провожу время в праздности и созерцании котиков и кошечек.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n — А не загрузить ли тебе ФИАС, друг ситный! – сказало начальство. – Ибо процесс его загрузки что-то не нравится нашим бизнес-подразделениям. Долго, говорят грузится, грузит продуктовый сервер, да и чувак, который писал процесс загрузки, намедни уволился, года как три уже.\u003Cbr\u002F\u003E\r\nК тому же, все там давно нужно переделать, так что ты возьми, создай себе базу и обеспечь периодическую заливку ФИАСА. Всё, как говорится, не задерживаю!\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТут надо сказать, что к программированию я имею отдаленное отношение, т.к. являюсь, скорее, DBA. Хотя, с другой то стороны, загрузка больших массивов предварительно отпрепарированной информации – как раз задача DBA, nest pa?\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n — Да ладно… Щас сделаем – сказал я начальству, и ринулся на сайт ФИАСА, засучив рукава.\u003Cbr\u002F\u003E\r\n\u003Ca name=\"habracut\"\u003E\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n«О! Да тут есть dbf!» — подумал я, радостно потирая руки, параллельно подивившись отсутствию стандартного «де-факто» zip архива, и, наоборот, присутствию давно почившего в бозе arj и \u003Cs\u003Eпроприетарному\u003C\u002Fs\u003E пардон, открытому, конечно, 7zip [но который всё равно нельзя разжать с помощью powershell Expand-Archive]. Т.е. чистым powershell’ом это не скачаешь и не распакуешь. Придётся громоздить на сервер всякую хрень. Ну да ладно.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИнструментарий по массовой параллельной загрузке dbf файлов у меня написан лет уже как несколько, так что проблем возникнуть не должно.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЯ распаковал dbf-ки, запустил программу загрузки, и пока данные грузились, набросал скриптик, который склеивал отдельные «почти-одноименные» таблички в одну, по принадлежности.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЗагрузил данные, и уже хотел отправиться в кабинет руководства пожать, т.с., лавры, однако черт меня дернул посмотреть результаты импорта!\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002Fka\u002Fdq\u002F_y\u002Fkadq_y5tmrzvdvwygjinprtmhpu.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n — Упс. WTF!!!???\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cimg src=\"\u002Fimg\u002Fimage-loader.svg\" data-src=\"https:\u002F\u002Fhabrastorage.org\u002Fwebt\u002F-c\u002Fpd\u002Fjq\u002F-cpdjqt9bvrun2x69w0qujwp4rc.png\"\u002F\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nБольшие таблицы грузились нормально, а маленькие – содержали кракозябры.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИ так мне от всего этого стало грустно и тоскливо, что я мужественно взял себя в руки и занялся прокрастинацией и своими прямыми обязанностями. Возиться с битыми dbf-ками – жутко не хотелось.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПрокрастинировал я дня два, до тех пор, пока заявки не кончились, и на горизонте снова не замаячило начальство, с сакраментальным вопросом «А чё это мы сачкуем?».\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИ, так как ответить было нечего, а возиться с dbf – по-прежнему не хотелось, я решил загрузить ФИАС из xml, тем более что, как говориться, стильно, модно, молодёжно, и «dbf – умирающий формат».\u003Cbr\u002F\u003E\r\nНа этом, разрешите затянувшийся вводный монолог закончить, и перейти к делу.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cblockquote\u003EЭпиграф 2:\u003Cbr\u002F\u003E\r\nДа, так тоже можно. :-)\u003Cbr\u002F\u003E\r\n\u003C\u002Fblockquote\u003E\u003Cbr\u002F\u003E\r\nИтак, грузить было решено c помощью \u003Ca href=\"https:\u002F\u002Fdocs.microsoft.com\u002Fru-ru\u002Fsql\u002Frelational-databases\u002Fsqlxml-annotated-xsd-schemas-xpath-queries\u002Fbulk-load-xml\u002Fperforming-bulk-load-of-xml-data-sqlxml-4-0?view=sql-server-2017\"\u003ESQLXMLBULKLOAD\u003C\u002Fa\u003E – замечательной библиотеки, как раз и предназначенной для массовой (bulk) заливки структурированных xml файлов.\u003Cbr\u002F\u003E\r\nДля того, чтобы ее использовать, нужно \u003Ca href=\"https:\u002F\u002Fwww.microsoft.com\u002Fen-us\u002Fdownload\u002Fdetails.aspx?id=30403\"\u003Eскачать\u003C\u002Fa\u003E и установить библиотеку SqlXml 4.0 Service Pack 1 (SP1).\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ случае ФИАСа, однако, «структурированность» не особо востребована. Т.к. файлы там не то, что не xml… они, конечно, xml, но, по сути – это плоские таблицы с данными, в каждом файле – одна таблица.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНа сайте sql.ru я \u003Ca href=\"https:\u002F\u002Fwww.sql.ru\u002Fforum\u002F720892\u002Foptimalnost-metodov-zagruzki-xml-v-mssql?mid=8075805#8075805\"\u003Eнашел\u003C\u002Fa\u003E процедуру \u003Cb\u003EspXMLBulkLoad\u003C\u002Fb\u003E уважаемого пользователя \u003Cb\u003EMnior\u003C\u002Fb\u003E, чтобы совсем уж не вылезать за пределы SQL сервера, и не писать даже вызов SQLXMLBULKLOAD на CLR.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВот слегка модифицированный ее вариант:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EspXMLBulkLoad\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cpre\u003E\u003Ccode class=\"sql\"\u003EUSE [FIAS2]\nGO\n\n\u002F****** Object:  StoredProcedure [dbo].[spXMLBulkLoad]    Script Date: 13.05.2019 18:05:58 ******\u002F\nSET ANSI_NULLS ON\nGO\n\nSET QUOTED_IDENTIFIER ON\nGO\n\n\n-- Необходимо разрешить Ole Automation Procedures:\n\t-- EXEC sp_configure 'Ole Automation Procedures', 1; RECONFIGURE WITH OVERRIDE;\n\n-- Пример:\n\t-- EXEC dbo.spXMLBulkLoad 'Z:\\Path\\Data.xml','Z:\\Path\\Schema.xsd', 'FIAS', 'Z:\\Path\\error.xml'\n\nCREATE PROCEDURE [dbo].[spXMLBulkLoad] (\n\t @File\t\tSysName\n\t,@Schema\tSysName\n\t,@DataBase\tSysName\t= '&lt;DefaultDataBase\u003E'\n\t,@ErrorLog\tSysName\n) AS \nBEGIN \n\tDECLARE\t @ErrCode\tInt\n\t\t,@OLEXMLBulk\tInt\n\t\t,@ErrMethod\t\tSysName\n\t\t,@ErrDescript\tNVarChar(4000)\n\t\n\tEXEC @ErrCode = sys.sp_OACreate 'SQLXMLBulkLoad.SQLXMLBulkload', @OLEXMLBulk OUT\n\tIF (@ErrCode = 0) \n\tBEGIN\n\t\tSET\t@DataBase\t= 'Provider=SQLOLEDB;Data Source=.;DataBase=' + @DataBase + ';Integrated Security=SSPI'\n\t\tEXEC @ErrCode = sys.sp_OASetProperty @OLEXMLBulk ,'ConnectionString', @DataBase\t\t\n\t\t\tIF (@ErrCode &lt;\u003E 0) \n\t\t\t\tBEGIN SET @ErrMethod = 'ConnectionString'\t\n\t\t\t\t\t  GOTO Error \n\t\t\t\tEND\n\t\tEXEC @ErrCode = sys.sp_OASetProperty @OLEXMLBulk ,'ErrorLogFile', @ErrorLog\t\t\n\t\t\tIF (@ErrCode &lt;\u003E 0) \n\t\t\t\tBEGIN SET @ErrMethod = 'ErrorLogFile'\t\n\t\t\t\t\t  GOTO Error \n\t\t\t\tEND\n\n\t\tEXEC @ErrCode = sys.sp_OASetProperty @OLEXMLBulk, 'CheckConstraints', 1\t\t\t\n\t\t\tIF (@ErrCode &lt;\u003E 0) \n\t\t\t\tBEGIN SET @ErrMethod = 'CheckConstraints'\t\n\t\t\t\t\t  GOTO Error \n\t\t\t\tEND\n\n\t\t--EXEC @ErrCode = sys.sp_OASetProperty @OLEXMLBulk, 'ForceTableLock', 1\t\t\t\n\t\t--\tIF (@ErrCode &lt;\u003E 0) \n\t\t--\t\tBEGIN SET @ErrMethod = 'ForceTableLock'\t\n\t\t--\t\t\t  GOTO Error \n\t\t--\t\tEND\n\t\t\n\t\tEXEC @ErrCode = sys.sp_OAMethod\t@OLEXMLBulk, 'Execute', NULL, @Schema, @File\n\t\tIF (@ErrCode &lt;\u003E 0) \n\t\tBEGIN\n\t\t\tSET @ErrMethod = 'Execute'\n\t\t\tDECLARE\t @Exist\tInt\n\t\t\t\t\t,@Error\tXML\n\t\t\t\t    ,@SQL\tNvarChar(max)\n\t\t\tEXEC master.dbo.xp_FileExist @ErrorLog, @Exist OUT\n\t\t\tIF (@Exist = 1) \n\t\t\tBEGIN\n\t\t\t\t -- Из @ErrorLog файла\n\t\t\t\tSet @SQL = N'SELECT  @Error = E.Error + CASE WHEN Right(E.Error,1) &lt;\u003E ''\u003E'' THEN ''lt\u003E'' ELSE '''' END '\n\t\t\t\t\t\t   + N'FROM OPENROWSET(BULK '''+ @ErrorLog +''', SINGLE_NCLOB) E(Error)'\n\t\t\t\texec sp_executesql @SQL, N'@Error xml OUTPUT', @Error=@Error OUTPUT \n\t\t\t\t\n\t\t\t\tSELECT\t@ErrDescript\t= IsNull(@ErrDescript,'') + E.Error.value('Description[1]','SysName') + ' '\n\t\t\t\tFROM\t@Error.nodes('\u002FResult\u002FError')E(Error)\n\t\t\t\tSELECT\t@ErrDescript\t= IsNull(@ErrDescript,'') + E.Error.value('Description[1]','SysName') + ' '\n\t\t\t\tFROM\t@Error.nodes('\u002FError\u002FRecord')E(Error)\n\t\t\tEND \n\t\t\tELSE\n\t\t\t\tGOTO Error\n\t\tEND\n\t\tGOTO Destroy\n\tError:\t\n\t\t\tEXEC @ErrCode = sys.sp_OAGetErrorInfo @OLEXMLBulk, @ErrorLog OUT, @ErrDescript OUT\n\tDestroy:\n\t\t\tEXEC @ErrCode = sys.sp_OADestroy @OLEXMLBulk\n\tEND \n\tELSE\n\t\tSELECT\t \n\t\t\t @ErrMethod\t= 'SQLXMLBulkLoad.SQLXMLBulkload'\n\t\t\t,@ErrorLog\t= 'sp_OACreate'\n\t\t\t,@ErrDescript\t= 'Ошибка создания OLE объекта'\n\t\n\t-- Вывод ошибок\n\tIF (@ErrMethod IS NOT NULL) \n\tBEGIN\n\t\tRAISERROR('Ошибка при выполнении метода \"%s\" в \"%s\": %s',18,1, @ErrMethod, @ErrorLog, @ErrDescript)\n\t\tRETURN\t@@Error\n\tEND\nEND\nGO\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\nОднако, для осуществления массовой загрузки xml с помощью этой библиотеки необходимы аннотированные xsd схемы, в которых, собственно, и указывается, каким образом и куда что грузится.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nУпоминания о том, что такие схемы есть, «но только старые» — я нашел аж на десятке сайтов, но нигде не нашел самих схем. И разозлился.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nМодифицировать имеющуюся на сайте ФИАСа схему для импорта данных вручную – не сложно.\u003Cbr\u002F\u003E\r\nНо… в совокупности – там 271 поле! Это ж сколько сидеть и тупить надо!\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПоэтому я решил модифицировать эти схемы автоматически, заодно и создав целевые таблицы в БД.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nSQLXMLBULKLOAD умеет автоматически создавать таблицы для загружаемых данных из аннотированной схемы, но, с другой стороны, если я эту схему буду делать, то почему бы, попутно не сделать эти таблицы самому, так, как мне нужно?\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЯ скачал xsd схемы с сайта ФИАС и проанализировал их чисто визуально.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nК счастью, они все – однотипные, поэтому создать целевую БД и модифицировать сами схемы для загрузки можно с помощью всего нескольких не очень сложных запросов.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003E1. Создадим пустую базу FIAS2.\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\nПочему «2»? Ну, потому что «1» — была база из dbf-ок. Возможно, мы поговорим о ней позже.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EСкрипт создания БД FIAS2\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cpre\u003E\u003Ccode class=\"sql\"\u003ECREATE DATABASE [FIAS2]\n CONTAINMENT = NONE\n ON  PRIMARY \n( NAME = N'FIAS', FILENAME = N'E:\\Data\\FIAS1.mdf' , SIZE = 10485760KB , FILEGROWTH = 1048576KB )\n LOG ON \n( NAME = N'FIAS_log', FILENAME = N'E:\\Data\\FIAS1_log.ldf' , SIZE = 1048576KB , FILEGROWTH = 131072KB )\nGO\nALTER DATABASE [FIAS2] SET COMPATIBILITY_LEVEL = 120\nGO\nALTER DATABASE [FIAS2] SET ANSI_NULL_DEFAULT ON \nGO\nALTER DATABASE [FIAS2] SET ANSI_NULLS ON \nGO\nALTER DATABASE [FIAS2] SET ANSI_PADDING ON \nGO\nALTER DATABASE [FIAS2] SET ANSI_WARNINGS ON \nGO\nALTER DATABASE [FIAS2] SET ARITHABORT OFF \nGO\nALTER DATABASE [FIAS2] SET AUTO_CLOSE OFF \nGO\nALTER DATABASE [FIAS2] SET AUTO_SHRINK OFF \nGO\nALTER DATABASE [FIAS2] SET AUTO_CREATE_STATISTICS ON(INCREMENTAL = OFF)\nGO\nALTER DATABASE [FIAS2] SET AUTO_UPDATE_STATISTICS ON \nGO\nALTER DATABASE [FIAS2] SET CURSOR_CLOSE_ON_COMMIT OFF \nGO\nALTER DATABASE [FIAS2] SET CURSOR_DEFAULT  GLOBAL \nGO\nALTER DATABASE [FIAS2] SET CONCAT_NULL_YIELDS_NULL ON \nGO\nALTER DATABASE [FIAS2] SET NUMERIC_ROUNDABORT OFF \nGO\nALTER DATABASE [FIAS2] SET QUOTED_IDENTIFIER ON \nGO\nALTER DATABASE [FIAS2] SET RECURSIVE_TRIGGERS OFF \nGO\nALTER DATABASE [FIAS2] SET  DISABLE_BROKER \nGO\nALTER DATABASE [FIAS2] SET AUTO_UPDATE_STATISTICS_ASYNC OFF \nGO\nALTER DATABASE [FIAS2] SET DATE_CORRELATION_OPTIMIZATION OFF \nGO\nALTER DATABASE [FIAS2] SET PARAMETERIZATION SIMPLE \nGO\nALTER DATABASE [FIAS2] SET READ_COMMITTED_SNAPSHOT ON \nGO\nALTER DATABASE [FIAS2] SET  READ_WRITE \nGO\nALTER DATABASE [FIAS2] SET RECOVERY SIMPLE \nGO\nALTER DATABASE [FIAS2] SET  MULTI_USER \nGO\nALTER DATABASE [FIAS2] SET PAGE_VERIFY CHECKSUM  \nGO\nALTER DATABASE [FIAS2] SET TARGET_RECOVERY_TIME = 0 SECONDS \nGO\nALTER DATABASE [FIAS2] SET DELAYED_DURABILITY = DISABLED \nGO\nUSE [FIAS2]\nGO\nIF NOT EXISTS (SELECT name FROM sys.filegroups WHERE is_default=1 AND name = N'PRIMARY') ALTER DATABASE [FIAS2] MODIFY FILEGROUP [PRIMARY] DEFAULT\nGO\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Cb\u003E2. Создадим в этой базе пару табличек.\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПервая табличка будет содержать xsd схемы, а вторая – будет представлять из себя фактически схему данных, полученную из этих xsd схем.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nxsd- схемы – это, вообще-то обычные xml файлы, так что и работать с ними можно как с обычными xml-ями.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"sql\"\u003EUSE [FIAS2]\ngo\n\nif OBJECT_ID('dbo.[_FIAS]') is not null \n\tdrop table dbo.[_FIAS]\ngo\n\nif OBJECT_ID('dbo._FIAS_SCHEMAS') is not null \n\tdrop table dbo.[_FIAS_SCHEMAS]\ngo\n\nCreate table dbo.[_FIAS_SCHEMAS] (x xml, [table] sysname)\ngo\n\n-- Первый запрос: Загрузим схемы в табличку на сервере, для дальнейших манипуляций.\ninsert into dbo.[_FIAS_SCHEMAS] (x, [table])\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_ACTSTAT' [table] FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_ACTSTAT_2_250_08_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_ADDROBJ' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_ADDROBJ_2_250_01_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_CENTERST' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_CENTERST_2_250_10_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_CURENTST' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_CURENTST_2_250_07_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_DEL_ADDROBJ' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_DEL_ADDROBJ_2_250_15_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_DEL_HOUSEINT' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_DEL_HOUSEINT_2_250_17_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_DEL_HOUSE' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_DEL_HOUSE_2_250_16_04_01_01.xsd', SINGLE_BLOB) x\nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_DEL_LANDMARK' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_DEL_LANDMARK_2_250_18_04_01_01.xsd', SINGLE_BLOB) x\nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_DEL_NORMDOC' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_DEL_NORMDOC_2_250_19_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_ESTSTAT' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_ESTSTAT_2_250_13_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_FLATTYPE' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_FLATTYPE_2_250_23_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_HOUSEINT' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_HOUSEINT_2_250_03_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_HOUSE' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_HOUSE_2_250_02_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_HSTSTAT' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_HSTSTAT_2_250_12_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_INTVSTAT' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_INTVSTAT_2_250_11_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_LANDMARK' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_LANDMARK_2_250_04_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_NDOCTYPE' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_NDOCTYPE_2_250_20_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_NORMDOC' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_NORMDOC_2_250_05_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_OPERSTAT' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_OPERSTAT_2_250_09_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_ROOMTYPE' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_ROOMTYPE_2_250_24_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_ROOM' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_ROOM_2_250_21_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_SOCRBASE' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_SOCRBASE_2_250_06_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_STEAD' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_STEAD_2_250_22_04_01_01.xsd', SINGLE_BLOB) x \nUnion all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_STRSTAT' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_STRSTAT_2_250_14_04_01_01.xsd', SINGLE_BLOB) x \n\n \n-- Второй запрос: Распотрошим схемы, и создадим рабочую таблицу с метаданными\n;WITH XMLNAMESPACES ('http:\u002F\u002Fwww.w3.org\u002F2001\u002FXMLSchema' as xs) \nSelect a.[table]\n  ,tbl.[root_name]\n  ,tbl.[root_description]\n  ,tbl.[name]\n  ,ROW_NUMBER() over (partition by a.[table] order by 1\u002F0) N\n  ,tbl.[column]\n  ,tbl.[required]\n  ,tbl.[description]\n  ,tbl.[type]\n  ,tbl.[len]\n  ,Case tbl.[type]  \n\t\twhen N'byte' then N'tinyint' \n\t\twhen N'date' then N'date'\n\t\twhen N'int'  then N'int'\n\t\twhen N'string' then\n\t\t\t\t\t\tCase when tbl.[len] = 36 and (tbl.[column] like N'%ID' or tbl.[column] = N'NORMDOC') then N'uniqueidentifier'\n\t\t\t\t\t\t\twhen tbl.[len] is Null then N'nvarchar(max)'\n\t\t\t\t\t\tElse N'nvarchar(' + cast(tbl.[len] as nvarchar(4000)) + N')' END\n\t\twhen N'integer' then\n\t\t\t\t\t\tCase when tbl.[len] \u003E 9 then N'bigint'\n\t\t\t\t\t\t\t when tbl.[len] &lt;= 4 then N'smallint'\n\t\t\t\t\t\t\tElse N'int'\n\t\t\t\t\t\tend\n\t\telse N'nvarchar(max)'\n\t\tEnd [sqltype]\n  ,t.n.query('.') [node]\ninto dbo.[_FIAS]\nfrom dbo.[_FIAS_SCHEMAS] a\n\tCross apply a.x.nodes('\u002F\u002Fxs:attribute') t(n)\n\tCross apply \n\t\t\t(values -- некоторые поля используются несколько раз, поэтому сделаем так :) \n\t\t\t(\n\t\t\t\t x.value('(xs:schema[1]\u002Fxs:element[1]\u002F@name)', 'nvarchar(255)')\n\t\t\t\t,x.value('(xs:schema[1]\u002Fxs:element[1]\u002Fxs:annotation\u002Fxs:documentation[1]\u002Ftext())[1]', 'nvarchar(4000)')\n\t\t\t\t,x.value('(xs:schema[1]\u002Fxs:element[1]\u002Fxs:complexType[1]\u002Fxs:sequence[1]\u002Fxs:element[1]\u002F@name)', 'nvarchar(255)')\n\t\t\t\t,t.n.value('(.\u002F@name)[1]', 'nvarchar(255)')\n\t\t\t\t,t.n.value('(.\u002F@use)[1]', 'nvarchar(255)') \n\t\t\t\t,Stuff(Coalesce(t.n.value('(.\u002Fxs:simpleType\u002Fxs:restriction\u002F@base)[1]', 'nvarchar(255)'), t.n.value('(.\u002F@type)[1]', 'nvarchar(255)')), 1, 3, '')\n\t\t\t\t,Coalesce(t.n.value('(.\u002Fxs:simpleType\u002Fxs:restriction\u002Fxs:length\u002F@value)[1]', 'int')\n\t\t\t\t\t\t\t,t.n.value('(.\u002Fxs:simpleType\u002Fxs:restriction\u002Fxs:maxLength\u002F@value)[1]', 'int')\n\t\t\t\t\t\t\t,t.n.value('(.\u002Fxs:simpleType\u002Fxs:restriction\u002Fxs:totalDigits\u002F@value)[1]', 'int'))\n\t\t\t\t,Replace(\n\t\t\t\t Replace(\n\t\t\t\t Replace(\n\t\t\t\t Replace(\n\t\t\t\t Replace(\n\t\t\t\t Replace(\n\t\t\t\t Replace(\n\t\t\t\t Replace(\n\t\t\t\t Replace(t.n.value('(.\u002Fxs:annotation\u002Fxs:documentation)[1]', 'nvarchar(4000)'), '  ', ' ')\n\t\t\t\t , '  ', ' ')\n\t\t\t\t , '  ', ' ')\n\t\t\t\t , '  ', ' ')\n\t\t\t\t , '  ', ' ')\n\t\t\t\t , '  ', ' ')\n\t\t\t\t , '  ', ' ')\n\t\t\t\t , '  ', ' ')\n\t\t\t\t , '  ', ' ') \n\t\t\t)\n\t\t\t) tbl([root_name], [root_description], [name], [column], [required], [type], [len], [description])\n\n-- Посмотрим на результат\nSelect * from dbo.[_FIAS]\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Cb\u003EПодробнее по запросам:\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПервый – загружает xsd схемы в таблицу на сервере, попутно снабжая каждую схему аннотацией в поле [table] – именем таблицы, в которую я хочу грузить данные из соответствующей таблицы.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nБезусловно, можно было-бы сделать так, что каждый раз, когда схемы поменяются, их можно было бы скачивать, подсовывать в какую-нибудь папку и пересоздавать по ним структуру целевых таблиц заново и автоматически, и заново же и автоматически модифицировать схемы, но т.к. структура меняется крайне редко, последний раз менялась – аж в 16 году – делать такой автомат крайне лениво. Лучше потратить 30 секунд на CTRL+C – CTRL+V.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПоэтому загрузка в табличку со схемами так захардкожена, и пути к загружаемым файлам, а также имена таблиц – прописаны руками.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВторой запрос – вытаскивает из схем информацию о структуре таблиц. Я не стал возиться с 3-нф, а развернул ее как одну таблицу.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОбратите, кстати, внимание на вот этот кусочек (+)\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nДовольно часто новички задают вопрос: можно ли вычислить какое-то сложное выражение в запросе 1 раз, а потом многократно использовать его в нескольких местах. Да, можно. Вот так, например:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"sql\"\u003Efrom dbo.[_FIAS_SCHEMAS] a\n\tCross apply a.x.nodes('\u002F\u002Fxs:attribute') t(n)\n\tCross apply \n\t\t\t(values -- некоторые поля используются несколько раз, поэтому сделаем так :) \n\t\t\t(\n\t\t\t x.value('(xs:schema[1]\u002Fxs:element[1]\u002F@name)', 'nvarchar(255)')\n, ... здесь можно перечислить все сложновычисляемые поля, чтобы потом использовать их в любой части запроса\n\t\t\t)\n\t\t\t) tbl([root_name], [root_description], [name], [column], [required], [type], [len], [description])\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nРаботает с некоторыми ограничениями, конечно. Но, начав пользоваться, вы быстро поймете, в чем они заключаются.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cb\u003E3. Создадим скрипты, создающие таблицы ФИАС, а потом запустим их, и создадим сами таблицы:\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"sql\"\u003E\nDeclare @schema sysname = N'dbo'\nDeclare @sql nvarchar(max)\n\n-- Создадим код для создания таблиц, и запустим его\nset @sql = (\n\tSelect Distinct \n\t\tN';Create table ' \n\t\t+ Quotename(@schema)\n\t\t+ N'.'\n\t\t+ Quotename([table])\n\t\t+ N'('\n\t\t+ Stuff((Select\n\t\t\t\tN',' \n\t\t\t\t+ QUOTENAME(b.[column]) \n\t\t\t\t+ N' '\n\t\t\t\t+ b.[sqltype]\n\t\t\t\t+ Case b.[required] when 'required' then N' NOT NULL'\n\t\t\t\t\t\t\t\t\twhen 'optional' then N' NULL'\n\t\t\t\t\tEnd \n\t\t\t\tFrom dbo.[_FIAS] b\n\t\t\t\twhere b.[table] = a.[table]\n\t\t\t\tOrder by N ASC\n\t\t\t\tFor xml path(N''), type\n\t\t\t\t).value(N'.', 'nvarchar(max)'), 1, 1, N'')\n\t\t+ N')'\n\t\tfrom dbo.[_FIAS] a\n\tFor xml path(N''), type).value(N'.', N'nvarchar(max)')\nexec (@sql)\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nКому лень всё это проделывать – скрипты на создание таблиц и аннотированные схемы ФИАС будут приложены в конце статьи.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EЗапрос на создание таблиц, который получился в результате работы запроса\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cpre\u003E\u003Ccode class=\"sql\"\u003E;\n\nCREATE TABLE [dbo].[_ACTSTAT] (\n\t[NAME] NVARCHAR(100) NOT NULL\n\t,[ACTSTATID] BIGINT NOT NULL\n\t);\n\nCREATE TABLE [dbo].[_ADDROBJ] (\n\t[AOGUID] UNIQUEIDENTIFIER NOT NULL\n\t,[FORMALNAME] NVARCHAR(120) NOT NULL\n\t,[REGIONCODE] NVARCHAR(2) NOT NULL\n\t,[AUTOCODE] NVARCHAR(1) NOT NULL\n\t,[AREACODE] NVARCHAR(3) NOT NULL\n\t,[CITYCODE] NVARCHAR(3) NOT NULL\n\t,[CTARCODE] NVARCHAR(3) NOT NULL\n\t,[PLACECODE] NVARCHAR(3) NOT NULL\n\t,[PLANCODE] NVARCHAR(4) NOT NULL\n\t,[STREETCODE] NVARCHAR(4) NULL\n\t,[EXTRCODE] NVARCHAR(4) NOT NULL\n\t,[SEXTCODE] NVARCHAR(3) NOT NULL\n\t,[OFFNAME] NVARCHAR(120) NULL\n\t,[POSTALCODE] NVARCHAR(6) NULL\n\t,[IFNSFL] NVARCHAR(4) NULL\n\t,[TERRIFNSFL] NVARCHAR(4) NULL\n\t,[IFNSUL] NVARCHAR(4) NULL\n\t,[TERRIFNSUL] NVARCHAR(4) NULL\n\t,[OKATO] NVARCHAR(11) NULL\n\t,[UPDATEDATE] DATE NOT NULL\n\t,[SHORTNAME] NVARCHAR(10) NOT NULL\n\t,[AOLEVEL] BIGINT NOT NULL\n\t,[PARENTGUID] UNIQUEIDENTIFIER NULL\n\t,[AOID] UNIQUEIDENTIFIER NOT NULL\n\t,[PREVID] UNIQUEIDENTIFIER NULL\n\t,[NEXTID] UNIQUEIDENTIFIER NULL\n\t,[CODE] NVARCHAR(17) NULL\n\t,[PLAINCODE] NVARCHAR(15) NULL\n\t,[ACTSTATUS] BIGINT NOT NULL\n\t,[CENTSTATUS] BIGINT NOT NULL\n\t,[OPERSTATUS] BIGINT NOT NULL\n\t,[CURRSTATUS] BIGINT NOT NULL\n\t,[STARTDATE] DATE NOT NULL\n\t,[ENDDATE] DATE NOT NULL\n\t,[NORMDOC] UNIQUEIDENTIFIER NULL\n\t,[LIVESTATUS] TINYINT NOT NULL\n\t,[DIVTYPE] INT NOT NULL\n\t,[OKTMO] NVARCHAR(11) NULL\n\t);\n\nCREATE TABLE [dbo].[_CENTERST] (\n\t[CENTERSTID] BIGINT NOT NULL\n\t,[NAME] NVARCHAR(100) NOT NULL\n\t);\n\nCREATE TABLE [dbo].[_CURENTST] (\n\t[CURENTSTID] BIGINT NOT NULL\n\t,[NAME] NVARCHAR(100) NOT NULL\n\t);\n\nCREATE TABLE [dbo].[_DEL_ADDROBJ] (\n\t[AOGUID] UNIQUEIDENTIFIER NOT NULL\n\t,[FORMALNAME] NVARCHAR(120) NOT NULL\n\t,[REGIONCODE] NVARCHAR(2) NOT NULL\n\t,[AUTOCODE] NVARCHAR(1) NOT NULL\n\t,[AREACODE] NVARCHAR(3) NOT NULL\n\t,[CITYCODE] NVARCHAR(3) NOT NULL\n\t,[CTARCODE] NVARCHAR(3) NOT NULL\n\t,[PLACECODE] NVARCHAR(3) NOT NULL\n\t,[STREETCODE] NVARCHAR(4) NULL\n\t,[EXTRCODE] NVARCHAR(4) NOT NULL\n\t,[PLANCODE] NVARCHAR(4) NOT NULL\n\t,[SEXTCODE] NVARCHAR(3) NOT NULL\n\t,[OFFNAME] NVARCHAR(120) NULL\n\t,[POSTALCODE] NVARCHAR(6) NULL\n\t,[SHORTNAME] NVARCHAR(10) NOT NULL\n\t,[AOLEVEL] BIGINT NOT NULL\n\t,[PARENTGUID] UNIQUEIDENTIFIER NULL\n\t,[AOID] UNIQUEIDENTIFIER NOT NULL\n\t,[PREVID] UNIQUEIDENTIFIER NULL\n\t,[NEXTID] UNIQUEIDENTIFIER NULL\n\t,[CODE] NVARCHAR(17) NULL\n\t,[PLAINCODE] NVARCHAR(15) NULL\n\t,[ACTSTATUS] BIGINT NOT NULL\n\t,[CENTSTATUS] BIGINT NOT NULL\n\t,[OPERSTATUS] BIGINT NOT NULL\n\t,[CURRSTATUS] BIGINT NOT NULL\n\t,[STARTDATE] DATE NOT NULL\n\t,[ENDDATE] DATE NOT NULL\n\t,[NORMDOC] UNIQUEIDENTIFIER NULL\n\t,[LIVESTATUS] TINYINT NOT NULL\n\t,[IFNSFL] NVARCHAR(4) NULL\n\t,[TERRIFNSFL] NVARCHAR(4) NULL\n\t,[IFNSUL] NVARCHAR(4) NULL\n\t,[TERRIFNSUL] NVARCHAR(4) NULL\n\t,[OKATO] NVARCHAR(11) NULL\n\t,[OKTMO] NVARCHAR(11) NULL\n\t,[UPDATEDATE] DATE NOT NULL\n\t);\n\nCREATE TABLE [dbo].[_DEL_HOUSE] (\n\t[POSTALCODE] NVARCHAR(6) NULL\n\t,[IFNSFL] NVARCHAR(4) NULL\n\t,[TERRIFNSFL] NVARCHAR(4) NULL\n\t,[IFNSUL] NVARCHAR(4) NULL\n\t,[TERRIFNSUL] NVARCHAR(4) NULL\n\t,[OKATO] NVARCHAR(11) NULL\n\t,[OKTMO] NVARCHAR(11) NULL\n\t,[UPDATEDATE] DATE NOT NULL\n\t,[HOUSENUM] NVARCHAR(20) NULL\n\t,[ESTSTATUS] SMALLINT NOT NULL\n\t,[BUILDNUM] NVARCHAR(10) NULL\n\t,[STRUCNUM] NVARCHAR(10) NULL\n\t,[STRSTATUS] BIGINT NULL\n\t,[HOUSEID] UNIQUEIDENTIFIER NOT NULL\n\t,[HOUSEGUID] UNIQUEIDENTIFIER NOT NULL\n\t,[AOGUID] UNIQUEIDENTIFIER NOT NULL\n\t,[STARTDATE] DATE NOT NULL\n\t,[ENDDATE] DATE NOT NULL\n\t,[STATSTATUS] BIGINT NOT NULL\n\t,[NORMDOC] UNIQUEIDENTIFIER NULL\n\t,[COUNTER] BIGINT NOT NULL\n\t,[CADNUM] NVARCHAR(100) NULL\n\t,[DIVTYPE] INT NOT NULL\n\t);\n\nCREATE TABLE [dbo].[_DEL_HOUSEINT] (\n\t[IFNSUL] NVARCHAR(4) NULL\n\t,[TERRIFNSUL] NVARCHAR(4) NULL\n\t,[OKATO] NVARCHAR(11) NULL\n\t,[OKTMO] NVARCHAR(11) NULL\n\t,[UPDATEDATE] DATE NOT NULL\n\t,[INTSTART] BIGINT NOT NULL\n\t,[INTEND] BIGINT NOT NULL\n\t,[POSTALCODE] NVARCHAR(6) NULL\n\t,[IFNSFL] NVARCHAR(4) NULL\n\t,[TERRIFNSFL] NVARCHAR(4) NULL\n\t,[HOUSEINTID] UNIQUEIDENTIFIER NOT NULL\n\t,[INTGUID] UNIQUEIDENTIFIER NOT NULL\n\t,[AOGUID] UNIQUEIDENTIFIER NOT NULL\n\t,[STARTDATE] DATE NOT NULL\n\t,[ENDDATE] DATE NOT NULL\n\t,[INTSTATUS] BIGINT NOT NULL\n\t,[NORMDOC] UNIQUEIDENTIFIER NULL\n\t,[COUNTER] BIGINT NOT NULL\n\t);\n\nCREATE TABLE [dbo].[_DEL_LANDMARK] (\n\t[LOCATION] NVARCHAR(500) NOT NULL\n\t,[POSTALCODE] NVARCHAR(6) NULL\n\t,[IFNSFL] NVARCHAR(4) NULL\n\t,[TERRIFNSFL] NVARCHAR(4) NULL\n\t,[IFNSUL] NVARCHAR(4) NULL\n\t,[TERRIFNSUL] NVARCHAR(4) NULL\n\t,[OKATO] NVARCHAR(11) NULL\n\t,[OKTMO] NVARCHAR(11) NULL\n\t,[UPDATEDATE] DATE NOT NULL\n\t,[LANDID] UNIQUEIDENTIFIER NOT NULL\n\t,[LANDGUID] UNIQUEIDENTIFIER NOT NULL\n\t,[AOGUID] UNIQUEIDENTIFIER NOT NULL\n\t,[STARTDATE] DATE NOT NULL\n\t,[ENDDATE] DATE NOT NULL\n\t,[NORMDOC] UNIQUEIDENTIFIER NULL\n\t);\n\nCREATE TABLE [dbo].[_DEL_NORMDOC] (\n\t[NORMDOCID] UNIQUEIDENTIFIER NOT NULL\n\t,[DOCNAME] NVARCHAR(max) NULL\n\t,[DOCDATE] DATE NULL\n\t,[DOCNUM] NVARCHAR(20) NULL\n\t,[DOCTYPE] BIGINT NOT NULL\n\t,[DOCIMGID] UNIQUEIDENTIFIER NULL\n\t);\n\nCREATE TABLE [dbo].[_ESTSTAT] (\n\t[ESTSTATID] BIGINT NOT NULL\n\t,[NAME] NVARCHAR(20) NOT NULL\n\t,[SHORTNAME] NVARCHAR(20) NULL\n\t);\n\nCREATE TABLE [dbo].[_FLATTYPE] (\n\t[SHORTNAME] NVARCHAR(20) NULL\n\t,[FLTYPEID] BIGINT NOT NULL\n\t,[NAME] NVARCHAR(20) NOT NULL\n\t);\n\nCREATE TABLE [dbo].[_HOUSE] (\n\t[POSTALCODE] NVARCHAR(6) NULL\n\t,[REGIONCODE] NVARCHAR(2) NULL\n\t,[IFNSFL] NVARCHAR(4) NULL\n\t,[TERRIFNSFL] NVARCHAR(4) NULL\n\t,[IFNSUL] NVARCHAR(4) NULL\n\t,[TERRIFNSUL] NVARCHAR(4) NULL\n\t,[OKATO] NVARCHAR(11) NULL\n\t,[OKTMO] NVARCHAR(11) NULL\n\t,[UPDATEDATE] DATE NOT NULL\n\t,[HOUSENUM] NVARCHAR(20) NULL\n\t,[ESTSTATUS] SMALLINT NOT NULL\n\t,[BUILDNUM] NVARCHAR(10) NULL\n\t,[STRUCNUM] NVARCHAR(10) NULL\n\t,[STRSTATUS] BIGINT NULL\n\t,[HOUSEID] UNIQUEIDENTIFIER NOT NULL\n\t,[HOUSEGUID] UNIQUEIDENTIFIER NOT NULL\n\t,[AOGUID] UNIQUEIDENTIFIER NOT NULL\n\t,[STARTDATE] DATE NOT NULL\n\t,[ENDDATE] DATE NOT NULL\n\t,[STATSTATUS] BIGINT NOT NULL\n\t,[NORMDOC] UNIQUEIDENTIFIER NULL\n\t,[COUNTER] BIGINT NOT NULL\n\t,[CADNUM] NVARCHAR(100) NULL\n\t,[DIVTYPE] INT NOT NULL\n\t);\n\nCREATE TABLE [dbo].[_HOUSEINT] (\n\t[OKTMO] NVARCHAR(11) NULL\n\t,[OKATO] NVARCHAR(11) NULL\n\t,[IFNSUL] NVARCHAR(4) NULL\n\t,[TERRIFNSUL] NVARCHAR(4) NULL\n\t,[TERRIFNSFL] NVARCHAR(4) NULL\n\t,[POSTALCODE] NVARCHAR(6) NULL\n\t,[IFNSFL] NVARCHAR(4) NULL\n\t,[ENDDATE] DATE NOT NULL\n\t,[INTSTATUS] BIGINT NOT NULL\n\t,[AOGUID] UNIQUEIDENTIFIER NOT NULL\n\t,[STARTDATE] DATE NOT NULL\n\t,[INTGUID] UNIQUEIDENTIFIER NOT NULL\n\t,[HOUSEINTID] UNIQUEIDENTIFIER NOT NULL\n\t,[INTSTART] BIGINT NOT NULL\n\t,[INTEND] BIGINT NOT NULL\n\t,[UPDATEDATE] DATE NOT NULL\n\t,[NORMDOC] UNIQUEIDENTIFIER NULL\n\t,[COUNTER] BIGINT NOT NULL\n\t);\n\nCREATE TABLE [dbo].[_HSTSTAT] (\n\t[HOUSESTID] BIGINT NOT NULL\n\t,[NAME] NVARCHAR(60) NOT NULL\n\t);\n\nCREATE TABLE [dbo].[_INTVSTAT] (\n\t[INTVSTATID] BIGINT NOT NULL\n\t,[NAME] NVARCHAR(60) NOT NULL\n\t);\n\nCREATE TABLE [dbo].[_LANDMARK] (\n\t[NORMDOC] UNIQUEIDENTIFIER NULL\n\t,[STARTDATE] DATE NOT NULL\n\t,[ENDDATE] DATE NOT NULL\n\t,[LANDGUID] UNIQUEIDENTIFIER NOT NULL\n\t,[AOGUID] UNIQUEIDENTIFIER NOT NULL\n\t,[LANDID] UNIQUEIDENTIFIER NOT NULL\n\t,[LOCATION] NVARCHAR(500) NOT NULL\n\t,[POSTALCODE] NVARCHAR(6) NULL\n\t,[TERRIFNSFL] NVARCHAR(4) NULL\n\t,[IFNSFL] NVARCHAR(4) NULL\n\t,[UPDATEDATE] DATE NOT NULL\n\t,[OKTMO] NVARCHAR(11) NULL\n\t,[OKATO] NVARCHAR(11) NULL\n\t,[IFNSUL] NVARCHAR(4) NULL\n\t,[TERRIFNSUL] NVARCHAR(4) NULL\n\t);\n\nCREATE TABLE [dbo].[_NDOCTYPE] (\n\t[NDTYPEID] BIGINT NOT NULL\n\t,[NAME] NVARCHAR(250) NOT NULL\n\t);\n\nCREATE TABLE [dbo].[_NORMDOC] (\n\t[NORMDOCID] UNIQUEIDENTIFIER NOT NULL\n\t,[DOCNAME] NVARCHAR(max) NULL\n\t,[DOCDATE] DATE NULL\n\t,[DOCNUM] NVARCHAR(20) NULL\n\t,[DOCTYPE] BIGINT NOT NULL\n\t,[DOCIMGID] UNIQUEIDENTIFIER NULL\n\t);\n\nCREATE TABLE [dbo].[_OPERSTAT] (\n\t[OPERSTATID] BIGINT NOT NULL\n\t,[NAME] NVARCHAR(100) NOT NULL\n\t);\n\nCREATE TABLE [dbo].[_ROOM] (\n\t[ROOMGUID] UNIQUEIDENTIFIER NOT NULL\n\t,[FLATNUMBER] NVARCHAR(50) NOT NULL\n\t,[FLATTYPE] INT NOT NULL\n\t,[ROOMNUMBER] NVARCHAR(50) NULL\n\t,[ROOMTYPE] INT NULL\n\t,[REGIONCODE] NVARCHAR(2) NOT NULL\n\t,[POSTALCODE] NVARCHAR(6) NULL\n\t,[UPDATEDATE] DATE NOT NULL\n\t,[HOUSEGUID] UNIQUEIDENTIFIER NOT NULL\n\t,[ROOMID] UNIQUEIDENTIFIER NOT NULL\n\t,[PREVID] UNIQUEIDENTIFIER NULL\n\t,[NEXTID] UNIQUEIDENTIFIER NULL\n\t,[STARTDATE] DATE NOT NULL\n\t,[ENDDATE] DATE NOT NULL\n\t,[LIVESTATUS] TINYINT NOT NULL\n\t,[NORMDOC] UNIQUEIDENTIFIER NULL\n\t,[OPERSTATUS] BIGINT NOT NULL\n\t,[CADNUM] NVARCHAR(100) NULL\n\t,[ROOMCADNUM] NVARCHAR(100) NULL\n\t);\n\nCREATE TABLE [dbo].[_ROOMTYPE] (\n\t[SHORTNAME] NVARCHAR(20) NULL\n\t,[NAME] NVARCHAR(20) NOT NULL\n\t,[RMTYPEID] BIGINT NOT NULL\n\t);\n\nCREATE TABLE [dbo].[_SOCRBASE] (\n\t[LEVEL] BIGINT NOT NULL\n\t,[SCNAME] NVARCHAR(10) NULL\n\t,[SOCRNAME] NVARCHAR(50) NOT NULL\n\t,[KOD_T_ST] NVARCHAR(4) NOT NULL\n\t);\n\nCREATE TABLE [dbo].[_STEAD] (\n\t[STEADGUID] UNIQUEIDENTIFIER NOT NULL\n\t,[NUMBER] NVARCHAR(120) NULL\n\t,[REGIONCODE] NVARCHAR(2) NOT NULL\n\t,[POSTALCODE] NVARCHAR(6) NULL\n\t,[IFNSFL] NVARCHAR(4) NULL\n\t,[TERRIFNSFL] NVARCHAR(4) NULL\n\t,[IFNSUL] NVARCHAR(4) NULL\n\t,[TERRIFNSUL] NVARCHAR(4) NULL\n\t,[OKATO] NVARCHAR(11) NULL\n\t,[OKTMO] NVARCHAR(11) NULL\n\t,[UPDATEDATE] DATE NOT NULL\n\t,[PARENTGUID] UNIQUEIDENTIFIER NULL\n\t,[STEADID] UNIQUEIDENTIFIER NOT NULL\n\t,[PREVID] UNIQUEIDENTIFIER NULL\n\t,[NEXTID] UNIQUEIDENTIFIER NULL\n\t,[OPERSTATUS] BIGINT NOT NULL\n\t,[STARTDATE] DATE NOT NULL\n\t,[ENDDATE] DATE NOT NULL\n\t,[NORMDOC] UNIQUEIDENTIFIER NULL\n\t,[LIVESTATUS] TINYINT NOT NULL\n\t,[CADNUM] NVARCHAR(100) NULL\n\t,[DIVTYPE] INT NOT NULL\n\t);\n\nCREATE TABLE [dbo].[_STRSTAT] (\n\t[NAME] NVARCHAR(20) NOT NULL\n\t,[SHORTNAME] NVARCHAR(20) NULL\n\t,[STRSTATID] BIGINT NOT NULL\n\t)\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Cb\u003E4. Коль скоро в xsd есть нормальное описание таблиц и полей в них – используем его, и создадим описание структуры в расширенных свойствах таблиц и их полей:\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"sql\"\u003E-- Создадим аннотацию к таблицам и полям\nSet @sql = (\nSelect N'; exec sp_addextendedproperty @name=''description'', @value=N''' \n\t\t+ a.[root_description] \n\t\t+ N''', @level0type =N''Schema'', @level0name = N''' \n\t\t+ @schema \n\t\t+ N''', @level1type = N''Table'',  @level1name = N''' \n\t\t+ a.[table]\n\t\t+ N''''\nfrom (Select distinct [table], [root_description] from dbo.[_FIAS]) a\nfor xml path(N''), type\n).value(N'.', N'nvarchar(max)')\nexec (@sql)\n\nSet @sql = (\nSelect N'; exec sp_addextendedproperty @name=''description'', @value=N''' \n\t\t+ a.[description] \n\t\t+ N''', @level0type =N''Schema'', @level0name = N''' \n\t\t+ @schema \n\t\t+ N''', @level1type = N''Table'',  @level1name = N''' \n\t\t+ a.[table] \n\t\t+ N''', @level2type = N''Column'', @level2name = N''' \n\t\t+ a.[column] \n\t\t+ N''''\nfrom dbo.[_FIAS] a\nfor xml path(N''), type\n).value(N'.', N'nvarchar(max)')\nexec (@sql)\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EВот код, который получился и выполнился в результате работы\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cpre\u003E\u003Ccode class=\"sql\"\u003E;\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией по статусу актуальности в БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ACTSTAT';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией классификатора адресообразующих элементов БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией по статусу центра в БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_CENTERST';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией по статусу актуальности КЛАДР 4.0 в БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_CURENTST';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией классификатора адресообразующих элементов БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией по номерам домов улиц городов и населенных пунктов, номера земельных участков и т.п в БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией по интервалам домов в БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSEINT';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией по описанию мест расположения  имущественных объектов в БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_LANDMARK';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией по сведениям по нормативным документам, являющимся основанием присвоения адресному элементу наименования в БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_NORMDOC';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией по признакам владения в БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ESTSTAT';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией по типам помещений в БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_FLATTYPE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией по номерам домов улиц городов и населенных пунктов в БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией по интервалам домов в БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSEINT';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией по статусу состояния домов  в БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HSTSTAT';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией по статусу интервалов домов в БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_INTVSTAT';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией по описанию мест расположения  имущественных объектов в БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_LANDMARK';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией по типу нормативного документа в БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_NDOCTYPE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией по сведениям по нормативным документам, являющимся основанием присвоения адресному элементу наименования в БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_NORMDOC';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией по статусу действия в БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_OPERSTAT';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла со сведениями о помещениях'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOM';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией по типам комнат в БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOMTYPE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией по типам адресных объектов в БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_SOCRBASE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла со сведениями о земельных участках'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состав и структура файла с информацией по признакам строения в БД ФИАС'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STRSTAT'\n\n;\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Глобальный уникальный идентификатор адресного объекта '\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'AOGUID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Формализованное наименование'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'FORMALNAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код региона'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'REGIONCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код автономии'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'AUTOCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код района'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'AREACODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код города'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'CITYCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код внутригородского района'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'CTARCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код населенного пункта'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'PLACECODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код элемента планировочной структуры'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'PLANCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код улицы'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'STREETCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код дополнительного адресообразующего элемента'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'EXTRCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код подчиненного дополнительного адресообразующего элемента'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'SEXTCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Официальное наименование'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'OFFNAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Почтовый индекс'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'POSTALCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код ИФНС ФЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'IFNSFL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код территориального участка ИФНС ФЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'TERRIFNSFL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код ИФНС ЮЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'IFNSUL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код территориального участка ИФНС ЮЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'TERRIFNSUL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'OKATO'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'OKATO';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Дата внесения записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'UPDATEDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Краткое наименование типа объекта'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'SHORTNAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Уровень адресного объекта '\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'AOLEVEL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор объекта родительского объекта'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'PARENTGUID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Уникальный идентификатор записи. Ключевое поле.'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'AOID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор записи связывания с предыдушей исторической записью'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'PREVID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор записи связывания с последующей исторической записью'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'NEXTID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код адресного объекта одной строкой с признаком актуальности из КЛАДР 4.0. '\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'CODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код адресного объекта из КЛАДР 4.0 одной строкой без признака актуальности (последних двух цифр)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'PLAINCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Статус актуальности адресного объекта ФИАС. Актуальный адрес на текущую дату. Обычно последняя запись об адресном объекте.\n0 – Не актуальный\n1 - Актуальный\n'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'ACTSTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Статус центра'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'CENTSTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Статус действия над записью – причина появления записи (см. описание таблицы OperationStatus):\n01 – Инициация;\n10 – Добавление;\n20 – Изменение;\n21 – Групповое изменение;\n30 – Удаление;\n31 - Удаление вследствие удаления вышестоящего объекта;\n40 – Присоединение адресного объекта (слияние);\n41 – Переподчинение вследствие слияния вышестоящего объекта;\n42 - Прекращение существования вследствие присоединения к другому адресному объекту;\n43 - Создание нового адресного объекта в результате слияния адресных объектов;\n50 – Переподчинение;\n51 – Переподчинение вследствие переподчинения вышестоящего объекта;\n60 – Прекращение существования вследствие дробления;\n61 – Создание нового адресного объекта в результате дробления\n'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'OPERSTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Статус актуальности КЛАДР 4 (последние две цифры в коде)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'CURRSTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Начало действия записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'STARTDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Окончание действия записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'ENDDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Внешний ключ на нормативный документ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'NORMDOC';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Признак действующего адресного объекта'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'LIVESTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'\n Тип адресации:\n 0 - не определено\n 1 - муниципальный;\n 2 - административно-территориальный\n '\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'DIVTYPE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'OKTMO'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'OKTMO';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор статуса (ключ)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_CURENTST'\n\t,@level2type = N'Column'\n\t,@level2name = N'CURENTSTID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Наименование (0 - актуальный, 1-50, 2-98 – исторический (кроме 51), 51 - переподчиненный, 99 - несуществующий)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_CURENTST'\n\t,@level2type = N'Column'\n\t,@level2name = N'NAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Краткое наименование'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_FLATTYPE'\n\t,@level2type = N'Column'\n\t,@level2name = N'SHORTNAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Тип помещения'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_FLATTYPE'\n\t,@level2type = N'Column'\n\t,@level2name = N'FLTYPEID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Наименование'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_FLATTYPE'\n\t,@level2type = N'Column'\n\t,@level2name = N'NAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор статуса'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HSTSTAT'\n\t,@level2type = N'Column'\n\t,@level2name = N'HOUSESTID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Наименование'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HSTSTAT'\n\t,@level2type = N'Column'\n\t,@level2name = N'NAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор записи (ключ)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_NDOCTYPE'\n\t,@level2type = N'Column'\n\t,@level2name = N'NDTYPEID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Наименование типа нормативного документа'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_NDOCTYPE'\n\t,@level2type = N'Column'\n\t,@level2name = N'NAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор статуса (ключ)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_OPERSTAT'\n\t,@level2type = N'Column'\n\t,@level2name = N'OPERSTATID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Наименование\n01 – Инициация;\n10 – Добавление;\n20 – Изменение;\n21 – Групповое изменение;\n30 – Удаление;\n31 - Удаление вследствие удаления вышестоящего объекта;\n40 – Присоединение адресного объекта (слияние);\n41 – Переподчинение вследствие слияния вышестоящего объекта;\n42 - Прекращение существования вследствие присоединения к другому адресному объекту;\n43 - Создание нового адресного объекта в результате слияния адресных объектов;\n50 – Переподчинение;\n51 – Переподчинение вследствие переподчинения вышестоящего объекта;\n60 – Прекращение существования вследствие дробления;\n61 – Создание нового адресного объекта в результате дробления;\n70 – Восстановление объекта прекратившего существование'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_OPERSTAT'\n\t,@level2type = N'Column'\n\t,@level2name = N'NAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Глобальный уникальный идентификатор адресного объекта '\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'AOGUID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Формализованное наименование'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'FORMALNAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код региона'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'REGIONCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код автономии'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'AUTOCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код района'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'AREACODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код города'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'CITYCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код внутригородского района'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'CTARCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код населенного пункта'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'PLACECODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код улицы'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'STREETCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код дополнительного адресообразующего элемента'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'EXTRCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код элемента планировочной структуры'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'PLANCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код подчиненного дополнительного адресообразующего элемента'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'SEXTCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Официальное наименование'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'OFFNAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Почтовый индекс'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'POSTALCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Краткое наименование типа объекта'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'SHORTNAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Уровень адресного объекта '\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'AOLEVEL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор объекта родительского объекта'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'PARENTGUID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Уникальный идентификатор записи. Ключевое поле.'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'AOID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор записи связывания с предыдушей исторической записью'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'PREVID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор записи связывания с последующей исторической записью'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'NEXTID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код адресного объекта одной строкой с признаком актуальности из КЛАДР 4.0. '\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'CODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код адресного объекта из КЛАДР 4.0 одной строкой без признака актуальности (последних двух цифр)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'PLAINCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Статус актуальности адресного объекта ФИАС. Актуальный адрес на текущую дату. Обычно последняя запись об адресном объекте.\n0 – Не актуальный\n1 - Актуальный\n'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'ACTSTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Статус центра'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'CENTSTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Статус действия над записью – причина появления записи (см. описание таблицы OperationStatus):\n01 – Инициация;\n10 – Добавление;\n20 – Изменение;\n21 – Групповое изменение;\n30 – Удаление;\n31 - Удаление вследствие удаления вышестоящего объекта;\n40 – Присоединение адресного объекта (слияние);\n41 – Переподчинение вследствие слияния вышестоящего объекта;\n42 - Прекращение существования вследствие присоединения к другому адресному объекту;\n43 - Создание нового адресного объекта в результате слияния адресных объектов;\n50 – Переподчинение;\n51 – Переподчинение вследствие переподчинения вышестоящего объекта;\n60 – Прекращение существования вследствие дробления;\n61 – Создание нового адресного объекта в результате дробления\n'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'OPERSTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Статус актуальности КЛАДР 4 (последние две цифры в коде)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'CURRSTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Начало действия записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'STARTDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Окончание действия записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'ENDDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Внешний ключ на нормативный документ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'NORMDOC';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Признак действующего адресного объекта'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'LIVESTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код ИФНС ФЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'IFNSFL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код территориального участка ИФНС ФЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'TERRIFNSFL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код ИФНС ЮЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'IFNSUL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код территориального участка ИФНС ЮЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'TERRIFNSUL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'OKATO'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'OKATO';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'OKTMO'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'OKTMO';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Дата внесения записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_ADDROBJ'\n\t,@level2type = N'Column'\n\t,@level2name = N'UPDATEDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код ИФНС ЮЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'IFNSUL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код территориального участка ИФНС ЮЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'TERRIFNSUL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'OKATO'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'OKATO';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'OKTMO'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'OKTMO';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Дата внесения записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'UPDATEDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Значение начала интервала'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'INTSTART';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Значение окончания интервала'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'INTEND';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Почтовый индекс'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'POSTALCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код ИФНС ФЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'IFNSFL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код территориального участка ИФНС ФЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'TERRIFNSFL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор записи интервала домов'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'HOUSEINTID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Глобальный уникальный идентификатор интервала домов'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'INTGUID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор объекта родительского объекта (улицы, города, населенного пункта и т.п.)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'AOGUID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Начало действия записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'STARTDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Окончание действия записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'ENDDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Статус интервала (обычный, четный, нечетный)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'INTSTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Внешний ключ на нормативный документ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'NORMDOC';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Счетчик записей домов для КЛАДР 4'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'COUNTER';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор нормативного документа'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_NORMDOC'\n\t,@level2type = N'Column'\n\t,@level2name = N'NORMDOCID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Наименование документа'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_NORMDOC'\n\t,@level2type = N'Column'\n\t,@level2name = N'DOCNAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Дата документа'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_NORMDOC'\n\t,@level2type = N'Column'\n\t,@level2name = N'DOCDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Номер документа'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_NORMDOC'\n\t,@level2type = N'Column'\n\t,@level2name = N'DOCNUM';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Тип документа'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_NORMDOC'\n\t,@level2type = N'Column'\n\t,@level2name = N'DOCTYPE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор образа (внешний ключ)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_NORMDOC'\n\t,@level2type = N'Column'\n\t,@level2name = N'DOCIMGID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'OKTMO'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'OKTMO';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'OKATO'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'OKATO';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код ИФНС ЮЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'IFNSUL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код территориального участка ИФНС ЮЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'TERRIFNSUL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код территориального участка ИФНС ФЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'TERRIFNSFL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Почтовый индекс'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'POSTALCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код ИФНС ФЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'IFNSFL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Окончание действия записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'ENDDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Статус интервала (обычный, четный, нечетный)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'INTSTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор объекта родительского объекта (улицы, города, населенного пункта и т.п.)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'AOGUID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Начало действия записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'STARTDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Глобальный уникальный идентификатор интервала домов'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'INTGUID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор записи интервала домов'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'HOUSEINTID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Значение начала интервала'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'INTSTART';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Значение окончания интервала'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'INTEND';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Дата внесения записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'UPDATEDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Внешний ключ на нормативный документ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'NORMDOC';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Счетчик записей домов для КЛАДР 4'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSEINT'\n\t,@level2type = N'Column'\n\t,@level2name = N'COUNTER';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор статуса (обычный, четный, нечетный)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_INTVSTAT'\n\t,@level2type = N'Column'\n\t,@level2name = N'INTVSTATID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Наименование'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_INTVSTAT'\n\t,@level2type = N'Column'\n\t,@level2name = N'NAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Внешний ключ на нормативный документ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'NORMDOC';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Начало действия записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'STARTDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Окончание действия записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'ENDDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Глобальный уникальный идентификатор ориентира'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'LANDGUID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Уникальный идентификатор родительского объекта (улицы, города, населенного пункта и т.п.)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'AOGUID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Уникальный идентификатор записи ориентира'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'LANDID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Месторасположение ориентира'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'LOCATION';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Почтовый индекс'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'POSTALCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код территориального участка ИФНС ФЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'TERRIFNSFL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код ИФНС ФЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'IFNSFL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Дата внесения записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'UPDATEDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'OKTMO'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'OKTMO';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'OKATO'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'OKATO';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код ИФНС ЮЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'IFNSUL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код территориального участка ИФНС ЮЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'TERRIFNSUL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор нормативного документа'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_NORMDOC'\n\t,@level2type = N'Column'\n\t,@level2name = N'NORMDOCID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Наименование документа'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_NORMDOC'\n\t,@level2type = N'Column'\n\t,@level2name = N'DOCNAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Дата документа'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_NORMDOC'\n\t,@level2type = N'Column'\n\t,@level2name = N'DOCDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Номер документа'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_NORMDOC'\n\t,@level2type = N'Column'\n\t,@level2name = N'DOCNUM';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Тип документа'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_NORMDOC'\n\t,@level2type = N'Column'\n\t,@level2name = N'DOCTYPE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор образа (внешний ключ)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_NORMDOC'\n\t,@level2type = N'Column'\n\t,@level2name = N'DOCIMGID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Краткое наименование'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOMTYPE'\n\t,@level2type = N'Column'\n\t,@level2name = N'SHORTNAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Наименование'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOMTYPE'\n\t,@level2type = N'Column'\n\t,@level2name = N'NAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Тип комнаты'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOMTYPE'\n\t,@level2type = N'Column'\n\t,@level2name = N'RMTYPEID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Уровень адресного объекта'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_SOCRBASE'\n\t,@level2type = N'Column'\n\t,@level2name = N'LEVEL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Краткое наименование типа объекта'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_SOCRBASE'\n\t,@level2type = N'Column'\n\t,@level2name = N'SCNAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Полное наименование типа объекта'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_SOCRBASE'\n\t,@level2type = N'Column'\n\t,@level2name = N'SOCRNAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Ключевое поле'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_SOCRBASE'\n\t,@level2type = N'Column'\n\t,@level2name = N'KOD_T_ST';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Наименование\n0 – Не актуальный\n1 – Актуальный (последняя запись по адресному объекту)\n'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ACTSTAT'\n\t,@level2type = N'Column'\n\t,@level2name = N'NAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор статуса (ключ)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ACTSTAT'\n\t,@level2type = N'Column'\n\t,@level2name = N'ACTSTATID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор статуса'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_CENTERST'\n\t,@level2type = N'Column'\n\t,@level2name = N'CENTERSTID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Наименование'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_CENTERST'\n\t,@level2type = N'Column'\n\t,@level2name = N'NAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Почтовый индекс'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'POSTALCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код ИФНС ФЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'IFNSFL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код территориального участка ИФНС ФЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'TERRIFNSFL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код ИФНС ЮЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'IFNSUL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код территориального участка ИФНС ЮЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'TERRIFNSUL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'OKATO'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'OKATO';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'OKTMO'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'OKTMO';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Дата время внесения записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'UPDATEDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Номер дома'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'HOUSENUM';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Признак владения'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'ESTSTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Номер корпуса'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'BUILDNUM';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Номер строения'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'STRUCNUM';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Признак строения'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'STRSTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Уникальный идентификатор записи дома'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'HOUSEID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Глобальный уникальный идентификатор дома'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'HOUSEGUID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Guid записи родительского объекта (улицы, города, населенного пункта и т.п.)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'AOGUID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Начало действия записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'STARTDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Окончание действия записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'ENDDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состояние дома'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'STATSTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Внешний ключ на нормативный документ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'NORMDOC';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Счетчик записей домов для КЛАДР 4'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'COUNTER';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Кадастровый номер'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'CADNUM';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Тип адресации:\n0 - не определено\n1 - муниципальный;\n2 - административно-территориальный'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'DIVTYPE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Признак владения'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ESTSTAT'\n\t,@level2type = N'Column'\n\t,@level2name = N'ESTSTATID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Наименование'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ESTSTAT'\n\t,@level2type = N'Column'\n\t,@level2name = N'NAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Краткое наименование'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ESTSTAT'\n\t,@level2type = N'Column'\n\t,@level2name = N'SHORTNAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Глобальный уникальный идентификатор адресного объекта (земельного участка)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'STEADGUID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Номер земельного участка'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'NUMBER';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код региона'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'REGIONCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Почтовый индекс'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'POSTALCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код ИФНС ФЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'IFNSFL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код территориального участка ИФНС ФЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'TERRIFNSFL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код ИФНС ЮЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'IFNSUL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код территориального участка ИФНС ЮЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'TERRIFNSUL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'OKATO'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'OKATO';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'OKTMO'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'OKTMO';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Дата внесения записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'UPDATEDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор объекта родительского объекта'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'PARENTGUID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Уникальный идентификатор записи. Ключевое поле.'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'STEADID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор записи связывания с предыдушей исторической записью'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'PREVID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор записи связывания с последующей исторической записью'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'NEXTID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Статус действия над записью – причина появления записи (см. описание таблицы OperationStatus):\n01 – Инициация;\n10 – Добавление;\n20 – Изменение;\n21 – Групповое изменение;\n30 – Удаление;\n31 - Удаление вследствие удаления вышестоящего объекта;\n40 – Присоединение адресного объекта (слияние);\n41 – Переподчинение вследствие слияния вышестоящего объекта;\n42 - Прекращение существования вследствие присоединения к другому адресному объекту;\n43 - Создание нового адресного объекта в результате слияния адресных объектов;\n50 – Переподчинение;\n51 – Переподчинение вследствие переподчинения вышестоящего объекта;\n60 – Прекращение существования вследствие дробления;\n61 – Создание нового адресного объекта в результате дробления\n'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'OPERSTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Начало действия записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'STARTDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Окончание действия записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'ENDDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Внешний ключ на нормативный документ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'NORMDOC';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Признак действующего адресного объекта'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'LIVESTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Кадастровый номер'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'CADNUM';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Тип адресации:\n0 - не определено\n1 - муниципальный;\n2 - административно-территориальный'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STEAD'\n\t,@level2type = N'Column'\n\t,@level2name = N'DIVTYPE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Месторасположение ориентира'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'LOCATION';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Почтовый индекс'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'POSTALCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код ИФНС ФЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'IFNSFL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код территориального участка ИФНС ФЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'TERRIFNSFL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код ИФНС ЮЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'IFNSUL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код территориального участка ИФНС ЮЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'TERRIFNSUL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'OKATO'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'OKATO';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'OKTMO'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'OKTMO';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Дата внесения записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'UPDATEDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Уникальный идентификатор записи ориентира'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'LANDID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Глобальный уникальный идентификатор ориентира'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'LANDGUID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Уникальный идентификатор родительского объекта (улицы, города, населенного пункта и т.п.)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'AOGUID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Начало действия записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'STARTDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Окончание действия записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'ENDDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Внешний ключ на нормативный документ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_DEL_LANDMARK'\n\t,@level2type = N'Column'\n\t,@level2name = N'NORMDOC';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Почтовый индекс'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'POSTALCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код региона'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'REGIONCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код ИФНС ФЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'IFNSFL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код территориального участка ИФНС ФЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'TERRIFNSFL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код ИФНС ЮЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'IFNSUL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код территориального участка ИФНС ЮЛ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'TERRIFNSUL';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'OKATO'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'OKATO';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'OKTMO'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'OKTMO';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Дата время внесения записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'UPDATEDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Номер дома'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'HOUSENUM';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Признак владения'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'ESTSTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Номер корпуса'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'BUILDNUM';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Номер строения'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'STRUCNUM';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Признак строения'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'STRSTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Уникальный идентификатор записи дома'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'HOUSEID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Глобальный уникальный идентификатор дома'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'HOUSEGUID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Guid записи родительского объекта (улицы, города, населенного пункта и т.п.)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'AOGUID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Начало действия записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'STARTDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Окончание действия записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'ENDDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Состояние дома'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'STATSTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Внешний ключ на нормативный документ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'NORMDOC';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Счетчик записей домов для КЛАДР 4'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'COUNTER';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Кадастровый номер'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'CADNUM';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Тип адресации:\n0 - не определено\n1 - муниципальный;\n2 - административно-территориальный'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_HOUSE'\n\t,@level2type = N'Column'\n\t,@level2name = N'DIVTYPE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Глобальный уникальный идентификатор адресного объекта (помещения)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOM'\n\t,@level2type = N'Column'\n\t,@level2name = N'ROOMGUID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Номер помещения или офиса'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOM'\n\t,@level2type = N'Column'\n\t,@level2name = N'FLATNUMBER';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Тип помещения'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOM'\n\t,@level2type = N'Column'\n\t,@level2name = N'FLATTYPE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Номер комнаты'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOM'\n\t,@level2type = N'Column'\n\t,@level2name = N'ROOMNUMBER';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Тип комнаты'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOM'\n\t,@level2type = N'Column'\n\t,@level2name = N'ROOMTYPE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Код региона'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOM'\n\t,@level2type = N'Column'\n\t,@level2name = N'REGIONCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Почтовый индекс'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOM'\n\t,@level2type = N'Column'\n\t,@level2name = N'POSTALCODE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Дата внесения записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOM'\n\t,@level2type = N'Column'\n\t,@level2name = N'UPDATEDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор родительского объекта (дома)'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOM'\n\t,@level2type = N'Column'\n\t,@level2name = N'HOUSEGUID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Уникальный идентификатор записи. Ключевое поле.'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOM'\n\t,@level2type = N'Column'\n\t,@level2name = N'ROOMID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор записи связывания с предыдушей исторической записью'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOM'\n\t,@level2type = N'Column'\n\t,@level2name = N'PREVID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Идентификатор записи связывания с последующей исторической записью'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOM'\n\t,@level2type = N'Column'\n\t,@level2name = N'NEXTID';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Начало действия записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOM'\n\t,@level2type = N'Column'\n\t,@level2name = N'STARTDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Окончание действия записи'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOM'\n\t,@level2type = N'Column'\n\t,@level2name = N'ENDDATE';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Признак действующего адресного объекта'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOM'\n\t,@level2type = N'Column'\n\t,@level2name = N'LIVESTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Внешний ключ на нормативный документ'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOM'\n\t,@level2type = N'Column'\n\t,@level2name = N'NORMDOC';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Статус действия над записью – причина появления записи (см. описание таблицы OperationStatus):\n01 – Инициация;\n10 – Добавление;\n20 – Изменение;\n21 – Групповое изменение;\n30 – Удаление;\n31 - Удаление вследствие удаления вышестоящего объекта;\n40 – Присоединение адресного объекта (слияние);\n41 – Переподчинение вследствие слияния вышестоящего объекта;\n42 - Прекращение существования вследствие присоединения к другому адресному объекту;\n43 - Создание нового адресного объекта в результате слияния адресных объектов;\n50 – Переподчинение;\n51 – Переподчинение вследствие переподчинения вышестоящего объекта;\n60 – Прекращение существования вследствие дробления;\n61 – Создание нового адресного объекта в результате дробления\n'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOM'\n\t,@level2type = N'Column'\n\t,@level2name = N'OPERSTATUS';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Кадастровый номер помещения'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOM'\n\t,@level2type = N'Column'\n\t,@level2name = N'CADNUM';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Кадастровый номер комнаты в помещении'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_ROOM'\n\t,@level2type = N'Column'\n\t,@level2name = N'ROOMCADNUM';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Наименование'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STRSTAT'\n\t,@level2type = N'Column'\n\t,@level2name = N'NAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Краткое наименование'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STRSTAT'\n\t,@level2type = N'Column'\n\t,@level2name = N'SHORTNAME';\n\nEXEC sp_addextendedproperty @name = 'description'\n\t,@value = N'Признак строения'\n\t,@level0type = N'Schema'\n\t,@level0name = N'dbo'\n\t,@level1type = N'Table'\n\t,@level1name = N'_STRSTAT'\n\t,@level2type = N'Column'\n\t,@level2name = N'STRSTATID'\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Cb\u003E5. Модифицируем сами схемы:\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"sql\"\u003E-- Определение ссылки на импортируемую схему\nupdate a\nSet x.modify ('declare namespace xs=\"http:\u002F\u002Fwww.w3.org\u002F2001\u002FXMLSchema\";             \ninsert &lt;xs:import namespace=\"http:\u002F\u002Fschemas.microsoft.com\u002Fsqlserver\u002F2004\u002Fsqltypes\" schemaLocation=\".\u002Fsqltypes.xsd\" \u002F\u003E  as first\ninto (xs:schema)[1]')\nfrom dbo.[_FIAS_SCHEMAS] a\n\n-- Определение корневого аттрибута\nupdate a\nSet x.modify('declare namespace ss=\"urn:schemas-microsoft-com:mapping-schema\";             \ninsert (              \n           attribute ss:is-constant {\"1\"}          \n        )             \ninto (\u002Fxs:schema[1]\u002Fxs:element[1])')\nfrom dbo.[_FIAS_SCHEMAS] a\n\n-- Определение ноды, являющейся строкой таблицы и связанной с ней таблицы\nupdate a\nSet x.modify('declare namespace ss=\"urn:schemas-microsoft-com:mapping-schema\";             \ninsert (              \n           attribute ss:relation {sql:column(\"a.table\")}         \n        )             \ninto (xs:schema[1]\u002Fxs:element[1]\u002Fxs:complexType[1]\u002Fxs:sequence[1]\u002Fxs:element[1])')\nfrom dbo.[_FIAS_SCHEMAS] a\n\n-- Аннотация полей в схеме\n-- Т.к. за 1 раз можно модифицировать только одну ноду - придется использовать курсор\nDeclare @table nvarchar(4000)\nDeclare @column nvarchar(4000)\n\nDeclare cur CURSOR LOCAL FORWARD_ONLY\n\tfor\n\tSelect [table], [column]\n\tfrom dbo.[_FIAS]\n\nOpen cur\nFETCH NEXT FROM cur into @table, @column\n\nWHILE @@FETCH_STATUS = 0  \nBEGIN\nupdate a\nSet x.modify('declare namespace ss=\"urn:schemas-microsoft-com:mapping-schema\";             \ninsert (              \n           attribute ss:field {sql:column(\"t.column\")} \n           ,attribute ss:datatype {sql:column(\"b.sqltype\")} \n        )             \ninto (\u002F\u002Fxs:attribute[@name = sql:column(\"b.column\")])[1]')\nfrom dbo.[_FIAS_SCHEMAS] a\n\t  inner join dbo.[_FIAS] b on a.[table] = b.[table]\n\t  cross apply (Values(QUOTENAME(b.[column]))) t([column]) \n\t  Where b.[table] = @table and b.[column] = @column\n\nFETCH NEXT FROM cur into @table, @column\nEND\nCLOSE cur;  \nDEALLOCATE cur;  \n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003Cb\u003E6. И, наконец, выгрузим xsd схемы на диск для дальнейшего использования:\u003C\u002Fb\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"sql\"\u003E-- Выгрузка схем\n-- Обратите внимание, путь к выгружаемым схемам - захардкожен!\nSet @sql = (\nSelect N'; exec xp_cmdshell ''bcp \"Select [x] from [FIAS2].[dbo].[_FIAS_SCHEMAS] where [table] = ''''' + a.[table] + '''''\" queryout \"c:\\files\\FIAS\\' + a.[table] + '.xsd\" -S . -T -w'''\nfrom dbo.[_FIAS_SCHEMAS] a\nfor xml path(N''), type\n).value(N'.', N'nvarchar(max)')\n\nexec (@sql)\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nВсё! :-)))\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cdiv class=\"spoiler\"\u003E\u003Cb class=\"spoiler_title\"\u003EВот весь запрос, который генерирует таблицы, их описания, модифицирует схемы и выгружает их на диск:\u003C\u002Fb\u003E\u003Cdiv class=\"spoiler_text\"\u003E\u003Cpre\u003E\u003Ccode class=\"sql\"\u003EUSE [FIAS2]\ngo\n\nif OBJECT_ID('dbo.[_FIAS]') is not null \n\tdrop table dbo.[_FIAS]\ngo\n\nif OBJECT_ID('dbo._FIAS_SCHEMAS') is not null \n\tdrop table dbo.[_FIAS_SCHEMAS]\ngo\n\nDeclare @schema sysname = N'dbo'\nDeclare @sql nvarchar(max)\n\nCreate table dbo.[_FIAS_SCHEMAS] (x xml, [table] sysname)\n\ninsert into dbo.[_FIAS_SCHEMAS] (x, [table])\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_ACTSTAT' [table] FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_ACTSTAT_2_250_08_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_ADDROBJ' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_ADDROBJ_2_250_01_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_CENTERST' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_CENTERST_2_250_10_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_CURENTST' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_CURENTST_2_250_07_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_DEL_ADDROBJ' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_DEL_ADDROBJ_2_250_15_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_DEL_HOUSEINT' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_DEL_HOUSEINT_2_250_17_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_DEL_HOUSE' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_DEL_HOUSE_2_250_16_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_DEL_LANDMARK' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_DEL_LANDMARK_2_250_18_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_DEL_NORMDOC' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_DEL_NORMDOC_2_250_19_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_ESTSTAT' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_ESTSTAT_2_250_13_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_FLATTYPE' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_FLATTYPE_2_250_23_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_HOUSEINT' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_HOUSEINT_2_250_03_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_HOUSE' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_HOUSE_2_250_02_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_HSTSTAT' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_HSTSTAT_2_250_12_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_INTVSTAT' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_INTVSTAT_2_250_11_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_LANDMARK' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_LANDMARK_2_250_04_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_NDOCTYPE' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_NDOCTYPE_2_250_20_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_NORMDOC' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_NORMDOC_2_250_05_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_OPERSTAT' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_OPERSTAT_2_250_09_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_ROOMTYPE' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_ROOMTYPE_2_250_24_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_ROOM' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_ROOM_2_250_21_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_SOCRBASE' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_SOCRBASE_2_250_06_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_STEAD' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_STEAD_2_250_22_04_01_01.xsd', SINGLE_BLOB) x Union all\nSELECT x = CAST(BulkColumn AS XML).query('.'), '_STRSTAT' FROM OPENROWSET(BULK '\\\\s01sq03\\c$\\files\\FIAS\\AS_STRSTAT_2_250_14_04_01_01.xsd', SINGLE_BLOB) x \n \n\n;WITH XMLNAMESPACES ('http:\u002F\u002Fwww.w3.org\u002F2001\u002FXMLSchema' as xs) \nSelect a.[table]\n  ,tbl.[root_name]\n  ,tbl.[root_description]\n  ,tbl.[name]\n  ,ROW_NUMBER() over (partition by a.[table] order by 1\u002F0) N\n  ,tbl.[column]\n  ,tbl.[required]\n  ,tbl.[description]\n  ,tbl.[type]\n  ,tbl.[len]\n  ,Case tbl.[type]  \n\t\twhen N'byte' then N'tinyint' \n\t\twhen N'date' then N'date'\n\t\twhen N'int'  then N'int'\n\t\twhen N'string' then\n\t\t\t\t\t\tCase when tbl.[len] = 36 and (tbl.[column] like N'%ID' or tbl.[column] = N'NORMDOC') then N'uniqueidentifier'\n\t\t\t\t\t\t\twhen tbl.[len] is Null then N'nvarchar(max)'\n\t\t\t\t\t\tElse N'nvarchar(' + cast(tbl.[len] as nvarchar(4000)) + N')' END\n\t\twhen N'integer' then\n\t\t\t\t\t\tCase when tbl.[len] \u003E 9 then N'bigint'\n\t\t\t\t\t\t\t when tbl.[len] &lt;= 4 then N'smallint'\n\t\t\t\t\t\t\tElse N'int'\n\t\t\t\t\t\tend\n\t\telse N'nvarchar(max)'\n\t\tEnd [sqltype]\n  ,t.n.query('.') [node]\ninto dbo.[_FIAS]\nfrom dbo.[_FIAS_SCHEMAS] a\n\tCross apply a.x.nodes('\u002F\u002Fxs:attribute') t(n)\n\tCross apply \n\t\t\t(values -- некоторые поля используются несколько раз, поэтому сделаем так :) \n\t\t\t(\n\t\t\t\t x.value('(xs:schema[1]\u002Fxs:element[1]\u002F@name)', 'nvarchar(255)')\n\t\t\t\t,x.value('(xs:schema[1]\u002Fxs:element[1]\u002Fxs:annotation\u002Fxs:documentation[1]\u002Ftext())[1]', 'nvarchar(4000)')\n\t\t\t\t,x.value('(xs:schema[1]\u002Fxs:element[1]\u002Fxs:complexType[1]\u002Fxs:sequence[1]\u002Fxs:element[1]\u002F@name)', 'nvarchar(255)')\n\t\t\t\t,t.n.value('(.\u002F@name)[1]', 'nvarchar(255)')\n\t\t\t\t,t.n.value('(.\u002F@use)[1]', 'nvarchar(255)') \n\t\t\t\t,Stuff(Coalesce(t.n.value('(.\u002Fxs:simpleType\u002Fxs:restriction\u002F@base)[1]', 'nvarchar(255)'), t.n.value('(.\u002F@type)[1]', 'nvarchar(255)')), 1, 3, '')\n\t\t\t\t,Coalesce(t.n.value('(.\u002Fxs:simpleType\u002Fxs:restriction\u002Fxs:length\u002F@value)[1]', 'int')\n\t\t\t\t\t\t\t,t.n.value('(.\u002Fxs:simpleType\u002Fxs:restriction\u002Fxs:maxLength\u002F@value)[1]', 'int')\n\t\t\t\t\t\t\t,t.n.value('(.\u002Fxs:simpleType\u002Fxs:restriction\u002Fxs:totalDigits\u002F@value)[1]', 'int'))\n\t\t\t\t,Replace(\n\t\t\t\t Replace(\n\t\t\t\t Replace(\n\t\t\t\t Replace(\n\t\t\t\t Replace(\n\t\t\t\t Replace(\n\t\t\t\t Replace(\n\t\t\t\t Replace(\n\t\t\t\t Replace(t.n.value('(.\u002Fxs:annotation\u002Fxs:documentation)[1]', 'nvarchar(4000)'), '  ', ' ')\n\t\t\t\t , '  ', ' ')\n\t\t\t\t , '  ', ' ')\n\t\t\t\t , '  ', ' ')\n\t\t\t\t , '  ', ' ')\n\t\t\t\t , '  ', ' ')\n\t\t\t\t , '  ', ' ')\n\t\t\t\t , '  ', ' ')\n\t\t\t\t , '  ', ' ') \n\t\t\t)\n\t\t\t) tbl([root_name], [root_description], [name], [column], [required], [type], [len], [description])\n\n-- Посмотрим на результат\nSelect * from dbo.[_FIAS]\n\n-- Создадим код для создания таблиц, и запустим его\nset @sql = (\n\tSelect Distinct \n\t\tN';Create table ' \n\t\t+ Quotename(@schema)\n\t\t+ N'.'\n\t\t+ Quotename([table])\n\t\t+ N'('\n\t\t+ Stuff((Select\n\t\t\t\tN',' \n\t\t\t\t+ QUOTENAME(b.[column]) \n\t\t\t\t+ N' '\n\t\t\t\t+ b.[sqltype]\n\t\t\t\t+ Case b.[required] when 'required' then N' NOT NULL'\n\t\t\t\t\t\t\t\t\twhen 'optional' then N' NULL'\n\t\t\t\t\tEnd \n\t\t\t\tFrom dbo.[_FIAS] b\n\t\t\t\twhere b.[table] = a.[table]\n\t\t\t\tOrder by N ASC\n\t\t\t\tFor xml path(N''), type\n\t\t\t\t).value(N'.', 'nvarchar(max)'), 1, 1, N'')\n\t\t+ N')'\n\t\tfrom dbo.[_FIAS] a\n\tFor xml path(N''), type).value(N'.', N'nvarchar(max)')\nexec (@sql)\n\n-- Создадим аннотацию к таблицам и полям\nSet @sql = (\nSelect N'; exec sp_addextendedproperty @name=''description'', @value=N''' \n\t\t+ a.[root_description] \n\t\t+ N''', @level0type =N''Schema'', @level0name = N''' \n\t\t+ @schema \n\t\t+ N''', @level1type = N''Table'',  @level1name = N''' \n\t\t+ a.[table]\n\t\t+ N''''\nfrom (Select distinct [table], [root_description] from dbo.[_FIAS]) a\nfor xml path(N''), type\n).value(N'.', N'nvarchar(max)')\nexec (@sql)\n\nSet @sql = (\nSelect N'; exec sp_addextendedproperty @name=''description'', @value=N''' \n\t\t+ a.[description] \n\t\t+ N''', @level0type =N''Schema'', @level0name = N''' \n\t\t+ @schema \n\t\t+ N''', @level1type = N''Table'',  @level1name = N''' \n\t\t+ a.[table] \n\t\t+ N''', @level2type = N''Column'', @level2name = N''' \n\t\t+ a.[column] \n\t\t+ N''''\nfrom dbo.[_FIAS] a\nfor xml path(N''), type\n).value(N'.', N'nvarchar(max)')\nexec (@sql)\n\n-- Определение ссылки на импортируемую схему\nupdate a\nSet x.modify ('declare namespace xs=\"http:\u002F\u002Fwww.w3.org\u002F2001\u002FXMLSchema\";             \ninsert &lt;xs:import namespace=\"http:\u002F\u002Fschemas.microsoft.com\u002Fsqlserver\u002F2004\u002Fsqltypes\" schemaLocation=\".\u002Fsqltypes.xsd\" \u002F\u003E  as first\ninto (xs:schema)[1]')\nfrom dbo.[_FIAS_SCHEMAS] a\n\n-- Определение корневого аттрибута\nupdate a\nSet x.modify('declare namespace ss=\"urn:schemas-microsoft-com:mapping-schema\";             \ninsert (              \n           attribute ss:is-constant {\"1\"}          \n        )             \ninto (\u002Fxs:schema[1]\u002Fxs:element[1])')\nfrom dbo.[_FIAS_SCHEMAS] a\n\n-- Определение ноды, являющейся строкой таблицы и связанной с ней таблицы\nupdate a\nSet x.modify('declare namespace ss=\"urn:schemas-microsoft-com:mapping-schema\";             \ninsert (              \n           attribute ss:relation {sql:column(\"a.table\")}         \n        )             \ninto (xs:schema[1]\u002Fxs:element[1]\u002Fxs:complexType[1]\u002Fxs:sequence[1]\u002Fxs:element[1])')\nfrom dbo.[_FIAS_SCHEMAS] a\n\n-- Аннотация полей в схеме\n-- Т.к. за 1 раз можно модифицировать только одну ноду - придется использовать курсор\nDeclare @table nvarchar(4000)\nDeclare @column nvarchar(4000)\n\nDeclare cur CURSOR LOCAL FORWARD_ONLY\n\tfor\n\tSelect [table], [column]\n\tfrom dbo.[_FIAS]\n\nOpen cur\nFETCH NEXT FROM cur into @table, @column\n\nWHILE @@FETCH_STATUS = 0  \nBEGIN\nupdate a\nSet x.modify('declare namespace ss=\"urn:schemas-microsoft-com:mapping-schema\";             \ninsert (              \n           attribute ss:field {sql:column(\"t.column\")} \n           ,attribute ss:datatype {sql:column(\"b.sqltype\")} \n        )             \ninto (\u002F\u002Fxs:attribute[@name = sql:column(\"b.column\")])[1]')\nfrom dbo.[_FIAS_SCHEMAS] a\n\t  inner join dbo.[_FIAS] b on a.[table] = b.[table]\n\t  cross apply (Values(QUOTENAME(b.[column]))) t([column]) \n\t  Where b.[table] = @table and b.[column] = @column\n\nFETCH NEXT FROM cur into @table, @column\nEND\nCLOSE cur;  \nDEALLOCATE cur;  \n\n-- Выгрузка схем\n-- Обратите внимание, путь к выгружаемым схемам - захардкожен!\nSet @sql = (\nSelect N'; exec xp_cmdshell ''bcp \"Select [x] from [FIAS2].[dbo].[_FIAS_SCHEMAS] where [table] = ''''' + a.[table] + '''''\" queryout \"c:\\files\\FIAS\\' + a.[table] + '.xsd\" -S . -T -w'''\nfrom dbo.[_FIAS_SCHEMAS] a\nfor xml path(N''), type\n).value(N'.', N'nvarchar(max)')\n\nexec (@sql)\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\n\u003C\u002Fdiv\u003E\u003C\u002Fdiv\u003E\u003Cbr\u002F\u003E\r\n\u003Cb\u003EТеперь осталось только вызывать процедуру загрузки для каждого xml файла с соответствующей схемой\u003C\u002Fb\u003E (сами распакованные файлы хранятся в папке e:\\tmp, а схемы — мы выгрузили в c:\\files\\FIAS):\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n\u003Cpre\u003E\u003Ccode class=\"sql\"\u003EUSE FIAS2\nGO\n\nDeclare @sql nvarchar(max)\n\nif OBJECT_ID('tempdb..#t') is not null\n\tdrop table #t\n\nCreate table #t ([output] sysname NULL)\n\ninsert into #t\nexec xp_cmdshell 'dir e:\\tmp \u002FB'\n\n;With load_data as\n(\nSelect \n'_' + t.x.value('(a[2])', 'nvarchar(255)') [table]\n,t.x.value('(a[3])', 'date') [fias_date]\n,t.x.value('(a[4])', 'uniqueidentifier') [fias_guid]\n,a.[output] [file_name]\n\tfrom #t a\n\tcross apply (VALUES(Cast('&lt;a\u003E' + Replace(Replace(Replace(Replace(a.[output],'DEL_', 'DEL$'), '_', '&lt;\u002Fa\u003E&lt;a\u003E'), '.', '&lt;\u002Fa\u003E&lt;a\u003E'), '$', '_') + '&lt;\u002Fa\u003E' as xml))) t(x) \nWhere [output] like 'AS[_]%.xml'\n)\nSelect @sql = \n(Select\nN';exec [dbo].[spXMLBulkLoad] ''e:\\tmp\\' + a.[file_name] + ''', ''c:\\files\\FIAS\\' + b.[table] + '.xsd'', ''FIAS2'', ''e:\\tmp\\err.xml'''\n from load_data a\n\t\tinner join [dbo].[_FIAS_SCHEMAS] b on a.[table] = b.[table]\nFor xml path(''), type).value(N'.', N'nvarchar(max)')\n\nExec (@sql)\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cbr\u002F\u003E\r\nФффу…\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНу вот, теперь наконец-то совсем всё.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОднако, вот что я вам хочу сказать, уважаемые коллеги!\u003Cbr\u002F\u003E\r\nВсё это работает просто \u003Cb\u003Eдичайше\u003C\u002Fb\u003E медленно!\u003Cbr\u002F\u003E\r\nЯ не про создание таблиц и схем, конечно. А про загрузку.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nВ тестовой среде загрузка у меня длилась без малого \u003Cb\u003E5 часов\u003C\u002Fb\u003E (sic!!!). И это еще без индексации таблиц.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nПри этом загрузка системы ввода-вывода была на уровне 3 Мб\u002Fс, и было задействовано всего пара ядер.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nЗагрузка адресных объектов шла со скоростью не более 3 тысяч записей в секунду, загрузка домов — со скоростью не более 8 тысяч в секунду. А их, на минуточку, 60 миллионов.\u003Cbr\u002F\u003E\r\nС чем это связано — я не могу сказать, придется еще поковыряться с кодом и, видимо, с настройкой ВМ.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОбратите внимание, что загрузка производится в кучи. А уже потом предполагается создать кластерные индексы по всяким их AOID.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТ.к. они представляют из себя GUIDы, лучше сделать именно так, потому, что если создать кластерные индексы ДО загрузки — на выходе получится таблица, фрагментированная где-то процентов на 50, не меньше. Ну и индексы лучше тоже создавать после загрузки, потому что вставка в индексы делает загрузку еще медленнее.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nИменно поэтому имена таблиц у меня начинаются с подчерка ( _ ). Предполагалось, что я сначала загружу данные в них, потом воссоздам индексы целевых таблиц, и, затем, спокойно сделаю Alter table switch. \u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nТакже обратите внимание на не совсем оптимальные типы данных для полей таблиц ФИАС.\u003Cbr\u002F\u003E\r\nНапример, использование int, там где достаточно tinyint, или nvarchar в полях, где предполагается хранение только числовых значений, типа кода региона или ОКАТО.\u003Cbr\u002F\u003E\r\nТак в схемах :-(.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nОднако, ничего не мешает вам, после создания таблицы метаданных, [dbo].[_FIAS], поковыряться в ней руками и произвести тюнинг, а уже потом, создать новые загрузочные схемы на основе откорректированных метаданных.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНу, а если изжить такую медленную загрузку всё же не удастся, видимо, придется вернуться к варианту с загрузкой из dbf, и расковырять, наконец, кракозябры в маленьких dbf. И написать еще одну статью.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\ndbf в 8 потоков нормально загрузилось за 1 час с копейками, и еще примерно час ушел на слияние отдельных таблиц в целевые, и построение индексов по ним.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n… Ну, или, наконец, вытащить руки из жжж… эээ… афедрона, и наконец сделать нормальный data tier application, и грузить уже данные, как все нормальные люди, через SSIS.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nНо это уже совсем другая история.\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n→ \u003Ca href=\"https:\u002F\u002Fdrive.google.com\u002Ffile\u002Fd\u002F123RfAWAUaKKrKpij8wY69SwzfJOrd7Zv\u002Fview?usp=sharing\"\u003EСкрипты и xsd-схемы\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nСсылки по теме:\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\n→ \u003Ca href=\"https:\u002F\u002Ffias.nalog.ru\u002FUpdates.aspx\"\u003EФИАС\u003C\u002Fa\u003E\u003Cbr\u002F\u003E\r\n\u003Cbr\u002F\u003E\r\nКартинка с собачкой — не моя :-)\u003C\u002Fdiv\u003E","tags":[{"titleHtml":"ms sql server"},{"titleHtml":"ФИАС"},{"titleHtml":"xsd"},{"titleHtml":"xml"},{"titleHtml":"sqlxmlbulkload"}],"metadata":{"stylesUrls":[],"scriptUrls":[],"shareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F451720\u002Fae8c24272223cea678a767fdcd8cd908\u002F","shareImageWidth":1200,"shareImageHeight":630,"vkShareImageUrl":"https:\u002F\u002Fhabr.com\u002Fshare\u002Fpublication\u002F451720\u002Fae8c24272223cea678a767fdcd8cd908\u002F?format=vk","schemaJsonLd":"{\"@context\":\"http:\\\u002F\\\u002Fschema.org\",\"@type\":\"Article\",\"mainEntityOfPage\":{\"@type\":\"WebPage\",\"@id\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F451720\\\u002F\"},\"headline\":\"Загрузка ФИАС в БД на MSSQLSERVER подручными (SQLXMLBULKLOAD) средствами. Как это (наверное) не нужно делать\",\"datePublished\":\"2019-05-14T13:56:02+03:00\",\"dateModified\":\"2019-05-14T17:33:41+03:00\",\"author\":{\"@type\":\"Person\",\"name\":\"uaggster\"},\"publisher\":{\"@type\":\"Organization\",\"name\":\"Habr\",\"logo\":{\"@type\":\"ImageObject\",\"url\":\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fa_\\\u002Flk\\\u002F9m\\\u002Fa_lk9mjkccjox-zccjrpfolmkmq.png\"}},\"description\":\"Эпиграф: &laquo;Когда у тебя в руках молоток, всё вокруг кажется гвоздями&raquo;.   Как-то давным-давно, кажется &ndash; в прошлую пятницу, обходя окрестности офиса, озаботилось о...\",\"url\":\"https:\\\u002F\\\u002Fhabr.com\\\u002Fru\\\u002Fpost\\\u002F451720\\\u002F#post-content-body\",\"about\":[\"h_sql\",\"h_mssql\",\"h_db_admins\",\"f_develop\",\"f_admin\"],\"image\":[\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fk5\\\u002Fa-\\\u002Fn-\\\u002Fk5a-n-tnsbjaef3vygje4uhsc3w.jpeg\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002Fka\\\u002Fdq\\\u002F_y\\\u002Fkadq_y5tmrzvdvwygjinprtmhpu.png\",\"https:\\\u002F\\\u002Fhabrastorage.org\\\u002Fwebt\\\u002F-c\\\u002Fpd\\\u002Fjq\\\u002F-cpdjqt9bvrun2x69w0qujwp4rc.png\"]}","metaDescription":"Эпиграф:\r\n«Когда у тебя в руках молоток, всё вокруг кажется гвоздями».\r\n\r\n\r\nКак-то давным-давно, кажется – в прошлую пятницу, обходя окрестности офиса, озаботилось окаянное начальство тем, что я...","mainImageUrl":null,"amp":false},"polls":[],"commentsEnabled":true,"rulesRemindEnabled":false,"votesEnabled":true,"status":"published","plannedPublishTime":null,"checked":null,"isEditorial":false}},"articlesIds":{},"isLoading":false,"pagesCount":{},"route":{},"reasonsList":null,"view":"cards","lastVisitedRoute":{},"ssrCommentsArticleIds":[""],"karma":{}},"authorContribution":{"authors":{}},"betaTest":{"currentAnnouncement":null,"announcements":{},"announcementCards":null,"announcementComments":{},"announcementCommentThreads":{},"announcementCommentingStatuses":{},"archivedList":[]},"authorStatistics":{"articleRefs":{},"articleIds":{},"pagesCount":{},"route":{},"viewsCount":[],"maxStatsCount":{}},"career":{"seoLandings":[],"hubs":"sql,mssql,db_admins"},"comments":{"articleComments":{},"searchCommentsResults":null,"previewComment":null,"pagesCount":null,"commentAccess":{},"scrollParents":{},"pageArticleComments":{"lastViewedComment":0,"postId":null,"lastCommentTimestamp":"","moderated":[],"moderatedIds":[],"commentRoute":""}},"companies":{"companyRefs":{},"companyIds":{},"companyTopIds":{},"pagesCount":{},"companyProfiles":{},"companiesCategories":[],"companiesCategoriesTotalCount":0,"companiesWidgets":{},"companiesWorkers":{},"companiesFans":{},"route":{},"isLoading":false,"companyWorkersLoading":false,"companyFansLoading":false,"vacancies":{}},"companiesContribution":{"hubs":{},"flows":{},"companyRefs":{}},"companyHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"conversation":{"messages":[],"respondent":null,"isLoadMore":false},"conversations":{"conversations":[],"unreadCount":0,"pagesCount":0,"isLoadMore":false},"desktopState":{"desktopFl":null,"desktopHl":null,"isChecked":false,"isLoginDemanded":false},"dfp":{"slotsDict":{}},"docs":{"menu":{},"articles":{},"mainMenu":[],"loading":{"main":false,"dropdown":false,"article":false}},"feature":{"isProbablyVisible":"true"},"flows":{"flows":[{"alias":"develop","id":1,"route":{"name":"FLOW_PAGE","params":{"flowName":"develop"}}},{"alias":"admin","id":6,"route":{"name":"FLOW_PAGE","params":{"flowName":"admin"}}},{"alias":"design","id":2,"route":{"name":"FLOW_PAGE","params":{"flowName":"design"}}},{"alias":"management","id":3,"route":{"name":"FLOW_PAGE","params":{"flowName":"management"}}},{"alias":"marketing","id":4,"route":{"name":"FLOW_PAGE","params":{"flowName":"marketing"}}},{"alias":"popsci","id":7,"route":{"name":"FLOW_PAGE","params":{"flowName":"popsci"}}}]},"global":{"isPwa":false,"device":"desktop","isHabrCom":true},"hubs":{"hubRefs":{},"hubIds":{},"pagesCount":{},"isLoading":false,"route":{}},"hubsBlock":{"hubRefs":{},"hubIds":{}},"i18n":{"fl":"ru","hl":"ru"},"info":{"infoPage":{},"isLoading":true},"location":{"urlStruct":{"protocol":null,"slashes":null,"auth":null,"host":null,"port":null,"hostname":null,"hash":null,"search":null,"query":{},"pathname":null,"path":null,"href":""},"searchQuery":null},"me":{"user":null,"ppgDemanded":false,"karmaResetInfo":{"canReincarnate":null,"wasReincarnated":null,"currentScore":null},"notes":null},"mostReadingList":{"mostReadingListIds":[],"mostReadingListRefs":null,"promoPost":null},"pinnedPost":{"pinnedPost":null},"ppa":{"articles":{},"card":null,"transactions":null,"totalTransactions":null,"isAccessible":null},"projectsBlocks":{"activeBlocks":{}},"pullRefresh":{"shouldRefresh":false},"sandbox":{"articleIds":[],"articleRefs":{},"pagesCount":null,"route":{},"lastVisitedRoute":{},"isLoading":false},"settingsOther":{"inputs":{"uiLang":{"errors":[],"ref":null,"value":""},"articlesLangEnglish":{"errors":[],"ref":null,"value":false},"articlesLangRussian":{"errors":[],"ref":null,"value":false},"agreement":{"errors":[],"ref":null,"value":false},"email":{"errors":[],"ref":null,"value":true},"digest":{"errors":[],"ref":null,"value":true}}},"similarList":{"similarListIds":[],"similarListRefs":null},"ssr":{"error":null,"isDataLoaded":false,"isDataLoading":false,"isHydrationFailed":false,"isServer":false},"userHubsContribution":{"contributionRefs":{"hubRefs":{},"hubIds":{}}},"userInvites":{"availableInvites":0,"usedInvitesIds":[],"usedInvitesRefs":{},"usedInvitesPagesCount":0,"unusedInvitesIds":[],"unusedInvitesRefs":{},"unusedInvitesPagesCount":0},"users":{"authorRefs":{},"authorIds":{},"pagesCount":{},"authorProfiles":{},"userHubs":{},"userInvitations":{},"authorFollowers":{},"authorFollowed":{},"karmaStats":[],"statistics":null,"isLoading":false,"authorFollowersLoading":false,"authorFollowedLoading":false,"userHubsLoading":false,"userInvitationsLoading":false,"route":{}},"viewport":{"prevScrollY":{},"scrollY":0,"width":0},"tracker":{"items":{},"pagesCache":{},"markedViewedSilently":{},"markedRead":{},"unreadCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null},"unviewedCounters":{"applications":null,"system":null,"mentions":null,"subscribers":null,"posts_and_comments":null}}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script>
<script src="https://assets.habr.com/habr-web/js/chunk-vendors.c2c3fc9a.js" defer></script><script src="https://assets.habr.com/habr-web/js/app.c0af73e7.js" defer></script>



    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    </script>
  
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(24049213, "init", {
      defer:true,
      trackLinks:true,
      accurateTrackBounce:true,
      webvisor:false,
    });
  </script>
  <noscript>
    <div>
      <img src="https://mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" />
    </div>
  </noscript>
  
    <script type="text/javascript">
      window.addEventListener('load', function () {
        setTimeout(() => {
          const img = new Image();
          img.src = 'https://vk.com/rtrg?p=VK-RTRG-421343-57vKE';
        }, 0);
      });
    </script>
  
</body>
</html>
